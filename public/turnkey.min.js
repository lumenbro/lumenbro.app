/*! For license information please see turnkey.min.js.LICENSE.txt */
(()=>{var t,e,i,r,n={251:(t,e)=>{e.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,f=(1<<a)-1,u=f>>1,c=-7,h=i?n-1:0,l=i?-1:1,p=t[e+h];for(h+=l,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=l,c-=8);if(0===s)s=1-u;else{if(s===f)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=u}return(p?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,i,r,n,s){var o,a,f,u=8*s-n-1,c=(1<<u)-1,h=c>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),(e+=o+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(o++,f/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*f-1)*Math.pow(2,n),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[i+p]=255&a,p+=d,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;t[i+p]=255&o,p+=d,o/=256,u-=8);t[i+p-d]|=128*y}},410:(t,e,i)=>{"use strict";i.d(e,{n:()=>s});const r=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],n={sha256:1};function s(t){if(t&&!n[t]&&!n[t.toLowerCase()])throw new Error("Digest method not supported");return new o}class o{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!f||u>=8e3)&&(f=new ArrayBuffer(8e3),u=0),this._byte=new Uint8Array(f,u,80),this._word=new Int32Array(f,u,20),u+=80}update(t){if("string"==typeof t)return this._utf8(t);if(null==t)throw new TypeError("Invalid type: "+typeof t);const e=t.byteOffset,i=t.byteLength;let r=i/64|0,n=0;if(r&&!(3&e)&&!(this._size%64)){const i=new Int32Array(t.buffer,e,16*r);for(;r--;)this._int32(i,n>>2),n+=64;this._size+=n}if(1!==t.BYTES_PER_ELEMENT&&t.buffer){const r=new Uint8Array(t.buffer,e+n,i-n);return this._uint8(r)}return n===i?this:this._uint8(t,n)}_uint8(t,e){const{_byte:i,_word:r}=this,n=t.length;for(e|=0;e<n;){const s=this._size%64;let o=s;for(;e<n&&o<64;)i[o++]=t[e++];o>=64&&this._int32(r),this._size+=o-s}return this}_utf8(t){const{_byte:e,_word:i}=this,r=t.length;let n=this._sp;for(let s=0;s<r;){const o=this._size%64;let a=o;for(;s<r&&a<64;){let i=0|t.charCodeAt(s++);i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<55296||i>57343?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):n?(i=((1023&n)<<10)+(1023&i)+65536,e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i,n=0):n=i}a>=64&&(this._int32(i),i[0]=i[16]),this._size+=a-o}return this._sp=n,this}_int32(t,e){let{A:i,B:n,C:s,D:o,E:f,F:u,G:c,H:w}=this,b=0;for(e|=0;b<16;)a[b++]=h(t[e++]);for(b=16;b<64;b++)a[b]=m(a[b-2])+a[b-7]+g(a[b-15])+a[b-16]|0;for(b=0;b<64;b++){const t=w+y(f)+l(f,u,c)+r[b]+a[b]|0,e=d(i)+p(i,n,s)|0;w=c,c=u,u=f,f=o+t|0,o=s,s=n,n=i,i=t+e|0}this.A=i+this.A|0,this.B=n+this.B|0,this.C=s+this.C|0,this.D=o+this.D|0,this.E=f+this.E|0,this.F=u+this.F|0,this.G=c+this.G|0,this.H=w+this.H|0}digest(t){const{_byte:e,_word:i}=this;let r=this._size%64|0;for(e[r++]=128;3&r;)e[r++]=0;if(r>>=2,r>14){for(;r<16;)i[r++]=0;r=0,this._int32(i)}for(;r<16;)i[r++]=0;const n=8*this._size,s=(4294967295&n)>>>0,o=(n-s)/4294967296;return o&&(i[14]=h(o)),s&&(i[15]=h(s)),this._int32(i),"hex"===t?this._hex():this._bin()}_hex(){const{A:t,B:e,C:i,D:r,E:n,F:s,G:o,H:a}=this;return c(t)+c(e)+c(i)+c(r)+c(n)+c(s)+c(o)+c(a)}_bin(){const{A:t,B:e,C:i,D:r,E:n,F:s,G:o,H:a,_byte:f,_word:u}=this;return u[0]=h(t),u[1]=h(e),u[2]=h(i),u[3]=h(r),u[4]=h(n),u[5]=h(s),u[6]=h(o),u[7]=h(a),f.slice(0,32)}}const a=new Int32Array(64);let f,u=0;const c=t=>(t+4294967296).toString(16).substr(-8),h=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?t=>t:t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255,l=(t,e,i)=>i^t&(e^i),p=(t,e,i)=>t&e|i&(t|e),d=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),y=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),g=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,m=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10},615:(t,e,i)=>{"use strict";i.d(e,{Ak:()=>f,UT:()=>I,Xf:()=>w,fH:()=>m,hT:()=>g,u0:()=>a});var r=i(1848),n=i(8030);const s=BigInt(0),o=BigInt(1);function a(t,e){const i=e.negate();return t?i:e}function f(t,e){const i=(0,n.pS)(t.Fp,e.map(t=>t.Z));return e.map((e,r)=>t.fromAffine(e.toAffine(i[r])))}function u(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function c(t,e){u(t,e);const i=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:(0,r.OG)(t),maxNumber:i,shiftBy:BigInt(t)}}function h(t,e,i){const{windowSize:r,mask:n,maxNumber:s,shiftBy:a}=i;let f=Number(t&n),u=t>>a;f>r&&(f-=s,u+=o);const c=e*r;return{nextN:u,offset:c+Math.abs(f)-1,isZero:0===f,isNeg:f<0,isNegF:e%2!=0,offsetF:c}}const l=new WeakMap,p=new WeakMap;function d(t){return p.get(t)||1}function y(t){if(t!==s)throw new Error("invalid wNAF")}class g{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,i=this.ZERO){let r=t;for(;e>s;)e&o&&(i=i.add(r)),r=r.double(),e>>=o;return i}precomputeWindow(t,e){const{windows:i,windowSize:r}=c(e,this.bits),n=[];let s=t,o=s;for(let t=0;t<i;t++){o=s,n.push(o);for(let t=1;t<r;t++)o=o.add(s),n.push(o);s=o.double()}return n}wNAF(t,e,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let r=this.ZERO,n=this.BASE;const s=c(t,this.bits);for(let t=0;t<s.windows;t++){const{nextN:o,offset:f,isZero:u,isNeg:c,isNegF:l,offsetF:p}=h(i,t,s);i=o,u?n=n.add(a(l,e[p])):r=r.add(a(c,e[f]))}return y(i),{p:r,f:n}}wNAFUnsafe(t,e,i,r=this.ZERO){const n=c(t,this.bits);for(let t=0;t<n.windows&&i!==s;t++){const{nextN:s,offset:o,isZero:a,isNeg:f}=h(i,t,n);if(i=s,!a){const t=e[o];r=r.add(f?t.negate():t)}}return y(i),r}getPrecomputes(t,e,i){let r=l.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&("function"==typeof i&&(r=i(r)),l.set(e,r))),r}cached(t,e,i){const r=d(t);return this.wNAF(r,this.getPrecomputes(r,t,i),e)}unsafe(t,e,i,r){const n=d(t);return 1===n?this._unsafeLadder(t,e,r):this.wNAFUnsafe(n,this.getPrecomputes(n,t,i),e,r)}createCache(t,e){u(e,this.bits),p.set(t,e),l.delete(t)}hasCache(t){return 1!==d(t)}}function m(t,e,i,r){let n=e,a=t.ZERO,f=t.ZERO;for(;i>s||r>s;)i&o&&(a=a.add(n)),r&o&&(f=f.add(n)),n=n.double(),i>>=o,r>>=o;return{p1:a,p2:f}}function w(t,e,i,n){(function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})})(i,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}(n,e);const s=i.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,f=(0,r.dJ)(BigInt(s));let u=1;f>12?u=f-3:f>4?u=f-2:f>0&&(u=2);const c=(0,r.OG)(u),h=new Array(Number(c)+1).fill(a);let l=a;for(let t=Math.floor((e.BITS-1)/u)*u;t>=0;t-=u){h.fill(a);for(let e=0;e<o;e++){const r=n[e],s=Number(r>>BigInt(t)&c);h[s]=h[s].add(i[e])}let e=a;for(let t=h.length-1,i=a;t>0;t--)i=i.add(h[t]),e=e.add(i);if(l=l.add(e),0!==t)for(let t=0;t<u;t++)l=l.double()}return l}function b(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,n.jr)(e),e}return(0,n.D0)(t)}function I(t,e,i={}){if(!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const i=e[t];if(!("bigint"==typeof i&&i>s))throw new Error(`CURVE.${t} must be positive bigint`)}const r=b(e.p,i.Fp),n=b(e.n,i.Fn),o=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of o)if(!r.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:n}}},1307:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});const r=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let i=0;i<t.length;i++){const r=t.charAt(i),n=r.charCodeAt(0);if(255!==e[n])throw new TypeError(r+" is ambiguous");e[n]=i}const i=t.length,r=t.charAt(0),n=Math.log(i)/Math.log(256),s=Math.log(256)/Math.log(i);function o(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let s=0,o=0,a=0;for(;t[s]===r;)o++,s++;const f=(t.length-s)*n+1>>>0,u=new Uint8Array(f);for(;s<t.length;){const r=t.charCodeAt(s);if(r>255)return;let n=e[r];if(255===n)return;let o=0;for(let t=f-1;(0!==n||o<a)&&-1!==t;t--,o++)n+=i*u[t]>>>0,u[t]=n%256>>>0,n=n/256>>>0;if(0!==n)throw new Error("Non-zero carry");a=o,s++}let c=f-a;for(;c!==f&&0===u[c];)c++;const h=new Uint8Array(o+(f-c));let l=o;for(;c!==f;)h[l++]=u[c++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let n=0,o=0,a=0;const f=e.length;for(;a!==f&&0===e[a];)a++,n++;const u=(f-a)*s+1>>>0,c=new Uint8Array(u);for(;a!==f;){let t=e[a],r=0;for(let e=u-1;(0!==t||r<o)&&-1!==e;e--,r++)t+=256*c[e]>>>0,c[e]=t%i>>>0,t=t/i>>>0;if(0!==t)throw new Error("Non-zero carry");o=r,a++}let h=u-o;for(;h!==u&&0===c[h];)h++;let l=r.repeat(n);for(;h<u;++h)l+=t.charAt(c[h]);return l},decodeUnsafe:o,decode:function(t){const e=o(t);if(e)return e;throw new Error("Non-base"+i+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1454:(t,e,i)=>{"use strict";i.d(e,{w:()=>s});var r=i(2531);class n extends r.Vw{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,r.sd)(t);const i=(0,r.ZJ)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?t.create().update(i).digest():i);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),(0,r.uH)(s)}update(t){return(0,r.CC)(this),this.iHash.update(t),this}digestInto(t){(0,r.CC)(this),(0,r.DO)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:i,finished:r,destroyed:n,blockLen:s,outputLen:o}=this;return t.finished=r,t.destroyed=n,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(t,e,i)=>new n(t,e).update(i).digest();s.create=(t,e)=>new n(t,e)},1848:(t,e,i)=>{"use strict";i.d(e,{DS:()=>I,OG:()=>w,Ph:()=>u,aK:()=>g,dJ:()=>m,e8:()=>o,ex:()=>d,fg:()=>b,lX:()=>c,lq:()=>h,qj:()=>p,x:()=>E,z:()=>l,zW:()=>a});var r=i(2531);const n=BigInt(0),s=BigInt(1);function o(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}function a(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function f(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?n:BigInt("0x"+t)}function u(t){return f((0,r.My)(t))}function c(t){return(0,r.DO)(t),f((0,r.My)(Uint8Array.from(t).reverse()))}function h(t,e){return(0,r.aT)(t.toString(16).padStart(2*e,"0"))}function l(t,e){return h(t,e).reverse()}function p(t,e,i){let n;if("string"==typeof e)try{n=(0,r.aT)(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!(0,r.aY)(e))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const s=n.length;if("number"==typeof i&&s!==i)throw new Error(t+" of length "+i+" expected, got "+s);return n}function d(t,e){if(t.length!==e.length)return!1;let i=0;for(let r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i}const y=t=>"bigint"==typeof t&&n<=t;function g(t,e,i,r){if(!function(t,e,i){return y(t)&&y(e)&&y(i)&&e<=t&&t<i}(e,i,r))throw new Error("expected valid "+t+": "+i+" <= n < "+r+", got "+e)}function m(t){let e;for(e=0;t>n;t>>=s,e+=1);return e}const w=t=>(s<<BigInt(t))-s;function b(t,e,i){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof i)throw new Error("hmacFn must be a function");const n=t=>new Uint8Array(t),s=t=>Uint8Array.of(t);let o=n(t),a=n(t),f=0;const u=()=>{o.fill(1),a.fill(0),f=0},c=(...t)=>i(a,o,...t),h=(t=n(0))=>{a=c(s(0),t),o=c(),0!==t.length&&(a=c(s(1),t),o=c())},l=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const i=[];for(;t<e;){o=c();const e=o.slice();i.push(e),t+=o.length}return(0,r.Id)(...i)};return(t,e)=>{let i;for(u(),h(t);!(i=e(l()));)h();return u(),i}}function I(t,e,i={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function r(e,i,r){const n=t[e];if(r&&void 0===n)return;const s=typeof n;if(s!==i||null===n)throw new Error(`param "${e}" is invalid: expected ${i}, got ${s}`)}Object.entries(e).forEach(([t,e])=>r(t,e,!1)),Object.entries(i).forEach(([t,e])=>r(t,e,!0))}function E(t){const e=new WeakMap;return(i,...r)=>{const n=e.get(i);if(void 0!==n)return n;const s=t(i,...r);return e.set(i,s),s}}},2531:(t,e,i)=>{"use strict";i.d(e,{Vw:()=>T,DO:()=>o,CC:()=>f,sd:()=>a,Fe:()=>s,Ht:()=>u,My:()=>w,uH:()=>h,Id:()=>A,qj:()=>S,O8:()=>l,xS:()=>B,aT:()=>E,aY:()=>n,po:()=>O,Ow:()=>p,fd:()=>y,ZJ:()=>v,DH:()=>c,AI:()=>_});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function n(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function o(t,...e){if(!n(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function a(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");s(t.outputLen),s(t.blockLen)}function f(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u(t,e){o(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function c(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function h(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function l(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function p(t,e){return t<<32-e|t>>>e}function d(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const y=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?t=>t:function(t){for(let e=0;e<t.length;e++)t[e]=d(t[e]);return t},g=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),m=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function w(t){if(o(t),g)return t.toHex();let e="";for(let i=0;i<t.length;i++)e+=m[t[i]];return e}const b={_0:48,_9:57,A:65,F:70,a:97,f:102};function I(t){return t>=b._0&&t<=b._9?t-b._0:t>=b.A&&t<=b.F?t-(b.A-10):t>=b.a&&t<=b.f?t-(b.a-10):void 0}function E(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(g)return Uint8Array.fromHex(t);const e=t.length,i=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(i);for(let e=0,n=0;e<i;e++,n+=2){const i=I(t.charCodeAt(n)),s=I(t.charCodeAt(n+1));if(void 0===i||void 0===s){const e=t[n]+t[n+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+n)}r[e]=16*i+s}return r}function _(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function v(t){return"string"==typeof t&&(t=_(t)),o(t),t}function A(...t){let e=0;for(let i=0;i<t.length;i++){const r=t[i];o(r),e+=r.length}const i=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const n=t[e];i.set(n,r),r+=n.length}return i}class T{}function S(t){const e=e=>t().update(v(e)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e}function B(t){const e=(e,i)=>t(i).update(v(e)).digest(),i=t({});return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=e=>t(e),e}function O(t=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(t));if(r&&"function"==typeof r.randomBytes)return Uint8Array.from(r.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}},4840:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(8226),n=i(1307);const s=function(t){function e(e){var i=e.slice(0,-4),r=e.slice(-4),n=t(i);if(!(r[0]^n[0]|r[1]^n[1]|r[2]^n[2]|r[3]^n[3]))return i}return{encode:function(e){var i=Uint8Array.from(e),r=t(i),s=i.length+4,o=new Uint8Array(s);return o.set(i,0),o.set(r.subarray(0,4),i.length),n.default.encode(o)},decode:function(t){var i=e(n.default.decode(t));if(null==i)throw new Error("Invalid checksum");return i},decodeUnsafe:function(t){var i=n.default.decodeUnsafe(t);if(null!=i)return e(i)}}}(function(t){return(0,r.sc)((0,r.sc)(t))})},4945:(t,e,i)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i.g&&i.g,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==i.g&&i.g||{},n="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in r,f="ArrayBuffer"in r;if(f)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function y(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function g(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function m(t){var e=new FileReader,i=g(e);return e.readAsArrayBuffer(t),i}function w(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():f&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=w(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=w(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return y(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(o)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,i,r,n,s=y(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,i=g(e=new FileReader),n=(r=/charset=([A-Za-z0-9_-]+)/.exec(t.type))?r[1]:"utf-8",e.readAsText(t,n),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),r=0;r<e.length;r++)i[r]=String.fromCharCode(e[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=h(t),e=l(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},d.prototype.delete=function(t){delete this.map[h(t)]},d.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},d.prototype.set=function(t,e){this.map[h(t)]=l(e)},d.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},d.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),p(t)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),p(t)},d.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),p(t)},s&&(d.prototype[Symbol.iterator]=d.prototype.entries);var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(t,e){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,s=(e=e||{}).body;if(t instanceof E){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=(i=e.method||this.method||"GET").toUpperCase(),I.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(n))}}),e}function v(t,e){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var A=[301,302,303,307,308];v.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function T(t,i){return new Promise(function(n,s){var a=new E(t,i);if(a.signal&&a.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}if(u.onload=function(){var t,e,i={statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();try{e.append(r,n)}catch(t){console.warn("Response "+t.message)}}}),e)};0===a.url.indexOf("file://")&&(u.status<200||u.status>599)?i.status=200:i.status=u.status,i.url="responseURL"in u?u.responseURL:i.headers.get("X-Request-URL");var r="response"in u?u.response:u.responseText;setTimeout(function(){n(new v(r,i))},0)},u.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){s(new e.DOMException("Aborted","AbortError"))},0)},u.open(a.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":f&&(u.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof d||r.Headers&&i.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(i.headers).forEach(function(t){p.push(h(t)),u.setRequestHeader(t,l(i.headers[t]))}),a.headers.forEach(function(t,e){-1===p.indexOf(e)&&u.setRequestHeader(e,t)})}else a.headers.forEach(function(t,e){u.setRequestHeader(e,t)});a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}T.polyfill=!0,r.fetch||(r.fetch=T,r.Headers=d,r.Request=E,r.Response=v),e.Headers=d,e.Request=E,e.Response=v,e.fetch=T,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e},6769:(t,e,i)=>{"use strict";i.d(e,{s9:()=>R});var r=i(8442),n=i(1454),s=i(2531),o=i(1848),a=i(615),f=i(8030);const u=(t,e)=>(t+(t>=0?e:-e)/y)/e;function c(t){void 0!==t.lowS&&(0,o.e8)("lowS",t.lowS),void 0!==t.prehash&&(0,o.e8)("prehash",t.prehash)}class h extends Error{constructor(t=""){super(t)}}const l={Err:h,_tlv:{encode:(t,e)=>{const{Err:i}=l;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(1&e.length)throw new i("tlv.encode: unpadded data");const r=e.length/2,n=(0,o.zW)(r);if(n.length/2&128)throw new i("tlv.encode: long form length too big");const s=r>127?(0,o.zW)(n.length/2|128):"";return(0,o.zW)(t)+s+n+e},decode(t,e){const{Err:i}=l;let r=0;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new i("tlv.decode: wrong tlv");const n=e[r++];let s=0;if(128&n){const t=127&n;if(!t)throw new i("tlv.decode(long): indefinite length not supported");if(t>4)throw new i("tlv.decode(long): byte length is too big");const o=e.subarray(r,r+t);if(o.length!==t)throw new i("tlv.decode: length bytes not complete");if(0===o[0])throw new i("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=t,s<128)throw new i("tlv.decode(long): not minimal encoding")}else s=n;const o=e.subarray(r,r+s);if(o.length!==s)throw new i("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=l;if(t<p)throw new e("integer: negative integers are not allowed");let i=(0,o.zW)(t);if(8&Number.parseInt(i[0],16)&&(i="00"+i),1&i.length)throw new e("unexpected DER parsing assertion: unpadded hex");return i},decode(t){const{Err:e}=l;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return(0,o.Ph)(t)}},toSig(t){const{Err:e,_int:i,_tlv:r}=l,n=(0,o.qj)("signature",t),{v:s,l:a}=r.decode(48,n);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:f,l:u}=r.decode(2,s),{v:c,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:i.decode(f),s:i.decode(c)}},hexFromSig(t){const{_tlv:e,_int:i}=l,r=e.encode(2,i.encode(t.r))+e.encode(2,i.encode(t.s));return e.encode(48,r)}},p=BigInt(0),d=BigInt(1),y=BigInt(2),g=BigInt(3),m=BigInt(4);function w(t,e){const{BYTES:i}=t;let r;if("bigint"==typeof e)r=e;else{let n=(0,o.qj)("private key",e);try{r=t.fromBytes(n)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function b(t){return Uint8Array.of(t?2:3)}function I(t,e,i={}){(0,s.sd)(e),(0,o.DS)(i,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=i.randomBytes||s.po,a=i.hmac||((t,...i)=>(0,n.w)(e,t,(0,s.Id)(...i))),{Fp:u,Fn:h}=t,{ORDER:g,BITS:m}=h,I=(0,f.Tp)(g),E={secret:h.BYTES,public:1+u.BYTES,publicUncompressed:1+2*u.BYTES,signature:2*h.BYTES,seed:I};function _(t){return t>g>>d}function v(t,e){if(!h.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..CURVE.n`)}class A{constructor(t,e,i){v("r",t),v("s",e),this.r=t,this.s=e,null!=i&&(this.recovery=i),Object.freeze(this)}static fromBytes(t,e="compact"){if("compact"===e){const e=h.BYTES;(0,s.DO)(t,2*e);const i=t.subarray(0,e),r=t.subarray(e,2*e);return new A(h.fromBytes(i),h.fromBytes(r))}if("der"===e){(0,s.DO)(t);const{r:e,s:i}=l.toSig(t);return new A(e,i)}throw new Error("invalid format")}static fromHex(t,e){return this.fromBytes((0,s.aT)(t),e)}addRecoveryBit(t){return new A(this.r,this.s,t)}recoverPublicKey(e){const i=u.ORDER,{r,s:n,recovery:a}=this;if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");if(g*y<i&&a>1)throw new Error("recovery id is ambiguous for h>1 curve");const f=2===a||3===a?r+g:r;if(!u.isValid(f))throw new Error("recovery id 2 or 3 invalid");const c=u.toBytes(f),l=t.fromHex((0,s.Id)(b(!(1&a)),c)),p=h.inv(f),d=x((0,o.qj)("msgHash",e)),m=h.create(-d*p),w=h.create(n*p),I=t.BASE.multiplyUnsafe(m).add(l.multiplyUnsafe(w));if(I.is0())throw new Error("point at infinify");return I.assertValidity(),I}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,h.neg(this.s),this.recovery):this}toBytes(t="compact"){if("compact"===t)return(0,s.Id)(h.toBytes(this.r),h.toBytes(this.s));if("der"===t)return(0,s.aT)(l.hexFromSig(this));throw new Error("invalid format")}toHex(t){return(0,s.My)(this.toBytes(t))}assertValidity(){}static fromCompact(t){return A.fromBytes((0,o.qj)("sig",t),"compact")}static fromDER(t){return A.fromBytes((0,o.qj)("sig",t),"der")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,s.My)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,s.My)(this.toBytes("compact"))}}function T(t){try{return!!w(h,t)}catch(t){return!1}}function S(t=r(I)){return(0,f.qy)(t,g)}const B={isValidSecretKey:T,isValidPublicKey:function(e,i){try{const r=e.length;return!(!0===i&&r!==E.public||!1===i&&r!==E.publicUncompressed||!t.fromBytes(e))}catch(t){return!1}},randomSecretKey:S,isValidPrivateKey:T,randomPrivateKey:S,normPrivateKeyToScalar:t=>w(h,t),precompute:(e=8,i=t.BASE)=>i.precompute(e,!1)};function O(e,i=!0){return t.BASE.multiply(w(h,e)).toBytes(i)}function U(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;if(h.allowedLengths||E.secret===E.public)return;const i=(0,o.qj)("key",e).length;return i===E.public||i===E.publicUncompressed}const R=i.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=(0,o.Ph)(t),i=8*t.length-m;return i>0?e>>BigInt(i):e},x=i.bits2int_modN||function(t){return h.create(R(t))},z=(0,o.OG)(m);function P(t){return(0,o.aK)("num < 2^"+m,t,p,z),h.toBytes(t)}const C={lowS:i.lowS,prehash:!1},N={lowS:i.lowS,prehash:!1};return t.BASE.precompute(8),Object.freeze({keygen:function(t){const e=B.randomSecretKey(t);return{secretKey:e,publicKey:O(e)}},getPublicKey:O,sign:function(i,n,f=C){const{seed:u,k2sig:l}=function(i,n,a=C){if(["recovered","canonical"].some(t=>t in a))throw new Error("sign() legacy options not supported");let{lowS:f,prehash:u,extraEntropy:l}=a;null==f&&(f=!0),i=(0,o.qj)("msgHash",i),c(a),u&&(i=(0,o.qj)("prehashed msgHash",e(i)));const y=x(i),g=w(h,n),m=[P(g),P(y)];if(null!=l&&!1!==l){const t=!0===l?r(E.secret):l;m.push((0,o.qj)("extraEntropy",t))}const b=(0,s.Id)(...m),I=y;return{seed:b,k2sig:function(e){const i=R(e);if(!h.isValidNot0(i))return;const r=h.inv(i),n=t.BASE.multiply(i).toAffine(),s=h.create(n.x);if(s===p)return;const o=h.create(r*h.create(I+s*g));if(o===p)return;let a=(n.x===s?0:2)|Number(n.y&d),u=o;return f&&_(o)&&(u=function(t){return _(t)?h.neg(t):t}(o),a^=1),new A(s,u,a)}}}(i,n,f);return(0,o.fg)(e.outputLen,h.BYTES,a)(u,l)},verify:function(i,r,n,a=N){const f=i;r=(0,o.qj)("msgHash",r),n=(0,o.qj)("publicKey",n),c(a);const{lowS:u,prehash:p,format:d}=a;if("strict"in a)throw new Error("options.strict was renamed to lowS");let y,g;if(void 0===d){const t="string"==typeof f||(0,s.aY)(f),e=!t&&null!==f&&"object"==typeof f&&"bigint"==typeof f.r&&"bigint"==typeof f.s;if(!t&&!e)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(e)y=new A(f.r,f.s);else if(t){try{y=A.fromDER(f)}catch(t){if(!(t instanceof l.Err))throw t}if(!y)try{y=A.fromCompact(f)}catch(t){return!1}}}else if("compact"===d||"der"===d){if("string"!=typeof f&&!(0,s.aY)(f))throw new Error('"der" / "compact" format expects Uint8Array signature');y=A.fromBytes((0,o.qj)("sig",f),d)}else{if("js"!==d)throw new Error('format must be "compact", "der" or "js"');if(!(f instanceof A))throw new Error('"js" format expects Signature instance');y=f}if(!y)return!1;try{if(g=t.fromHex(n),u&&y.hasHighS())return!1;p&&(r=e(r));const{r:i,s}=y,o=x(r),a=h.inv(s),f=h.create(o*a),c=h.create(i*a),l=t.BASE.multiplyUnsafe(f).add(g.multiplyUnsafe(c));return!l.is0()&&h.create(l.x)===i}catch(t){return!1}},getSharedSecret:function(e,i,r=!0){if(!0===U(e))throw new Error("first arg must be private key");if(!1===U(i))throw new Error("second arg must be public key");const n=w(h,e);return t.fromHex(i).multiply(n).toBytes(r)},utils:B,Point:t,Signature:A,info:{type:"weierstrass",lengths:E,publicKeyHasPrefix:!0}})}function E(t){const{CURVE:e,curveOpts:i,hash:r,ecdsaOpts:n}=function(t){const{CURVE:e,curveOpts:i}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},i=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:i,Fn:(0,f.D0)(e.n,{BITS:t.nBitLength,allowedLengths:r,modOnDecode:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:i,hash:t.hash,ecdsaOpts:r}}(t);return function(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}(t,I(function(t,e={}){const{Fp:i,Fn:r}=(0,a.UT)("weierstrass",t,e),{h:n,n:f}=t;(0,o.DS)(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!i.is0(t.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function h(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const l=e.toBytes||function(t,e,r){const{x:n,y:a}=e.toAffine(),f=i.toBytes(n);if((0,o.e8)("isCompressed",r),r){h();const t=!i.isOdd(a);return(0,s.Id)(b(t),f)}return(0,s.Id)(Uint8Array.of(4),f,i.toBytes(a))},y=e.fromBytes||function(t){(0,s.DO)(t);const e=i.BYTES,r=e+1,n=2*e+1,o=t.length,a=t[0],f=t.subarray(1);if(o!==r||2!==a&&3!==a){if(o===n&&4===a){const t=i.fromBytes(f.subarray(0*e,1*e)),r=i.fromBytes(f.subarray(1*e,2*e));if(!E(t,r))throw new Error("bad point: is not on curve");return{x:t,y:r}}throw new Error(`bad point: got length ${o}, expected compressed=${r} or uncompressed=${n}`)}{const t=i.fromBytes(f);if(!i.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=I(t);let r;try{r=i.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}return h(),!(1&~a)!==i.isOdd(r)&&(r=i.neg(r)),{x:t,y:r}}},I=function(t,e,i){return function(r){const n=t.sqr(r),s=t.mul(n,r);return t.add(t.add(s,t.mul(r,e)),i)}}(i,t.a,t.b);function E(t,e){const r=i.sqr(e),n=I(t);return i.eql(r,n)}if(!E(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const _=i.mul(i.pow(t.a,g),m),v=i.mul(i.sqr(t.b),BigInt(27));if(i.is0(i.add(_,v)))throw new Error("bad curve params: a or b");function A(t,e,r=!1){if(!i.isValid(e)||r&&i.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function T(t){if(!(t instanceof R))throw new Error("ProjectivePoint expected")}function S(t){if(!c||!c.basises)throw new Error("no endo");return function(t,e,i){const[[r,n],[s,a]]=e,f=u(a*t,i),c=u(-n*t,i);let h=t-f*r-c*s,l=-f*n-c*a;const y=h<p,g=l<p;y&&(h=-h),g&&(l=-l);const m=(0,o.OG)(Math.ceil((0,o.dJ)(i)/2))+d;if(h<p||h>=m||l<p||l>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:y,k1:h,k2neg:g,k2:l}}(t,c.basises,r.ORDER)}const B=(0,o.x)((t,e)=>{const{X:r,Y:n,Z:s}=t;if(i.eql(s,i.ONE))return{x:r,y:n};const o=t.is0();null==e&&(e=o?i.ONE:i.inv(s));const a=i.mul(r,e),f=i.mul(n,e),u=i.mul(s,e);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(u,i.ONE))throw new Error("invZ was invalid");return{x:a,y:f}}),O=(0,o.x)(t=>{if(t.is0()){if(e.allowInfinityPoint&&!i.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:n}=t.toAffine();if(!i.isValid(r)||!i.isValid(n))throw new Error("bad point: x or y not field elements");if(!E(r,n))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(t,e,r,n,s){return r=new R(i.mul(r.X,t),r.Y,r.Z),e=(0,a.u0)(n,e),r=(0,a.u0)(s,r),e.add(r)}class R{constructor(t,e,i){this.X=A("x",t),this.Y=A("y",e,!0),this.Z=A("z",i),Object.freeze(this)}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!i.isValid(e)||!i.isValid(r))throw new Error("invalid affine point");if(t instanceof R)throw new Error("projective point not allowed");return i.is0(e)&&i.is0(r)?R.ZERO:new R(e,r,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(t){return(0,a.Ak)(R,t)}static fromBytes(t){return(0,s.DO)(t),R.fromHex(t)}static fromHex(t){const e=R.fromAffine(y((0,o.qj)("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return R.BASE.multiply(w(r,t))}static msm(t,e){return(0,a.Xf)(R,r,t,e)}_setWindowSize(t){this.precompute(t)}precompute(t=8,e=!0){return z.createCache(this,t),e||this.multiply(g),this}assertValidity(){O(this)}hasEvenY(){const{y:t}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(t)}equals(t){T(t);const{X:e,Y:r,Z:n}=this,{X:s,Y:o,Z:a}=t,f=i.eql(i.mul(e,a),i.mul(s,n)),u=i.eql(i.mul(r,a),i.mul(o,n));return f&&u}negate(){return new R(this.X,i.neg(this.Y),this.Z)}double(){const{a:e,b:r}=t,n=i.mul(r,g),{X:s,Y:o,Z:a}=this;let f=i.ZERO,u=i.ZERO,c=i.ZERO,h=i.mul(s,s),l=i.mul(o,o),p=i.mul(a,a),d=i.mul(s,o);return d=i.add(d,d),c=i.mul(s,a),c=i.add(c,c),f=i.mul(e,c),u=i.mul(n,p),u=i.add(f,u),f=i.sub(l,u),u=i.add(l,u),u=i.mul(f,u),f=i.mul(d,f),c=i.mul(n,c),p=i.mul(e,p),d=i.sub(h,p),d=i.mul(e,d),d=i.add(d,c),c=i.add(h,h),h=i.add(c,h),h=i.add(h,p),h=i.mul(h,d),u=i.add(u,h),p=i.mul(o,a),p=i.add(p,p),h=i.mul(p,d),f=i.sub(f,h),c=i.mul(p,l),c=i.add(c,c),c=i.add(c,c),new R(f,u,c)}add(e){T(e);const{X:r,Y:n,Z:s}=this,{X:o,Y:a,Z:f}=e;let u=i.ZERO,c=i.ZERO,h=i.ZERO;const l=t.a,p=i.mul(t.b,g);let d=i.mul(r,o),y=i.mul(n,a),m=i.mul(s,f),w=i.add(r,n),b=i.add(o,a);w=i.mul(w,b),b=i.add(d,y),w=i.sub(w,b),b=i.add(r,s);let I=i.add(o,f);return b=i.mul(b,I),I=i.add(d,m),b=i.sub(b,I),I=i.add(n,s),u=i.add(a,f),I=i.mul(I,u),u=i.add(y,m),I=i.sub(I,u),h=i.mul(l,b),u=i.mul(p,m),h=i.add(u,h),u=i.sub(y,h),h=i.add(y,h),c=i.mul(u,h),y=i.add(d,d),y=i.add(y,d),m=i.mul(l,m),b=i.mul(p,b),y=i.add(y,m),m=i.sub(d,m),m=i.mul(l,m),b=i.add(b,m),d=i.mul(y,b),c=i.add(c,d),d=i.mul(I,b),u=i.mul(w,u),u=i.sub(u,d),d=i.mul(w,y),h=i.mul(I,h),h=i.add(h,d),new R(u,c,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(R.ZERO)}multiply(t){const{endo:i}=e;if(!r.isValidNot0(t))throw new Error("invalid scalar: out of range");let n,s;const o=t=>z.cached(this,t,t=>(0,a.Ak)(R,t));if(i){const{k1neg:e,k1:r,k2neg:a,k2:f}=S(t),{p:u,f:c}=o(r),{p:h,f:l}=o(f);s=c.add(l),n=U(i.beta,u,h,e,a)}else{const{p:e,f:i}=o(t);n=e,s=i}return(0,a.Ak)(R,[n,s])[0]}multiplyUnsafe(t){const{endo:i}=e,n=this;if(!r.isValid(t))throw new Error("invalid scalar: out of range");if(t===p||n.is0())return R.ZERO;if(t===d)return n;if(z.hasCache(this))return this.multiply(t);if(i){const{k1neg:e,k1:r,k2neg:s,k2:o}=S(t),{p1:f,p2:u}=(0,a.fH)(R,n,r,o);return U(i.beta,f,u,e,s)}return z.unsafe(n,t)}multiplyAndAddUnsafe(t,e,i){const r=this.multiplyUnsafe(e).add(t.multiplyUnsafe(i));return r.is0()?void 0:r}toAffine(t){return B(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return n===d||(t?t(R,this):z.unsafe(this,f).is0())}clearCofactor(){const{clearCofactor:t}=e;return n===d?this:t?t(R,this):this.multiplyUnsafe(n)}isSmallOrder(){return this.multiplyUnsafe(n).is0()}toBytes(t=!0){return(0,o.e8)("isCompressed",t),this.assertValidity(),l(R,this,t)}toRawBytes(t=!0){return this.toBytes(t)}toHex(t=!0){return(0,s.My)(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}R.BASE=new R(t.Gx,t.Gy,i.ONE),R.ZERO=new R(i.ZERO,i.ONE,i.ZERO),R.Fp=i,R.Fn=r;const x=r.BITS,z=new a.hT(R,e.endo?Math.ceil(x/2):x);return R}(e,i),r,n))}function _(t,e){const i=e=>E({...t,hash:e});return{...i(e),create:i}}const v={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},A={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},T={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},S=(0,f.D0)(v.p),B=(0,f.D0)(A.p),O=(0,f.D0)(T.p),U=_({...v,Fp:S,lowS:!1},r.sc),R=(_({...A,Fp:B,lowS:!1},r.qt),_({...T,Fp:O,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},r.Zf),U)},6862:(t,e,i)=>{"use strict";i.d(e,{Ev:()=>r,JD:()=>n,Ks:()=>f,el:()=>o,pD:()=>a,up:()=>s});const r=32;function n(t){if(65!==t.length||4!==t[0])throw new Error("Invalid uncompressed P-256 key");const e=t.slice(1,33),i=t.slice(33,65);if(32!==e.length||32!==i.length)throw new Error("Invalid x or y length");const r=1&i[31]?3:2,n=new Uint8Array(33);return n[0]=r,n.set(e,1),n}function s(t){const e=function(t){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let i="";for(e=0;e<t.length;e+=3){const r=[void 0,void 0,void 0,void 0];r[0]=t.charCodeAt(e)>>2,r[1]=(3&t.charCodeAt(e))<<4,t.length>e+1&&(r[1]|=t.charCodeAt(e+1)>>4,r[2]=(15&t.charCodeAt(e+1))<<2),t.length>e+2&&(r[2]|=t.charCodeAt(e+2)>>6,r[3]=63&t.charCodeAt(e+2));for(let t=0;t<r.length;t++)void 0===r[t]?i+="=":i+=u(r[t])}return i}(t);return function(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(e)}function o(t,e){const i=t.padStart(2*Math.ceil(t.length/2),"0");return s(f(i,e).reduce((t,e)=>t+String.fromCharCode(e),""))}function a(t){return t.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}const f=(t,e)=>{if(!t||t.length%2!=0||!/^[0-9A-Fa-f]+$/.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);const i=new Uint8Array(t.match(/../g).map(t=>parseInt(t,16)));if(!e)return i;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let r=new Uint8Array(e);return r.set(i,e-i.length),r};function u(t){if(t>=0&&t<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t]}},7238:(t,e,i)=>{"use strict";i.d(e,{lY:()=>I,mh:()=>E});var r=i(9271),n=i(2531);const s=BigInt(0),o=BigInt(1),a=BigInt(2),f=BigInt(7),u=BigInt(256),c=BigInt(113),h=[],l=[],p=[];for(let t=0,e=o,i=1,r=0;t<24;t++){[i,r]=[r,(2*i+3*r)%5],h.push(2*(5*r+i)),l.push((t+1)*(t+2)/2%64);let n=s;for(let t=0;t<7;t++)e=(e<<o^(e>>f)*c)%u,e&a&&(n^=o<<(o<<BigInt(t))-o);p.push(n)}const d=(0,r.lD)(p,!0),y=d[0],g=d[1],m=(t,e,i)=>i>32?(0,r.WM)(t,e,i):(0,r.P5)(t,e,i),w=(t,e,i)=>i>32?(0,r.im)(t,e,i):(0,r.B4)(t,e,i);class b extends n.Vw{constructor(t,e,i,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=e,this.outputLen=i,this.enableXOF=r,this.rounds=s,(0,n.Fe)(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,n.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,n.fd)(this.state32),function(t,e=24){const i=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let e=0;e<10;e++)i[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const r=(e+8)%10,n=(e+2)%10,s=i[n],o=i[n+1],a=m(s,o,1)^i[r],f=w(s,o,1)^i[r+1];for(let i=0;i<50;i+=10)t[e+i]^=a,t[e+i+1]^=f}let e=t[2],n=t[3];for(let i=0;i<24;i++){const r=l[i],s=m(e,n,r),o=w(e,n,r),a=h[i];e=t[a],n=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let r=0;r<10;r++)i[r]=t[e+r];for(let r=0;r<10;r++)t[e+r]^=~i[(r+2)%10]&i[(r+4)%10]}t[0]^=y[r],t[1]^=g[r]}(0,n.uH)(i)}(this.state32,this.rounds),(0,n.fd)(this.state32),this.posOut=0,this.pos=0}update(t){(0,n.CC)(this),t=(0,n.ZJ)(t),(0,n.DO)(t);const{blockLen:e,state:i}=this,r=t.length;for(let n=0;n<r;){const s=Math.min(e-this.pos,r-n);for(let e=0;e<s;e++)i[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:i,blockLen:r}=this;t[i]^=e,128&e&&i===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){(0,n.CC)(this,!1),(0,n.DO)(t),this.finish();const e=this.state,{blockLen:i}=this;for(let r=0,n=t.length;r<n;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,n-r);t.set(e.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,n.Fe)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,n.Ht)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,n.uH)(this.state)}_cloneInto(t){const{blockLen:e,suffix:i,outputLen:r,rounds:n,enableXOF:s}=this;return t||(t=new b(e,i,r,s,n)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=n,t.suffix=i,t.outputLen=r,t.enableXOF=s,t.destroyed=this.destroyed,t}}const I=(()=>{return t=1,e=136,i=32,(0,n.qj)(()=>new b(e,t,i));var t,e,i})(),E=(()=>{return t=31,e=136,i=32,(0,n.xS)((r={})=>new b(e,t,void 0===r.dkLen?i:r.dkLen,!0));var t,e,i})()},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),i=e[0],r=e[1];return 3*(i+r)/4-r},e.toByteArray=function(t){var e,i,s=a(t),o=s[0],f=s[1],u=new n(function(t,e,i){return 3*(e+i)/4-i}(0,o,f)),c=0,h=f>0?o-4:o;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===f&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,u[c++]=255&e),1===f&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,s=[],o=16383,a=0,f=r-n;a<f;a+=o)s.push(u(t,a,a+o>f?f:a+o));return 1===n?(e=t[r-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),s.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)i[o]=s[o],r[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function f(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function u(t,e,i){for(var r,n=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),n.push(f(r));return n.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8030:(t,e,i)=>{"use strict";i.d(e,{D0:()=>B,Tp:()=>U,dQ:()=>_,jr:()=>A,pS:()=>T,qy:()=>R,zH:()=>g,zi:()=>y});var r=i(1848),n=i(2531);const s=BigInt(0),o=BigInt(1),a=BigInt(2),f=BigInt(3),u=BigInt(4),c=BigInt(5),h=BigInt(7),l=BigInt(8),p=BigInt(9),d=BigInt(16);function y(t,e){const i=t%e;return i>=s?i:e+i}function g(t,e,i){let r=t;for(;e-- >s;)r*=r,r%=i;return r}function m(t,e){if(t===s)throw new Error("invert: expected non-zero number");if(e<=s)throw new Error("invert: expected positive modulus, got "+e);let i=y(t,e),r=e,n=s,a=o,f=o,u=s;for(;i!==s;){const t=r/i,e=r%i,s=n-f*t,o=a-u*t;r=i,i=e,n=f,a=u,f=s,u=o}if(r!==o)throw new Error("invert: does not exist");return y(n,e)}function w(t,e,i){if(!t.eql(t.sqr(e),i))throw new Error("Cannot find square root")}function b(t,e){const i=(t.ORDER+o)/u,r=t.pow(e,i);return w(t,r,e),r}function I(t,e){const i=(t.ORDER-c)/l,r=t.mul(e,a),n=t.pow(r,i),s=t.mul(e,n),o=t.mul(t.mul(s,a),n),f=t.mul(s,t.sub(o,t.ONE));return w(t,f,e),f}function E(t){if(t<f)throw new Error("sqrt is not defined for small field");let e=t-o,i=0;for(;e%a===s;)e/=a,i++;let r=a;const n=B(t);for(;1===S(n,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===i)return b;let u=n.pow(r,e);const c=(e+o)/a;return function(t,r){if(t.is0(r))return r;if(1!==S(t,r))throw new Error("Cannot find square root");let n=i,s=t.mul(t.ONE,u),a=t.pow(r,e),f=t.pow(r,c);for(;!t.eql(a,t.ONE);){if(t.is0(a))return t.ZERO;let e=1,i=t.sqr(a);for(;!t.eql(i,t.ONE);)if(e++,i=t.sqr(i),e===n)throw new Error("Cannot find square root");const r=o<<BigInt(n-e-1),u=t.pow(s,r);n=e,s=t.sqr(u),a=t.mul(a,s),f=t.mul(f,u)}return f}}const _=(t,e)=>(y(t,e)&o)===o,v=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function A(t){const e=v.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,r.DS)(t,e),t}function T(t,e,i=!1){const r=new Array(e.length).fill(i?t.ZERO:void 0),n=e.reduce((e,i,n)=>t.is0(i)?e:(r[n]=e,t.mul(e,i)),t.ONE),s=t.inv(n);return e.reduceRight((e,i,n)=>t.is0(i)?e:(r[n]=t.mul(e,r[n]),t.mul(e,i)),s),r}function S(t,e){const i=(t.ORDER-o)/a,r=t.pow(e,i),n=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),f=t.eql(r,t.neg(t.ONE));if(!n&&!s&&!f)throw new Error("invalid Legendre symbol result");return n?1:s?0:-1}function B(t,e,i=!1,a={}){if(t<=s)throw new Error("invalid field: expected ORDER > 0, got "+t);let g,_,v,A=!1;if("object"==typeof e&&null!=e){if(a.sqrt||i)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(g=t.BITS),t.sqrt&&(_=t.sqrt),"boolean"==typeof t.isLE&&(i=t.isLE),"boolean"==typeof t.modOnDecode&&(A=t.modOnDecode),v=t.allowedLengths}else"number"==typeof e&&(g=e),a.sqrt&&(_=a.sqrt);const{nBitLength:S,nByteLength:O}=function(t,e){void 0!==e&&(0,n.Fe)(e);const i=void 0!==e?e:t.toString(2).length;return{nBitLength:i,nByteLength:Math.ceil(i/8)}}(t,g);if(O>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let U;const R=Object.freeze({ORDER:t,isLE:i,BITS:S,BYTES:O,MASK:(0,r.OG)(S),ZERO:s,ONE:o,allowedLengths:v,create:e=>y(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return s<=e&&e<t},is0:t=>t===s,isValidNot0:t=>!R.is0(t)&&R.isValid(t),isOdd:t=>(t&o)===o,neg:e=>y(-e,t),eql:(t,e)=>t===e,sqr:e=>y(e*e,t),add:(e,i)=>y(e+i,t),sub:(e,i)=>y(e-i,t),mul:(e,i)=>y(e*i,t),pow:(t,e)=>function(t,e,i){if(i<s)throw new Error("invalid exponent, negatives unsupported");if(i===s)return t.ONE;if(i===o)return e;let r=t.ONE,n=e;for(;i>s;)i&o&&(r=t.mul(r,n)),n=t.sqr(n),i>>=o;return r}(R,t,e),div:(e,i)=>y(e*m(i,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>m(e,t),sqrt:_||(e=>{return U||(U=(i=t)%u===f?b:i%l===c?I:i%d===p?function(t){const e=B(t),i=E(t),r=i(e,e.neg(e.ONE)),n=i(e,r),s=i(e,e.neg(r)),o=(t+h)/d;return(t,e)=>{let i=t.pow(e,o),a=t.mul(i,r);const f=t.mul(i,n),u=t.mul(i,s),c=t.eql(t.sqr(a),e),h=t.eql(t.sqr(f),e);i=t.cmov(i,a,c),a=t.cmov(u,f,h);const l=t.eql(t.sqr(a),e),p=t.cmov(i,a,l);return w(t,p,e),p}}(i):E(i)),U(R,e);var i}),toBytes:t=>i?(0,r.z)(t,O):(0,r.lq)(t,O),fromBytes:(e,n=!0)=>{if(v){if(!v.includes(e.length)||e.length>O)throw new Error("Field.fromBytes: expected "+v+" bytes, got "+e.length);const t=new Uint8Array(O);t.set(e,i?0:t.length-e.length),e=t}if(e.length!==O)throw new Error("Field.fromBytes: expected "+O+" bytes, got "+e.length);let s=i?(0,r.lX)(e):(0,r.Ph)(e);if(A&&(s=y(s,t)),!n&&!R.isValid(s))throw new Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:t=>T(R,t),cmov:(t,e,i)=>i?e:t});return Object.freeze(R)}function O(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function U(t){const e=O(t);return e+Math.ceil(e/2)}function R(t,e,i=!1){const n=t.length,s=O(e),a=U(e);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const f=y(i?(0,r.lX)(t):(0,r.Ph)(t),e-o)+o;return i?(0,r.z)(f,s):(0,r.lq)(f,s)}},8226:(t,e,i)=>{"use strict";i.d(e,{sc:()=>r});const r=i(8442).sc},8287:(t,e,i)=>{"use strict";const r=i(7526),n=i(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(t){return+t!=t&&(t=0),f.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,i)}function u(t,e,i){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=0|y(t,e);let r=a(i);const n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return p(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return p(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return f.from(r,e,i);const n=function(t){if(f.isBuffer(t)){const e=0|d(t.length),i=a(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|d(t))}function l(t){const e=t.length<0?0:0|d(t.length),i=a(e);for(let r=0;r<e;r+=1)i[r]=255&t[r];return i}function p(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(r,f.prototype),r}function d(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function y(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return J(t).length;default:if(n)return r?-1:j(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return S(this,e,i);case"ascii":return O(this,e,i);case"latin1":case"binary":return U(this,e,i);case"base64":return T(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function w(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),$(i=+i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=f.from(e,r)),f.isBuffer(e))return 0===e.length?-1:b(t,e,i,r,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):b(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function b(t,e,i,r,n){let s,o=1,a=t.length,f=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,f/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let r=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===f)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(i+f>a&&(i=a-f),s=i;s>=0;s--){let i=!0;for(let r=0;r<f;r++)if(u(t,s+r)!==u(e,r)){i=!1;break}if(i)return s}return-1}function I(t,e,i,r){i=Number(i)||0;const n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if($(r))return o;t[i+o]=r}return o}function E(t,e,i,r){return W(j(e,t.length-i),t,i,r)}function _(t,e,i,r){return W(function(t){const e=[];for(let i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function v(t,e,i,r){return W(J(e),t,i,r)}function A(t,e,i,r){return W(function(t,e){let i,r,n;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function T(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function S(t,e,i){i=Math.min(t.length,i);const r=[];let n=e;for(;n<i;){const e=t[n];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=i){let i,r,a,f;switch(o){case 1:e<128&&(s=e);break;case 2:i=t[n+1],128==(192&i)&&(f=(31&e)<<6|63&i,f>127&&(s=f));break;case 3:i=t[n+1],r=t[n+2],128==(192&i)&&128==(192&r)&&(f=(15&e)<<12|(63&i)<<6|63&r,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:i=t[n+1],r=t[n+2],a=t[n+3],128==(192&i)&&128==(192&r)&&128==(192&a)&&(f=(15&e)<<18|(63&i)<<12|(63&r)<<6|63&a,f>65535&&f<1114112&&(s=f))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),n+=o}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=B));return i}(r)}e.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,i){return u(t,e,i)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,i){return function(t,e,i){return c(t),t<=0?a(t):void 0!==e?"string"==typeof i?a(t).fill(e,i):a(t).fill(e):a(t)}(t,e,i)},f.allocUnsafe=function(t){return h(t)},f.allocUnsafeSlow=function(t){return h(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,r=e.length;for(let n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const r=f.allocUnsafe(e);let n=0;for(i=0;i<t.length;++i){let e=t[i];if(G(e,Uint8Array))n+e.length>r.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(r,n)):Uint8Array.prototype.set.call(r,e,n);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,n)}n+=e.length}return r},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="";const i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},s&&(f.prototype[s]=f.prototype.inspect),f.prototype.compare=function(t,e,i,r,n){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return-1;if(e>=i)return 1;if(this===t)return 0;let s=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(r,n),c=t.slice(e,i);for(let t=0;t<a;++t)if(u[t]!==c[t]){s=u[t],o=c[t];break}return s<o?-1:o<s?1:0},f.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},f.prototype.indexOf=function(t,e,i){return w(this,t,e,i,!0)},f.prototype.lastIndexOf=function(t,e,i){return w(this,t,e,i,!1)},f.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}const n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return I(this,t,e,i);case"utf8":case"utf-8":return E(this,t,e,i);case"ascii":case"latin1":case"binary":return _(this,t,e,i);case"base64":return v(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function O(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function U(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function R(t,e,i){const r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);let n="";for(let r=e;r<i;++r)n+=Z[t[r]];return n}function x(t,e,i){const r=t.slice(e,i);let n="";for(let t=0;t<r.length-1;t+=2)n+=String.fromCharCode(r[t]+256*r[t+1]);return n}function z(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,r,n,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function C(t,e,i,r,n){k(e,r,n,t,i,7);let s=Number(e&BigInt(4294967295));t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,i}function N(t,e,i,r,n){k(e,r,n,t,i,7);let s=Number(e&BigInt(4294967295));t[i+7]=s,s>>=8,t[i+6]=s,s>>=8,t[i+5]=s,s>>=8,t[i+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=o,o>>=8,t[i+2]=o,o>>=8,t[i+1]=o,o>>=8,t[i]=o,i+8}function D(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function K(t,e,i,r,s){return e=+e,i>>>=0,s||D(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function M(t,e,i,r,s){return e=+e,i>>>=0,s||D(t,0,i,8),n.write(t,e,i,r,52,8),i+8}f.prototype.slice=function(t,e){const i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,f.prototype),r},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||z(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return r},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||z(t,e,this.length);let r=this[t+--e],n=1;for(;e>0&&(n*=256);)r+=this[t+--e]*n;return r},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||z(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||z(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||z(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=X(function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||H(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+i*2**24;return BigInt(r)+(BigInt(n)<<BigInt(32))}),f.prototype.readBigUInt64BE=X(function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||H(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+i;return(BigInt(r)<<BigInt(32))+BigInt(n)}),f.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||z(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||z(t,e,this.length);let r=e,n=1,s=this[t+--r];for(;r>0&&(n*=256);)s+=this[t+--r]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return t>>>=0,e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||z(t,2,this.length);const i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt16BE=function(t,e){t>>>=0,e||z(t,2,this.length);const i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=X(function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||H(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),f.prototype.readBigInt64BE=X(function(t){V(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||H(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+i)}),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||z(t,4,this.length),n.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||z(t,4,this.length),n.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||z(t,8,this.length),n.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||z(t,8,this.length),n.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||P(this,t,e,i,Math.pow(2,8*i)-1,0);let n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||P(this,t,e,i,Math.pow(2,8*i)-1,0);let n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=X(function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=X(function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}let n=0,s=1,o=0;for(this[e]=255&t;++n<i&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s|0)-o&255;return e+i},f.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}let n=i-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s|0)-o&255;return e+i},f.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=X(function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=X(function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(t,e,i){return K(this,t,e,!0,i)},f.prototype.writeFloatBE=function(t,e,i){return K(this,t,e,!1,i)},f.prototype.writeDoubleLE=function(t,e,i){return M(this,t,e,!0,i)},f.prototype.writeDoubleBE=function(t,e,i){return M(this,t,e,!1,i)},f.prototype.copy=function(t,e,i,r){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);const n=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),e),n},f.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;let n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{const s=f.isBuffer(t)?t:f.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=s[n%o]}return this};const L={};function Y(t,e,i){L[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function q(t){let e="",i=t.length;const r="-"===t[0]?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function k(t,e,i,r,n,s){if(t>i||t<e){const r="bigint"==typeof e?"n":"";let n;throw n=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${i}${r}`,new L.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,i){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+i]||H(e,t.length-(i+1))}(r,n,s)}function V(t,e){if("number"!=typeof t)throw new L.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,i){if(Math.floor(t)!==t)throw V(t,i),new L.ERR_OUT_OF_RANGE(i||"offset","an integer",t);if(e<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Y("ERR_OUT_OF_RANGE",function(t,e,i){let r=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=q(String(i)):"bigint"==typeof i&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=q(n)),n+="n"),r+=` It must be ${e}. Received ${n}`,r},RangeError);const F=/[^+/0-9A-Za-z-_]/g;function j(t,e){let i;e=e||1/0;const r=t.length;let n=null;const s=[];for(let o=0;o<r;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function J(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,i,r){let n;for(n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const r=16*i;for(let n=0;n<16;++n)e[r+n]=t[i]+t[n]}return e}();function X(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},8442:(t,e,i)=>{"use strict";i.d(e,{sc:()=>E,qt:()=>v,Zf:()=>_});var r=i(2531);function n(t,e,i){return t&e^~t&i}function s(t,e,i){return t&e^t&i^e&i}class o extends r.Vw{constructor(t,e,i,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=n,this.buffer=new Uint8Array(t),this.view=(0,r.O8)(this.buffer)}update(t){(0,r.CC)(this),t=(0,r.ZJ)(t),(0,r.DO)(t);const{view:e,buffer:i,blockLen:n}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const e=(0,r.O8)(t);for(;n<=s-o;o+=n)this.process(e,o);continue}i.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,r.CC)(this),(0,r.Ht)(t,this),this.finished=!0;const{buffer:e,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;e[o++]=128,(0,r.uH)(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(i,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);const n=BigInt(32),s=BigInt(4294967295),o=Number(i>>n&s),a=Number(i&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,o,r),t.setUint32(e+u,a,r)}(i,n-8,BigInt(8*this.length),s),this.process(i,0);const a=(0,r.O8)(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=f/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)a.setUint32(4*t,c[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:i,length:r,finished:n,destroyed:s,pos:o}=this;return t.destroyed=s,t.finished=n,t.length=r,t.pos=o,r%e&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const a=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),f=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),u=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var c=i(9271);const h=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l=new Uint32Array(64);class p extends o{constructor(t=32){super(64,t,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:i,D:r,E:n,F:s,G:o,H:a}=this;return[t,e,i,r,n,s,o,a]}set(t,e,i,r,n,s,o,a){this.A=0|t,this.B=0|e,this.C=0|i,this.D=0|r,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let i=0;i<16;i++,e+=4)l[i]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=l[t-15],i=l[t-2],n=(0,r.Ow)(e,7)^(0,r.Ow)(e,18)^e>>>3,s=(0,r.Ow)(i,17)^(0,r.Ow)(i,19)^i>>>10;l[t]=s+l[t-7]+n+l[t-16]|0}let{A:i,B:o,C:a,D:f,E:u,F:c,G:p,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,r.Ow)(u,6)^(0,r.Ow)(u,11)^(0,r.Ow)(u,25))+n(u,c,p)+h[t]+l[t]|0,y=((0,r.Ow)(i,2)^(0,r.Ow)(i,13)^(0,r.Ow)(i,22))+s(i,o,a)|0;d=p,p=c,c=u,u=f+e|0,f=a,a=o,o=i,i=e+y|0}i=i+this.A|0,o=o+this.B|0,a=a+this.C|0,f=f+this.D|0,u=u+this.E|0,c=c+this.F|0,p=p+this.G|0,d=d+this.H|0,this.set(i,o,a,f,u,c,p,d)}roundClean(){(0,r.uH)(l)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.uH)(this.buffer)}}const d=(()=>c.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),y=(()=>d[0])(),g=(()=>d[1])(),m=new Uint32Array(80),w=new Uint32Array(80);class b extends o{constructor(t=64){super(128,t,16,!1),this.Ah=0|u[0],this.Al=0|u[1],this.Bh=0|u[2],this.Bl=0|u[3],this.Ch=0|u[4],this.Cl=0|u[5],this.Dh=0|u[6],this.Dl=0|u[7],this.Eh=0|u[8],this.El=0|u[9],this.Fh=0|u[10],this.Fl=0|u[11],this.Gh=0|u[12],this.Gl=0|u[13],this.Hh=0|u[14],this.Hl=0|u[15]}get(){const{Ah:t,Al:e,Bh:i,Bl:r,Ch:n,Cl:s,Dh:o,Dl:a,Eh:f,El:u,Fh:c,Fl:h,Gh:l,Gl:p,Hh:d,Hl:y}=this;return[t,e,i,r,n,s,o,a,f,u,c,h,l,p,d,y]}set(t,e,i,r,n,s,o,a,f,u,c,h,l,p,d,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|i,this.Bl=0|r,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|f,this.El=0|u,this.Fh=0|c,this.Fl=0|h,this.Gh=0|l,this.Gl=0|p,this.Hh=0|d,this.Hl=0|y}process(t,e){for(let i=0;i<16;i++,e+=4)m[i]=t.getUint32(e),w[i]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|m[t-15],i=0|w[t-15],r=c.rE(e,i,1)^c.rE(e,i,8)^c.xn(e,i,7),n=c.ry(e,i,1)^c.ry(e,i,8)^c.jm(e,i,7),s=0|m[t-2],o=0|w[t-2],a=c.rE(s,o,19)^c.qh(s,o,61)^c.xn(s,o,6),f=c.ry(s,o,19)^c.Ei(s,o,61)^c.jm(s,o,6),u=c.CW(n,f,w[t-7],w[t-16]),h=c.CQ(u,r,a,m[t-7],m[t-16]);m[t]=0|h,w[t]=0|u}let{Ah:i,Al:r,Bh:n,Bl:s,Ch:o,Cl:a,Dh:f,Dl:u,Eh:h,El:l,Fh:p,Fl:d,Gh:b,Gl:I,Hh:E,Hl:_}=this;for(let t=0;t<80;t++){const e=c.rE(h,l,14)^c.rE(h,l,18)^c.qh(h,l,41),v=c.ry(h,l,14)^c.ry(h,l,18)^c.Ei(h,l,41),A=h&p^~h&b,T=l&d^~l&I,S=c.F8(_,v,T,g[t],w[t]),B=c.TH(S,E,e,A,y[t],m[t]),O=0|S,U=c.rE(i,r,28)^c.qh(i,r,34)^c.qh(i,r,39),R=c.ry(i,r,28)^c.Ei(i,r,34)^c.Ei(i,r,39),x=i&n^i&o^n&o,z=r&s^r&a^s&a;E=0|b,_=0|I,b=0|p,I=0|d,p=0|h,d=0|l,({h,l}=c.WQ(0|f,0|u,0|B,0|O)),f=0|o,u=0|a,o=0|n,a=0|s,n=0|i,s=0|r;const P=c.Vl(O,R,z);i=c.Vr(P,B,U,x),r=0|P}({h:i,l:r}=c.WQ(0|this.Ah,0|this.Al,0|i,0|r)),({h:n,l:s}=c.WQ(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=c.WQ(0|this.Ch,0|this.Cl,0|o,0|a)),({h:f,l:u}=c.WQ(0|this.Dh,0|this.Dl,0|f,0|u)),({h,l}=c.WQ(0|this.Eh,0|this.El,0|h,0|l)),({h:p,l:d}=c.WQ(0|this.Fh,0|this.Fl,0|p,0|d)),({h:b,l:I}=c.WQ(0|this.Gh,0|this.Gl,0|b,0|I)),({h:E,l:_}=c.WQ(0|this.Hh,0|this.Hl,0|E,0|_)),this.set(i,r,n,s,o,a,f,u,h,l,p,d,b,I,E,_)}roundClean(){(0,r.uH)(m,w)}destroy(){(0,r.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class I extends b{constructor(){super(48),this.Ah=0|f[0],this.Al=0|f[1],this.Bh=0|f[2],this.Bl=0|f[3],this.Ch=0|f[4],this.Cl=0|f[5],this.Dh=0|f[6],this.Dl=0|f[7],this.Eh=0|f[8],this.El=0|f[9],this.Fh=0|f[10],this.Fl=0|f[11],this.Gh=0|f[12],this.Gl=0|f[13],this.Hh=0|f[14],this.Hl=0|f[15]}}const E=(0,r.qj)(()=>new p),_=(0,r.qj)(()=>new b),v=(0,r.qj)(()=>new I)},9271:(t,e,i)=>{"use strict";i.d(e,{B4:()=>d,CQ:()=>E,CW:()=>I,Ei:()=>l,F8:()=>_,P5:()=>p,TH:()=>v,Vl:()=>w,Vr:()=>b,WM:()=>y,WQ:()=>m,im:()=>g,jm:()=>f,lD:()=>o,qh:()=>h,rE:()=>u,ry:()=>c,xn:()=>a});const r=BigInt(2**32-1),n=BigInt(32);function s(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}function o(t,e=!1){const i=t.length;let r=new Uint32Array(i),n=new Uint32Array(i);for(let o=0;o<i;o++){const{h:i,l:a}=s(t[o],e);[r[o],n[o]]=[i,a]}return[r,n]}const a=(t,e,i)=>t>>>i,f=(t,e,i)=>t<<32-i|e>>>i,u=(t,e,i)=>t>>>i|e<<32-i,c=(t,e,i)=>t<<32-i|e>>>i,h=(t,e,i)=>t<<64-i|e>>>i-32,l=(t,e,i)=>t>>>i-32|e<<64-i,p=(t,e,i)=>t<<i|e>>>32-i,d=(t,e,i)=>e<<i|t>>>32-i,y=(t,e,i)=>e<<i-32|t>>>64-i,g=(t,e,i)=>t<<i-32|e>>>64-i;function m(t,e,i,r){const n=(e>>>0)+(r>>>0);return{h:t+i+(n/2**32|0)|0,l:0|n}}const w=(t,e,i)=>(t>>>0)+(e>>>0)+(i>>>0),b=(t,e,i,r)=>e+i+r+(t/2**32|0)|0,I=(t,e,i,r)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0),E=(t,e,i,r,n)=>e+i+r+n+(t/2**32|0)|0,_=(t,e,i,r,n)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0)+(n>>>0),v=(t,e,i,r,n,s)=>e+i+r+n+s+(t/2**32|0)|0},9336:(t,e,i)=>{"use strict";i.d(e,{compressRawPublicKey:()=>n,toDerSignature:()=>s});var r=i(6862);new Uint8Array([75,69,77,0,16]),new Uint8Array([72,80,75,69,0,16,0,1,0,2]),new Uint8Array([72,80,75,69,45,118,49]),new Uint8Array([115,101,99,114,101,116]),new Uint8Array([101,97,101,95,112,114,107]),new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]);const n=t=>{const e=t.byteLength;var i=t.slice(0,1+e>>>1);return i[0]=2|1&t[e-1],i},s=t=>{const e=(0,r.Ks)(t),i=e.slice(0,32),n=e.slice(32,64),s=t=>{if(void 0===t||0===t.length||void 0===t[0])throw new Error("Invalid integer: input is undefined or empty.");const e=128&t[0]?new Uint8Array([0,...t]):t;return new Uint8Array([2,e.length,...e])},o=s(i),a=s(n),f=new Uint8Array([48,o.length+a.length,...o,...a]);return(0,r.pD)(f)};!function(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default}(i(4840)),function(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default}(i(1307))}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={id:t,loaded:!1,exports:{}};return n[t].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=n,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);o.r(n);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>s[t]=()=>i[t]);return s.default=()=>i,o.d(n,s),n},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce((e,i)=>(o.f[i](t,e),e),[])),o.u=t=>t+".turnkey.min.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={},r="lumenbro-new:",o.l=(t,e,n,s)=>{if(i[t])i[t].push(e);else{var a,f;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==r+n){a=h;break}}a||(f=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",r+n),a.src=t),i[t]=[e];var l=(e,r)=>{a.onerror=a.onload=null,clearTimeout(p);var n=i[t];if(delete i[t],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(t=>t(r)),e)return e(r)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=l.bind(null,a.onerror),a.onload=l.bind(null,a.onload),f&&document.head.appendChild(a)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={792:0};o.f.j=(e,i)=>{var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise((i,n)=>r=t[e]=[i,n]);i.push(r[2]=n);var s=o.p+o.u(e),a=new Error;o.l(s,i=>{if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",a.name="ChunkLoadError",a.type=n,a.request=s,r[1](a)}},"chunk-"+e,e)}};var e=(e,i)=>{var r,n,[s,a,f]=i,u=0;if(s.some(e=>0!==t[e])){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);f&&f(o)}for(e&&e(i);u<s.length;u++)n=s[u],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0},i=self.webpackChunklumenbro_new=self.webpackChunklumenbro_new||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=o(6862);const e="undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&void 0!==crypto.subtle,i="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class r{constructor(t){this.apiPublicKey=t.apiPublicKey,this.apiPrivateKey=t.apiPrivateKey,this.runtimeOverride=t.runtimeOverride}async stamp(r){const n=await(async(t,r)=>{const n=r??(e?"browser":i?"node":"purejs");switch(n){case"browser":return(await o.e(227).then(o.bind(o,1227))).signWithApiKey(t);case"node":return(await o.e(765).then(o.bind(o,3765))).signWithApiKey(t);case"purejs":return(await o.e(685).then(o.bind(o,8685))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${n}`)}})({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:r},this.runtimeOverride),s={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:n};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,t.up)(JSON.stringify(s))}}}function n(t){const e=new Uint8Array(t);let i="";for(const t of e)i+=String.fromCharCode(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}o(4945);const s="copy",a="convert";function f(t,e,i){if(e===s)return i;if(e===a)return t(i);if(e instanceof Array)return i.map(i=>f(t,e[0],i));if(e instanceof Object){const r={};for(const[n,s]of Object.entries(e)){if(s.derive){const t=s.derive(i);void 0!==t&&(i[n]=t)}if(n in i)null!=i[n]?r[n]=f(t,s.schema,i[n]):r[n]=null;else if(s.required)throw new Error(`Missing key: ${n}`)}return r}}function u(t,e){return{required:!0,schema:t,derive:e}}function c(t){return{required:!0,schema:t}}function h(t){return{required:!1,schema:t}}const l={appid:h(s),appidExclude:h(s),credProps:h(s)},p={type:c(s),id:c(s),rawId:c(a),authenticatorAttachment:h(s),response:c({clientDataJSON:c(a),attestationObject:c(a),transports:u(s,t=>t.getTransports?.()||[])}),clientExtensionResults:u(l,t=>t.getClientExtensionResults())};function d(t){return f(n,p,t)}function y(t){switch(t){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format")}}async function g(t){if(!window.PublicKeyCredential)throw new Error("webauthn is not supported by this browser");const e=await async function(t){const e=await navigator.credentials.create(t);return e.toJSON=()=>d(e),e}(t);return{credentialId:(i=e.toJSON()).rawId,attestationObject:i.response.attestationObject,clientDataJson:i.response.clientDataJSON,transports:i.response.transports.map(y)};var i}c(s),c(s),c(a),h(s),c({clientDataJSON:c(a),authenticatorData:c(a),signature:c(a),userHandle:c(a)}),u(l,t=>t.getClientExtensionResults()),Error,Error,Error,Error;const m=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var w,b;!function(t){t.PublicKeyReady="PUBLIC_KEY_READY",t.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",t.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",t.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",t.InjectImportBundle="INJECT_IMPORT_BUNDLE",t.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",t.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",t.ApplySettings="APPLY_SETTINGS",t.BundleInjected="BUNDLE_INJECTED",t.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",t.SettingsApplied="SETTINGS_APPLIED",t.StampRequest="STAMP_REQUEST",t.Stamp="STAMP",t.TurnkeyInitMessageChannel="TURNKEY_INIT_MESSAGE_CHANNEL",t.GetEmbeddedPublicKey="GET_EMBEDDED_PUBLIC_KEY",t.ClearEmbeddedKey="RESET_EMBEDDED_KEY",t.InitEmbeddedKey="INIT_EMBEDDED_KEY",t.Error="ERROR"}(w||(w={})),function(t){t.Hexadecimal="HEXADECIMAL",t.Solana="SOLANA"}(b||(b={}));const I="copy",E="convert";function _(t){return{required:!0,schema:t}}function v(t){return{required:!1,schema:t}}v(I),v(I),v(I);var A,T;_(I),_(I),_(E),v(I),_({clientDataJSON:_(E),authenticatorData:_(E),signature:_(E),userHandle:_(E)}),o(410),Error,(T=A||(A={})).Ethereum="ethereum",T.Solana="solana",o(9336);var S,B,O,U,R,x="undefined"!=typeof window?window:{localStorage:{getItem:t=>null,setItem:(t,e)=>{},removeItem:t=>{},clear:()=>{},key:t=>null,length:0},location:{hostname:""}};!function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"}(S||(S={}));class z extends Error{constructor(t){let e=`Turnkey error ${t.code}: ${t.message}`;null!=t.details&&(e+=` (Details: ${JSON.stringify(t.details)})`),super(e),this.name="TurnkeyRequestError",this.details=t.details??null,this.code=t.code}}!function(t){t.Passkey="passkey",t.Wallet="wallet",t.Iframe="iframe",t.IndexedDb="indexed-db"}(B||(B={})),(R=O||(O={})).Session="@turnkey/session/v2",R.Client="@turnkey/client",function(t){t.Local="local",t.Secure="secure",t.Session="session"}(U||(U={}));const P={[O.Session]:U.Session,[O.Client]:U.Session},C={[U.Local]:x.localStorage,[U.Secure]:x.localStorage,[U.Session]:x.localStorage},N=async t=>{const e=C[P[t]].getItem(t);return e?JSON.parse(e):void 0},D=async(t,e)=>{C[P[t]].setItem(t,JSON.stringify(e))},K=async(t,e)=>{await D(O.Session,t),e&&await D(O.Client,e)};var M,L,Y;!function(t){t.READ_ONLY="SESSION_TYPE_READ_ONLY",t.READ_WRITE="SESSION_TYPE_READ_WRITE"}(M||(M={})),function(t){t.COINBASE="FIAT_ON_RAMP_PROVIDER_COINBASE",t.MOONPAY="FIAT_ON_RAMP_PROVIDER_MOONPAY"}(L||(L={})),function(t){t.BITCOIN="FIAT_ON_RAMP_CRYPTO_CURRENCY_BTC",t.ETHEREUM="FIAT_ON_RAMP_CRYPTO_CURRENCY_ETH",t.SOLANA="FIAT_ON_RAMP_CRYPTO_CURRENCY_SOL",t.USDC="FIAT_ON_RAMP_CRYPTO_CURRENCY_USDC"}(Y||(Y={}));var q,k,V=o(8287);function H(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function F(t){if("boolean"!=typeof t)throw new Error(`boolean expected, not ${t}`)}function j(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function J(t,...e){if(!H(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function W(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function G(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(4840),Error,q=globalThis,k={},new Proxy(q,{get:(t,e,i)=>e in k?k[e]:q[e],set:(t,e,i)=>(e in k&&delete k[e],q[e]=i,!0),deleteProperty(t,e){let i=!1;return e in k&&(delete k[e],i=!0),e in q&&(delete q[e],i=!0),i},ownKeys(t){const e=Reflect.ownKeys(q),i=Reflect.ownKeys(k),r=new Set(i);return[...e.filter(t=>!r.has(t)),...i]},defineProperty:(t,e,i)=>(e in k&&delete k[e],Reflect.defineProperty(q,e,i),!0),getOwnPropertyDescriptor:(t,e)=>e in k?Reflect.getOwnPropertyDescriptor(k,e):Reflect.getOwnPropertyDescriptor(q,e),has:(t,e)=>e in k||e in q}),new Uint8Array(0),new Uint8Array([75,69,77,0,0]),new Uint8Array([101,97,101,95,112,114,107]),new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),new Uint8Array([100,107,112,95,112,114,107]),new Uint8Array([115,107]),new Uint8Array([99,97,110,100,105,100,97,116,101]),new Uint8Array([255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,188,230,250,173,167,23,158,132,243,185,202,194,252,99,37,81]),new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,199,99,77,129,244,55,45,223,88,26,13,178,72,176,167,122,236,236,25,106,204,197,41,115]),new Uint8Array([1,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,81,134,135,131,191,47,150,107,127,204,1,72,247,9,165,208,59,181,201,184,137,156,71,174,187,111,183,30,145,56,100,9]),new Uint8Array([48,65,2,1,0,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,4,39,48,37,2,1,1,4,32]),new Uint8Array([48,78,2,1,0,48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,34,4,55,48,53,2,1,1,4,48]),new Uint8Array([48,96,2,1,0,48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,35,4,73,48,71,2,1,1,4,66]),new Uint8Array([72,80,75,69,45,118,49]),new Uint8Array([115,101,99]),new Uint8Array([98,97,115,101,95,110,111,110,99,101]),new Uint8Array([101,120,112]),new Uint8Array([105,110,102,111,95,104,97,115,104]),new Uint8Array([107,101,121]),new Uint8Array([112,115,107,95,105,100,95,104,97,115,104]),new Uint8Array([115,101,99,114,101,116]),new Uint8Array([72,80,75,69,0,0,0,0,0,0]),new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,110,4,34,4,32]),new Uint8Array([48,70,2,1,0,48,5,6,3,43,101,111,4,58,4,56]);function Z(t){if("string"==typeof t)t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t);else{if(!H(t))throw new Error("Uint8Array expected, got "+typeof t);t=tt(t)}return t}function X(t,e,i=!0){if(void 0===e)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(i&&e.byteOffset%4!=0)throw new Error("invalid output, must be aligned");return e}function Q(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);const n=BigInt(32),s=BigInt(4294967295),o=Number(i>>n&s),a=Number(i&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,o,r),t.setUint32(e+u,a,r)}function tt(t){return Uint8Array.from(t)}const et=t=>Uint8Array.from(t.split("").map(t=>t.charCodeAt(0))),it=et("expand 16-byte k"),rt=et("expand 32-byte k"),nt=G(it),st=G(rt);function ot(t,e){return t<<e|t>>>32-e}function at(t){return t.byteOffset%4==0}const ft=2**32-1,ut=new Uint32Array;function ct(t,e){const{allowShortKeys:i,extendNonceFn:r,counterLength:n,counterRight:s,rounds:o}=function(t,e){if(null==e||"object"!=typeof e)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e)}(0,e);if("function"!=typeof t)throw new Error("core must be a function");return j(n),j(o),F(s),F(i),(e,a,f,u,c=0)=>{J(e),J(a),J(f);const h=f.length;if(void 0===u&&(u=new Uint8Array(h)),J(u),j(c),c<0||c>=ft)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const l=[];let p,d,y=e.length;if(32===y)l.push(p=tt(e)),d=st;else{if(16!==y||!i)throw new Error(`arx: invalid 32-byte key, got length=${y}`);p=new Uint8Array(32),p.set(e),p.set(e,16),d=nt,l.push(p)}at(a)||l.push(a=tt(a));const g=G(p);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(d,g,G(a.subarray(0,16)),g),a=a.subarray(16)}const m=16-n;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const t=new Uint8Array(12);t.set(a,s?0:12-a.length),a=t,l.push(a)}const w=G(a);return function(t,e,i,r,n,s,o,a){const f=n.length,u=new Uint8Array(64),c=G(u),h=at(n)&&at(s),l=h?G(n):ut,p=h?G(s):ut;for(let d=0;d<f;o++){if(t(e,i,r,c,o,a),o>=ft)throw new Error("arx: counter overflow");const y=Math.min(64,f-d);if(h&&64===y){const t=d/4;if(d%4!=0)throw new Error("arx: invalid block position");for(let e,i=0;i<16;i++)e=t+i,p[e]=l[e]^c[i];d+=64;continue}for(let t,e=0;e<y;e++)t=d+e,s[t]=n[t]^u[e];d+=y}}(t,d,g,w,f,u,c,o),$(...l),u}}const ht=(t,e)=>255&t[e++]|(255&t[e++])<<8;class lt{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,J(t=Z(t),32);const e=ht(t,0),i=ht(t,2),r=ht(t,4),n=ht(t,6),s=ht(t,8),o=ht(t,10),a=ht(t,12),f=ht(t,14);this.r[0]=8191&e,this.r[1]=8191&(e>>>13|i<<3),this.r[2]=7939&(i>>>10|r<<6),this.r[3]=8191&(r>>>7|n<<9),this.r[4]=255&(n>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127;for(let e=0;e<8;e++)this.pad[e]=ht(t,16+2*e)}process(t,e,i=!1){const r=i?0:2048,{h:n,r:s}=this,o=s[0],a=s[1],f=s[2],u=s[3],c=s[4],h=s[5],l=s[6],p=s[7],d=s[8],y=s[9],g=ht(t,e+0),m=ht(t,e+2),w=ht(t,e+4),b=ht(t,e+6),I=ht(t,e+8),E=ht(t,e+10),_=ht(t,e+12),v=ht(t,e+14);let A=n[0]+(8191&g),T=n[1]+(8191&(g>>>13|m<<3)),S=n[2]+(8191&(m>>>10|w<<6)),B=n[3]+(8191&(w>>>7|b<<9)),O=n[4]+(8191&(b>>>4|I<<12)),U=n[5]+(I>>>1&8191),R=n[6]+(8191&(I>>>14|E<<2)),x=n[7]+(8191&(E>>>11|_<<5)),z=n[8]+(8191&(_>>>8|v<<8)),P=n[9]+(v>>>5|r),C=0,N=C+A*o+T*(5*y)+S*(5*d)+B*(5*p)+O*(5*l);C=N>>>13,N&=8191,N+=U*(5*h)+R*(5*c)+x*(5*u)+z*(5*f)+P*(5*a),C+=N>>>13,N&=8191;let D=C+A*a+T*o+S*(5*y)+B*(5*d)+O*(5*p);C=D>>>13,D&=8191,D+=U*(5*l)+R*(5*h)+x*(5*c)+z*(5*u)+P*(5*f),C+=D>>>13,D&=8191;let K=C+A*f+T*a+S*o+B*(5*y)+O*(5*d);C=K>>>13,K&=8191,K+=U*(5*p)+R*(5*l)+x*(5*h)+z*(5*c)+P*(5*u),C+=K>>>13,K&=8191;let M=C+A*u+T*f+S*a+B*o+O*(5*y);C=M>>>13,M&=8191,M+=U*(5*d)+R*(5*p)+x*(5*l)+z*(5*h)+P*(5*c),C+=M>>>13,M&=8191;let L=C+A*c+T*u+S*f+B*a+O*o;C=L>>>13,L&=8191,L+=U*(5*y)+R*(5*d)+x*(5*p)+z*(5*l)+P*(5*h),C+=L>>>13,L&=8191;let Y=C+A*h+T*c+S*u+B*f+O*a;C=Y>>>13,Y&=8191,Y+=U*o+R*(5*y)+x*(5*d)+z*(5*p)+P*(5*l),C+=Y>>>13,Y&=8191;let q=C+A*l+T*h+S*c+B*u+O*f;C=q>>>13,q&=8191,q+=U*a+R*o+x*(5*y)+z*(5*d)+P*(5*p),C+=q>>>13,q&=8191;let k=C+A*p+T*l+S*h+B*c+O*u;C=k>>>13,k&=8191,k+=U*f+R*a+x*o+z*(5*y)+P*(5*d),C+=k>>>13,k&=8191;let V=C+A*d+T*p+S*l+B*h+O*c;C=V>>>13,V&=8191,V+=U*u+R*f+x*a+z*o+P*(5*y),C+=V>>>13,V&=8191;let H=C+A*y+T*d+S*p+B*l+O*h;C=H>>>13,H&=8191,H+=U*c+R*u+x*f+z*a+P*o,C+=H>>>13,H&=8191,C=(C<<2)+C|0,C=C+N|0,N=8191&C,C>>>=13,D+=C,n[0]=N,n[1]=D,n[2]=K,n[3]=M,n[4]=L,n[5]=Y,n[6]=q,n[7]=k,n[8]=V,n[9]=H}finalize(){const{h:t,pad:e}=this,i=new Uint16Array(10);let r=t[1]>>>13;t[1]&=8191;for(let e=2;e<10;e++)t[e]+=r,r=t[e]>>>13,t[e]&=8191;t[0]+=5*r,r=t[0]>>>13,t[0]&=8191,t[1]+=r,r=t[1]>>>13,t[1]&=8191,t[2]+=r,i[0]=t[0]+5,r=i[0]>>>13,i[0]&=8191;for(let e=1;e<10;e++)i[e]=t[e]+r,r=i[e]>>>13,i[e]&=8191;i[9]-=8192;let n=(1^r)-1;for(let t=0;t<10;t++)i[t]&=n;n=~n;for(let e=0;e<10;e++)t[e]=t[e]&n|i[e];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let s=t[0]+e[0];t[0]=65535&s;for(let i=1;i<8;i++)s=(t[i]+e[i]|0)+(s>>>16)|0,t[i]=65535&s;$(i)}update(t){W(this),J(t=Z(t));const{buffer:e,blockLen:i}=this,r=t.length;for(let n=0;n<r;){const s=Math.min(i-this.pos,r-n);if(s!==i)e.set(t.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===i&&(this.process(e,0,!1),this.pos=0);else for(;i<=r-n;n+=i)this.process(t,n)}return this}destroy(){$(this.h,this.r,this.buffer,this.pad)}digestInto(t){W(this),function(t,e){J(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}(t,this),this.finished=!0;const{buffer:e,h:i}=this;let{pos:r}=this;if(r){for(e[r++]=1;r<16;r++)e[r]=0;this.process(e,0,!0)}this.finalize();let n=0;for(let e=0;e<8;e++)t[n++]=i[e]>>>0,t[n++]=i[e]>>>8;return t}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const i=t.slice(0,e);return this.destroy(),i}}const pt=function(t){const e=(e,i)=>t(i).update(Z(e)).digest(),i=t(new Uint8Array(32));return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=e=>t(e),e}(t=>new lt(t));function dt(t,e,i,r,n,s=20){let o=t[0],a=t[1],f=t[2],u=t[3],c=e[0],h=e[1],l=e[2],p=e[3],d=e[4],y=e[5],g=e[6],m=e[7],w=n,b=i[0],I=i[1],E=i[2],_=o,v=a,A=f,T=u,S=c,B=h,O=l,U=p,R=d,x=y,z=g,P=m,C=w,N=b,D=I,K=E;for(let t=0;t<s;t+=2)_=_+S|0,C=ot(C^_,16),R=R+C|0,S=ot(S^R,12),_=_+S|0,C=ot(C^_,8),R=R+C|0,S=ot(S^R,7),v=v+B|0,N=ot(N^v,16),x=x+N|0,B=ot(B^x,12),v=v+B|0,N=ot(N^v,8),x=x+N|0,B=ot(B^x,7),A=A+O|0,D=ot(D^A,16),z=z+D|0,O=ot(O^z,12),A=A+O|0,D=ot(D^A,8),z=z+D|0,O=ot(O^z,7),T=T+U|0,K=ot(K^T,16),P=P+K|0,U=ot(U^P,12),T=T+U|0,K=ot(K^T,8),P=P+K|0,U=ot(U^P,7),_=_+B|0,K=ot(K^_,16),z=z+K|0,B=ot(B^z,12),_=_+B|0,K=ot(K^_,8),z=z+K|0,B=ot(B^z,7),v=v+O|0,C=ot(C^v,16),P=P+C|0,O=ot(O^P,12),v=v+O|0,C=ot(C^v,8),P=P+C|0,O=ot(O^P,7),A=A+U|0,N=ot(N^A,16),R=R+N|0,U=ot(U^R,12),A=A+U|0,N=ot(N^A,8),R=R+N|0,U=ot(U^R,7),T=T+S|0,D=ot(D^T,16),x=x+D|0,S=ot(S^x,12),T=T+S|0,D=ot(D^T,8),x=x+D|0,S=ot(S^x,7);let M=0;r[M++]=o+_|0,r[M++]=a+v|0,r[M++]=f+A|0,r[M++]=u+T|0,r[M++]=c+S|0,r[M++]=h+B|0,r[M++]=l+O|0,r[M++]=p+U|0,r[M++]=d+R|0,r[M++]=y+x|0,r[M++]=g+z|0,r[M++]=m+P|0,r[M++]=w+C|0,r[M++]=b+N|0,r[M++]=I+D|0,r[M++]=E+K|0}const yt=ct(dt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),gt=ct(dt,{counterRight:!1,counterLength:8,extendNonceFn:function(t,e,i,r){let n=t[0],s=t[1],o=t[2],a=t[3],f=e[0],u=e[1],c=e[2],h=e[3],l=e[4],p=e[5],d=e[6],y=e[7],g=i[0],m=i[1],w=i[2],b=i[3];for(let t=0;t<20;t+=2)n=n+f|0,g=ot(g^n,16),l=l+g|0,f=ot(f^l,12),n=n+f|0,g=ot(g^n,8),l=l+g|0,f=ot(f^l,7),s=s+u|0,m=ot(m^s,16),p=p+m|0,u=ot(u^p,12),s=s+u|0,m=ot(m^s,8),p=p+m|0,u=ot(u^p,7),o=o+c|0,w=ot(w^o,16),d=d+w|0,c=ot(c^d,12),o=o+c|0,w=ot(w^o,8),d=d+w|0,c=ot(c^d,7),a=a+h|0,b=ot(b^a,16),y=y+b|0,h=ot(h^y,12),a=a+h|0,b=ot(b^a,8),y=y+b|0,h=ot(h^y,7),n=n+u|0,b=ot(b^n,16),d=d+b|0,u=ot(u^d,12),n=n+u|0,b=ot(b^n,8),d=d+b|0,u=ot(u^d,7),s=s+c|0,g=ot(g^s,16),y=y+g|0,c=ot(c^y,12),s=s+c|0,g=ot(g^s,8),y=y+g|0,c=ot(c^y,7),o=o+h|0,m=ot(m^o,16),l=l+m|0,h=ot(h^l,12),o=o+h|0,m=ot(m^o,8),l=l+m|0,h=ot(h^l,7),a=a+f|0,w=ot(w^a,16),p=p+w|0,f=ot(f^p,12),a=a+f|0,w=ot(w^a,8),p=p+w|0,f=ot(f^p,7);let I=0;r[I++]=n,r[I++]=s,r[I++]=o,r[I++]=a,r[I++]=g,r[I++]=m,r[I++]=w,r[I++]=b},allowShortKeys:!1}),mt=new Uint8Array(16),wt=(t,e)=>{t.update(e);const i=e.length%16;i&&t.update(mt.subarray(i))},bt=new Uint8Array(32);function It(t,e,i,r,n){const s=t(e,i,bt),o=pt.create(s);n&&wt(o,n),wt(o,r);const a=function(t,e,i){F(i);const r=new Uint8Array(16),n=(s=r,new DataView(s.buffer,s.byteOffset,s.byteLength));var s;return Q(n,0,BigInt(e),i),Q(n,8,BigInt(t),i),r}(r.length,n?n.length:0,!0);o.update(a);const f=o.digest();return $(s,a),f}const Et=t=>(e,i,r)=>({encrypt(n,s){const o=n.length;(s=X(o+16,s,!1)).set(n);const a=s.subarray(0,-16);t(e,i,a,a,1);const f=It(t,e,i,a,r);return s.set(f,o),$(f),s},decrypt(n,s){s=X(n.length-16,s,!1);const o=n.subarray(0,-16),a=n.subarray(-16),f=It(t,e,i,o,r);if(!function(t,e){if(t.length!==e.length)return!1;let i=0;for(let r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i}(a,f))throw new Error("invalid tag");return s.set(n.subarray(0,-16)),t(e,i,s,s,1),$(f),s}});Et(yt),Et(gt),o(1454),o(8226);var _t=o(8442),vt=o(2531),At=o(615),Tt=o(1848),St=o(8030);const Bt=BigInt(0),Ot=BigInt(1),Ut=BigInt(2),Rt=BigInt(8);function xt(t,e={}){const{Fp:i,Fn:r}=(0,At.UT)("edwards",t,e),{h:n,n:s}=t;(0,Tt.DS)(e,{},{uvRatio:"function"});const o=Ut<<BigInt(8*r.BYTES)-Ot,a=t=>i.create(t),f=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:i.sqrt(i.div(t,e))}}catch(t){return{isValid:!1,value:Bt}}});if(!function(t,e,i,r){const n=t.sqr(i),s=t.sqr(r),o=t.add(t.mul(e.a,n),s),a=t.add(t.ONE,t.mul(e.d,t.mul(n,s)));return t.eql(o,a)}(i,t,t.Gx,t.Gy))throw new Error("bad curve params: generator point");function u(t,e,i=!1){const r=i?Ot:Bt;return(0,Tt.aK)("coordinate "+t,e,r,o),e}function c(t){if(!(t instanceof p))throw new Error("ExtendedPoint expected")}const h=(0,Tt.x)((t,e)=>{const{X:r,Y:n,Z:s}=t,o=t.is0();null==e&&(e=o?Rt:i.inv(s));const f=a(r*e),u=a(n*e),c=i.mul(s,e);if(o)return{x:Bt,y:Ot};if(c!==Ot)throw new Error("invZ was invalid");return{x:f,y:u}}),l=(0,Tt.x)(e=>{const{a:i,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{X:n,Y:s,Z:o,T:f}=e,u=a(n*n),c=a(s*s),h=a(o*o),l=a(h*h),p=a(u*i);if(a(h*a(p+c))!==a(l+a(r*a(u*c))))throw new Error("bad point: equation left != right (1)");if(a(n*s)!==a(o*f))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(t,e,i,r){this.X=u("x",t),this.Y=u("y",e),this.Z=u("z",i,!0),this.T=u("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(t){return(0,At.Ak)(p,t)}static msm(t,e){return(0,At.Xf)(p,r,t,e)}_setWindowSize(t){this.precompute(t)}static fromAffine(t){if(t instanceof p)throw new Error("extended point not allowed");const{x:e,y:i}=t||{};return u("x",e),u("y",i),new p(e,i,Ot,a(e*i))}precompute(t=8,e=!0){return d.createCache(this,t),e||this.multiply(Ut),this}assertValidity(){l(this)}equals(t){c(t);const{X:e,Y:i,Z:r}=this,{X:n,Y:s,Z:o}=t,f=a(e*o),u=a(n*r),h=a(i*o),l=a(s*r);return f===u&&h===l}is0(){return this.equals(p.ZERO)}negate(){return new p(a(-this.X),this.Y,this.Z,a(-this.T))}double(){const{a:e}=t,{X:i,Y:r,Z:n}=this,s=a(i*i),o=a(r*r),f=a(Ut*a(n*n)),u=a(e*s),c=i+r,h=a(a(c*c)-s-o),l=u+o,d=l-f,y=u-o,g=a(h*d),m=a(l*y),w=a(h*y),b=a(d*l);return new p(g,m,b,w)}add(e){c(e);const{a:i,d:r}=t,{X:n,Y:s,Z:o,T:f}=this,{X:u,Y:h,Z:l,T:d}=e,y=a(n*u),g=a(s*h),m=a(f*r*d),w=a(o*l),b=a((n+s)*(u+h)-y-g),I=w-m,E=w+m,_=a(g-i*y),v=a(b*I),A=a(E*_),T=a(b*_),S=a(I*E);return new p(v,A,S,T)}subtract(t){return this.add(t.negate())}multiply(t){const e=t;(0,Tt.aK)("scalar",e,Ot,s);const{p:i,f:r}=d.cached(this,e,t=>(0,At.Ak)(p,t));return(0,At.Ak)(p,[i,r])[0]}multiplyUnsafe(t,e=p.ZERO){const i=t;return(0,Tt.aK)("scalar",i,Bt,s),i===Bt?p.ZERO:this.is0()||i===Ot?this:d.unsafe(this,i,t=>(0,At.Ak)(p,t),e)}isSmallOrder(){return this.multiplyUnsafe(n).is0()}isTorsionFree(){return d.unsafe(this,s).is0()}toAffine(t){return h(this,t)}clearCofactor(){return n===Ot?this:this.multiplyUnsafe(n)}static fromBytes(t,e=!1){return(0,vt.DO)(t),p.fromHex(t,e)}static fromHex(e,r=!1){const{d:n,a:s}=t,u=i.BYTES;e=(0,Tt.qj)("pointHex",e,u),(0,Tt.e8)("zip215",r);const c=e.slice(),h=e[u-1];c[u-1]=-129&h;const l=(0,Tt.lX)(c),d=r?o:i.ORDER;(0,Tt.aK)("pointHex.y",l,Bt,d);const y=a(l*l),g=a(y-Ot),m=a(n*y-s);let{isValid:w,value:b}=f(g,m);if(!w)throw new Error("Point.fromHex: invalid y coordinate");const I=(b&Ot)===Ot,E=!!(128&h);if(!r&&b===Bt&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==I&&(b=a(-b)),p.fromAffine({x:b,y:l})}toBytes(){const{x:t,y:e}=this.toAffine(),r=(0,Tt.z)(e,i.BYTES);return r[r.length-1]|=t&Ot?128:0,r}toRawBytes(){return this.toBytes()}toHex(){return(0,vt.My)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}p.BASE=new p(t.Gx,t.Gy,Ot,a(t.Gx*t.Gy)),p.ZERO=new p(Bt,Ot,Ot,Bt),p.Fp=i,p.Fn=r;const d=new At.hT(p,8*r.BYTES);return p}class zt{constructor(t){this.ep=t}static fromBytes(t){throw new Error("fromBytes must be implemented by subclass")}static fromHex(t){throw new Error("fromHex must be implemented by subclass")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(t){return this.ep.toAffine(t)}toRawBytes(){return this.toBytes()}toHex(){return(0,vt.My)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(t){return this.assertSame(t),this.init(this.ep.add(t.ep))}subtract(t){return this.assertSame(t),this.init(this.ep.subtract(t.ep))}multiply(t){return this.init(this.ep.multiply(t))}multiplyUnsafe(t){return this.init(this.ep.multiplyUnsafe(t))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(t,e){return this.init(this.ep.precompute(t,e))}}function Pt(t){const{CURVE:e,curveOpts:i,hash:r,eddsaOpts:n}=function(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},i={Fp:t.Fp,Fn:(0,St.D0)(e.n,t.nBitLength,!0),uvRatio:t.uvRatio},r={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:r}}(t);return function(t,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:t})}(t,function(t,e,i){if("function"!=typeof e)throw new Error('"hash" function param is required');(0,Tt.DS)(i,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=i,{BASE:n,Fp:s,Fn:o}=t,a=o.ORDER,f=i.randomBytes||vt.po,u=i.adjustScalarBytes||(t=>t),c=i.domain||((t,e,i)=>{if((0,Tt.e8)("phflag",i),e.length||i)throw new Error("Contexts/pre-hash are not supported");return t});function h(t){return o.create(t)}function l(t){return h((0,Tt.lX)(t))}function p(t){const{head:i,prefix:r,scalar:o}=function(t){const i=s.BYTES;t=(0,Tt.qj)("private key",t,i);const r=(0,Tt.qj)("hashed private key",e(t),2*i),n=u(r.slice(0,i));return{head:n,prefix:r.slice(i,2*i),scalar:l(n)}}(t),a=n.multiply(o),f=a.toBytes();return{head:i,prefix:r,scalar:o,point:a,pointBytes:f}}function d(t){return p(t).pointBytes}function y(t=Uint8Array.of(),...i){const n=(0,vt.Id)(...i);return l(e(c(n,(0,Tt.qj)("context",t),!!r)))}const g={zip215:!0};n.precompute(8);const m=s.BYTES,w={secret:m,public:m,signature:2*m,seed:m};function b(t=f(w.seed)){return t}const I={getExtendedPublicKey:p,randomSecretKey:b,isValidSecretKey:function(t){try{return!!o.fromBytes(t,!1)}catch(t){return!1}},isValidPublicKey:function(e,i){try{return!!t.fromBytes(e,i)}catch(t){return!1}},randomPrivateKey:b,toMontgomery(e){const{y:i}=t.fromBytes(e),r=32===m;if(!r&&57!==m)throw new Error("only defined for 25519 and 448");const n=r?s.div(Ot+i,Ot-i):s.div(i-Ot,i+Ot);return s.toBytes(n)},toMontgomeryPriv(t){(0,vt.DO)(t,m);const i=e(t.subarray(0,m));return u(i).subarray(0,m)},precompute:(e=8,i=t.BASE)=>i.precompute(e,!1)};return Object.freeze({keygen:function(t){const e=I.randomSecretKey(t);return{secretKey:e,publicKey:d(e)}},getPublicKey:d,sign:function(t,e,i={}){t=(0,Tt.qj)("message",t),r&&(t=r(t));const{prefix:o,scalar:f,pointBytes:u}=p(e),c=y(i.context,o,t),l=n.multiply(c).toBytes(),d=h(c+y(i.context,l,u,t)*f);(0,Tt.aK)("signature.s",d,Bt,a);const g=s.BYTES,m=(0,vt.Id)(l,(0,Tt.z)(d,g));return(0,Tt.qj)("result",m,2*g)},verify:function(e,i,o,a=g){const{context:f,zip215:u}=a,c=s.BYTES;e=(0,Tt.qj)("signature",e,2*c),i=(0,Tt.qj)("message",i),o=(0,Tt.qj)("publicKey",o,c),void 0!==u&&(0,Tt.e8)("zip215",u),r&&(i=r(i));const h=(0,Tt.lX)(e.slice(c,2*c));let l,p,d;try{l=t.fromHex(o,u),p=t.fromHex(e.slice(0,c),u),d=n.multiplyUnsafe(h)}catch(t){return!1}if(!u&&l.isSmallOrder())return!1;const m=y(f,p.toBytes(),l.toBytes(),i);return p.add(l.multiplyUnsafe(m)).subtract(d).clearCofactor().is0()},utils:I,Point:t,info:{type:"edwards",lengths:w}})}(xt(e,i),r,n))}(0,vt.AI)("HashToScalar-"),BigInt(0),BigInt(1),BigInt(2);const Ct=BigInt(0),Nt=BigInt(1),Dt=BigInt(2),Kt=(BigInt(3),BigInt(5)),Mt=BigInt(8),Lt={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Mt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Yt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const qt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function kt(t,e){const i=Lt.p,r=(0,St.zi)(e*e*e,i),n=function(t){const e=BigInt(10),i=BigInt(20),r=BigInt(40),n=BigInt(80),s=Lt.p,o=t*t%s*t%s,a=(0,St.zH)(o,Dt,s)*o%s,f=(0,St.zH)(a,Nt,s)*t%s,u=(0,St.zH)(f,Kt,s)*f%s,c=(0,St.zH)(u,e,s)*u%s,h=(0,St.zH)(c,i,s)*c%s,l=(0,St.zH)(h,r,s)*h%s,p=(0,St.zH)(l,n,s)*l%s,d=(0,St.zH)(p,n,s)*l%s,y=(0,St.zH)(d,e,s)*u%s;return{pow_p_5_8:(0,St.zH)(y,Dt,s)*t%s,b2:o}}(t*(0,St.zi)(r*r*e,i)).pow_p_5_8;let s=(0,St.zi)(t*r*n,i);const o=(0,St.zi)(e*s*s,i),a=s,f=(0,St.zi)(s*qt,i),u=o===t,c=o===(0,St.zi)(-t,i),h=o===(0,St.zi)(-t*qt,i);return u&&(s=a),(c||h)&&(s=f),(0,St.dQ)(s,i)&&(s=(0,St.zi)(-s,i)),{isValid:u||c,value:s}}const Vt=(()=>(0,St.D0)(Lt.p,{isLE:!0}))(),Ht=(()=>(0,St.D0)(Lt.n,{isLE:!0}))(),Ft=(()=>({...Lt,Fp:Vt,hash:_t.Zf,adjustScalarBytes:Yt,uvRatio:kt}))(),jt=(()=>Pt(Ft))(),Jt=qt,Wt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Gt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),$t=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Zt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Xt=t=>kt(Nt,t),Qt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),te=t=>jt.CURVE.Fp.create((0,Tt.lX)(t)&Qt);function ee(t){const{d:e}=jt.CURVE,i=jt.CURVE.Fp.ORDER,r=jt.CURVE.Fp.create,n=r(Jt*t*t),s=r((n+Nt)*$t);let o=BigInt(-1);const a=r((o-e*n)*r(n+e));let{isValid:f,value:u}=kt(s,a),c=r(u*t);(0,St.dQ)(c,i)||(c=r(-c)),f||(u=c),f||(o=n);const h=r(o*(n-Nt)*Zt-a),l=u*u,p=r((u+u)*a),d=r(h*Wt),y=r(Nt-l),g=r(Nt+l);return new jt.Point(r(p*g),r(y*d),r(d*g),r(p*y))}class ie extends zt{constructor(t){super(t)}static fromAffine(t){return new ie(jt.Point.fromAffine(t))}assertSame(t){if(!(t instanceof ie))throw new Error("RistrettoPoint expected")}init(t){return new ie(t)}static hashToCurve(t){return function(t){(0,vt.DO)(t,64);const e=ee(te(t.subarray(0,32))),i=ee(te(t.subarray(32,64)));return new ie(e.add(i))}((0,Tt.qj)("ristrettoHash",t,64))}static fromBytes(t){(0,vt.DO)(t,32);const{a:e,d:i}=jt.CURVE,r=Vt.ORDER,n=Vt.create,s=te(t);if(!(0,Tt.ex)((0,Tt.z)(s,32),t)||(0,St.dQ)(s,r))throw new Error("invalid ristretto255 encoding 1");const o=n(s*s),a=n(Nt+e*o),f=n(Nt-e*o),u=n(a*a),c=n(f*f),h=n(e*i*u-c),{isValid:l,value:p}=Xt(n(h*c)),d=n(p*f),y=n(p*d*h);let g=n((s+s)*d);(0,St.dQ)(g,r)&&(g=n(-g));const m=n(a*y),w=n(g*m);if(!l||(0,St.dQ)(w,r)||m===Ct)throw new Error("invalid ristretto255 encoding 2");return new ie(new jt.Point(g,m,Nt,w))}static fromHex(t){return ie.fromBytes((0,Tt.qj)("ristrettoHex",t,32))}static msm(t,e){return(0,At.Xf)(ie,jt.Point.Fn,t,e)}toBytes(){let{X:t,Y:e,Z:i,T:r}=this.ep;const n=Vt.ORDER,s=Vt.create,o=s(s(i+e)*s(i-e)),a=s(t*e),f=s(a*a),{value:u}=Xt(s(o*f)),c=s(u*o),h=s(u*a),l=s(c*h*r);let p;if((0,St.dQ)(r*l,n)){let i=s(e*Jt),r=s(t*Jt);t=i,e=r,p=s(c*Gt)}else p=h;(0,St.dQ)(t*l,n)&&(e=s(-e));let d=s((i-e)*p);return(0,St.dQ)(d,n)&&(d=s(-d)),(0,Tt.z)(d,32)}equals(t){this.assertSame(t);const{X:e,Y:i}=this.ep,{X:r,Y:n}=t.ep,s=Vt.create,o=s(e*n)===s(i*r),a=s(i*n)===s(e*r);return o||a}is0(){return this.equals(ie.ZERO)}}ie.BASE=(()=>new ie(jt.Point.BASE))(),ie.ZERO=(()=>new ie(jt.Point.ZERO))(),ie.Fp=Vt,ie.Fn=Ht,_t.Zf,_t.qt;var re=o(7238);const ne={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x3fffffffffffffffffffffffffffffffffffffffffffffffffffffff7cca23e9c44edb49aed63690216cc2728dc58f552378c292ab5844f3"),h:BigInt(4),a:BigInt(1),d:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffffffffffffffffffffffffffffffffffffffffffffffff6756"),Gx:BigInt("0x4f1970c66bed0ded221d15a622bf36da9e146570470f1767ea6de324a3d3a46412ae1af72ab66511433b80e18b00938e2626a82bc70cc05e"),Gy:BigInt("0x693f46716eb6bc248876203756c9c7624bea73736ca3984087789c1e05a0c2d73ad3ff1ce67c39c4fdbd132c4ed7c8ad9808795bf230fa14")},se=Object.assign({},ne,{d:BigInt("0xd78b4bdc7f0daf19f24f38c29373a2ccad46157242a50f37809b1da3412a12e79ccc9c81264cfe9ad080997058fb61c4243cc32dbaa156b9"),Gx:BigInt("0x79a70b2b70400553ae7c9df416c792c61128751ac92969240c25a07d728bdc93e21f7787ed6972249de732f38496cd11698713093e9c04fc"),Gy:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffff80000000000000000000000000000000000000000000000000000001")}),oe=(0,vt.qj)(()=>re.mh.create({dkLen:114})),ae=BigInt(1),fe=BigInt(2),ue=BigInt(3),ce=BigInt(4),he=BigInt(11),le=BigInt(22),pe=BigInt(44),de=BigInt(88),ye=BigInt(223);function ge(t){return t[0]&=252,t[55]|=128,t[56]=0,t}function me(t,e){const i=ne.p,r=(0,St.zi)(t*t*e,i),n=(0,St.zi)(r*t,i),s=function(t){const e=ne.p,i=t*t*t%e,r=i*i*t%e,n=(0,St.zH)(r,ue,e)*r%e,s=(0,St.zH)(n,ue,e)*r%e,o=(0,St.zH)(s,fe,e)*i%e,a=(0,St.zH)(o,he,e)*o%e,f=(0,St.zH)(a,le,e)*a%e,u=(0,St.zH)(f,pe,e)*f%e,c=(0,St.zH)(u,de,e)*u%e,h=(0,St.zH)(c,pe,e)*f%e,l=(0,St.zH)(h,fe,e)*i%e,p=(0,St.zH)(l,ae,e)*t%e;return(0,St.zH)(p,ye,e)*l%e}((0,St.zi)(n*r*e,i)),o=(0,St.zi)(n*s,i),a=(0,St.zi)(o*o,i);return{isValid:(0,St.zi)(a*e,i)===t,value:o}}const we=(()=>(0,St.D0)(ne.p,{BITS:456,isLE:!0}))(),be=(()=>(0,St.D0)(ne.n,{BITS:448,isLE:!0}))(),Ie=Pt((()=>({...ne,Fp:we,Fn:be,hash:oe,adjustScalarBytes:ge,domain:(t,e,i)=>{if(e.length>255)throw new Error("context must be smaller than 255, got: "+e.length);return(0,vt.Id)((0,vt.AI)("SigEd448"),new Uint8Array([i?1:0,e.length]),e,t)},uvRatio:me}))());xt(se);const Ee=BigInt("39082"),_e=BigInt("78163"),ve=BigInt("98944233647732219769177004876929019128417576295529901074099889598043702116001257856802131563896515373927712232092845883226922417596214"),Ae=BigInt("315019913931389607337177038330951043522456072897266928557328499619017160722351061360252776265186336876723201881398623946864393857820716"),Te=t=>me(ae,t),Se=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Be=t=>we.create((0,Tt.lX)(t)&Se);function Oe(t){const{d:e}=Ie.CURVE,i=we.ORDER,r=we.create,n=r(-t*t),s=r(e*(n-ae)),o=r((s+ae)*(s-n)),{isValid:a,value:f}=me(_e,r((n+ae)*o));let u=f;a||(u=r(t*f));let c=ae;a||(c=r(-ae));const h=r(u*(n+ae));let l=h;(0,St.dQ)(h,i)&&(l=r(-h));const p=h*h,d=r(l*fe),y=r(p+ae),g=r(p-ae),m=r(u*h*(n-ae)*_e+c);return new Ie.Point(r(d*m),r(g*y),r(y*m),r(d*g))}class Ue extends zt{constructor(t){super(t)}static fromAffine(t){return new Ue(Ie.Point.fromAffine(t))}assertSame(t){if(!(t instanceof Ue))throw new Error("DecafPoint expected")}init(t){return new Ue(t)}static hashToCurve(t){return function(t){(0,vt.DO)(t,112);const e=Oe(Be(t.slice(0,56))),i=Oe(Be(t.slice(56,112)));return new Ue(e.add(i))}((0,Tt.qj)("decafHash",t,112))}static fromBytes(t){(0,vt.DO)(t,56);const{d:e}=Ie.CURVE,i=we.ORDER,r=we.create,n=Be(t);if(!(0,Tt.ex)((0,Tt.z)(n,56),t)||(0,St.dQ)(n,i))throw new Error("invalid decaf448 encoding 1");const s=r(n*n),o=r(ae+s),a=r(o*o),f=r(a-ce*e*s),{isValid:u,value:c}=Te(r(f*a));let h=r((n+n)*c*o*ve);(0,St.dQ)(h,i)&&(h=r(-h));const l=r(h*c*f*Ae),p=r((ae-s)*c*o),d=r(l*p);if(!u)throw new Error("invalid decaf448 encoding 2");return new Ue(new Ie.Point(l,p,ae,d))}static fromHex(t){return Ue.fromBytes((0,Tt.qj)("decafHex",t,56))}static msm(t,e){return(0,At.Xf)(Ue,be,t,e)}toBytes(){const{X:t,Z:e,T:i}=this.ep,r=we.ORDER,n=we.create,s=n(n(t+i)*n(t-i)),o=n(t*t),{value:a}=Te(n(s*Ee*o));let f=n(a*s*ve);(0,St.dQ)(f,r)&&(f=n(-f));const u=n(Ae*f*e-i);let c=n(Ee*a*t*u);return(0,St.dQ)(c,r)&&(c=n(-c)),(0,Tt.z)(c,56)}equals(t){this.assertSame(t);const{X:e,Y:i}=this.ep,{X:r,Y:n}=t.ep,s=we.create;return s(e*n)===s(i*r)}is0(){return this.equals(Ue.ZERO)}}Ue.BASE=(()=>new Ue(Ie.Point.BASE).multiplyUnsafe(fe))(),Ue.ZERO=(()=>new Ue(Ie.Point.ZERO))(),Ue.Fp=we,Ue.Fn=be;const Re=()=>{const t=new Uint8Array(32);return crypto.getRandomValues(t),t.buffer},xe=t=>V.Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");function ze(t){if("string"!=typeof t)return t;const[,e]=t.split(".");if(!e)throw new Error("Invalid JWT: Missing payload");const i=JSON.parse(atob(e)),{exp:r,public_key:n,session_type:s,user_id:o,organization_id:a}=i;if(!(r&&n&&s&&o&&a))throw new Error("JWT payload missing required fields");return{sessionType:s,userId:o,organizationId:a,expiry:r,token:n}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));class Pe{constructor(t){this.getActivity=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_activity",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetActivity=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_activity",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getApiKey=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_api_key",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetApiKey=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_api_key",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getApiKeys=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_api_keys",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetApiKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getAttestationDocument=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_attestation",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetAttestationDocument=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_attestation",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getAuthenticator=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_authenticator",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetAuthenticator=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getAuthenticators=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_authenticators",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetAuthenticators=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getOauthProviders=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_oauth_providers",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetOauthProviders=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getOrganization=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_organization",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetOrganization=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_organization",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getOrganizationConfigs=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_organization_configs",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetOrganizationConfigs=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getPolicy=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_policy",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetPolicy=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_policy",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getPrivateKey=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_private_key",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetPrivateKey=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_private_key",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getUser=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_user",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetUser=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_user",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getWallet=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_wallet",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getWalletAccount=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/get_wallet_account",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetWalletAccount=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getActivities=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_activities",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetActivities=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_activities",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getPolicies=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_policies",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetPolicies=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_policies",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.listPrivateKeyTags=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_private_key_tags",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampListPrivateKeyTags=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getPrivateKeys=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_private_keys",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetPrivateKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getSubOrgIds=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_suborgs",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetSubOrgIds=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.listUserTags=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_user_tags",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampListUserTags=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getUsers=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_users",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetUsers=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_users",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getVerifiedSubOrgIds=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_verified_suborgs",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetVerifiedSubOrgIds=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getWalletAccounts=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_wallet_accounts",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetWalletAccounts=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getWallets=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/list_wallets",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetWallets=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/list_wallets",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.getWhoami=async(t={})=>{let e=await N(O.Session);return e=ze(e),this.request("/public/v1/query/whoami",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampGetWhoami=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/query/whoami",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.approveActivity=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.activityDecision("/public/v1/submit/approve_activity",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createApiKeys=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_api_keys",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createApiOnlyUsers=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_api_only_users",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createAuthenticators=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_authenticators",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createInvitations=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_invitations",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createOauthProviders=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_oauth_providers",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createPolicies=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_policies",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_policies",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createPolicy=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_policy",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_policy",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createPrivateKeyTag=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_private_key_tag",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createPrivateKeys=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_private_keys",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createReadOnlySession=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_read_only_session",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createReadWriteSession=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_read_write_session",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createSubOrganization=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_sub_organization",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createUserTag=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_user_tag",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createUsers=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_users",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_users",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createWallet=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_wallet",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.createWalletAccounts=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/create_wallet_accounts",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteApiKeys=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_api_keys",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteAuthenticators=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_authenticators",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteInvitation=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_invitation",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteOauthProviders=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_oauth_providers",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deletePolicy=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_policy",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deletePrivateKeyTags=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_private_key_tags",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deletePrivateKeys=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_private_keys",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteSubOrganization=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_sub_organization",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteUserTags=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_user_tags",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteUsers=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_users",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_users",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.deleteWallets=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/delete_wallets",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.emailAuth=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/email_auth",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/email_auth",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.exportPrivateKey=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/export_private_key",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.exportWallet=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/export_wallet",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.exportWalletAccount=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/export_wallet_account",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.importPrivateKey=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/import_private_key",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.importWallet=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/import_wallet",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initFiatOnRamp=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initImportPrivateKey=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_import_private_key",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initImportWallet=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_import_wallet",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initOtp=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_otp",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP"},"initOtpResult")},this.stampInitOtp=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_otp",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initOtpAuth=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_otp_auth",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V2"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.initUserEmailRecovery=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/init_user_email_recovery",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.oauth=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/oauth",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/oauth",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.oauthLogin=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/oauth_login",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.otpAuth=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/otp_auth",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.otpLogin=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/otp_login",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/otp_login",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.recoverUser=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/recover_user",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/recover_user",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.rejectActivity=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.activityDecision("/public/v1/submit/reject_activity",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.removeOrganizationFeature=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/remove_organization_feature",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.setOrganizationFeature=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/set_organization_feature",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.signRawPayload=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/sign_raw_payload",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.signRawPayloads=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/sign_raw_payloads",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.signTransaction=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/sign_transaction",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.stampLogin=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/stamp_login",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updatePolicy=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_policy",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_policy",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updatePrivateKeyTag=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_private_key_tag",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateRootQuorum=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_root_quorum",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateUser=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_user",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_user",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateUserEmail=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_user_email",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateUserName=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_user_name",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateUserPhoneNumber=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_user_phone_number",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateUserTag=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_user_tag",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.updateWallet=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/update_wallet",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.verifyOtp=async t=>{const{organizationId:e,timestampMs:i,...r}=t;let n=await N(O.Session);return n=ze(n),this.command("/public/v1/submit/verify_otp",{parameters:r,organizationId:e??n?.organizationId??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.testRateLimits=async t=>{let e=await N(O.Session);return e=ze(e),this.request("/tkhq/api/v1/test_rate_limits",{...t,organizationId:t.organizationId??e?.organizationId??this.config.organizationId})},this.stampTestRateLimits=async t=>{if(!this.stamper)return;const e=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",i=JSON.stringify(t);return{body:i,stamp:await this.stamper.stamp(i),url:e}},this.config=t,t.stamper&&(this.stamper=t.stamper)}async request(t,e){const i=this.config.apiBaseUrl+t,r=JSON.stringify(e);var n={"X-Client-Version":"@turnkey/sdk-browser@5.3.3"};if(this.stamper){const t=await this.stamper.stamp(r);n[t.stampHeaderName]=t.stampHeaderValue}this.config.readOnlySession&&(n["X-Session"]=this.config.readOnlySession);const s=await fetch(i,{method:"POST",headers:n,body:r,redirect:"follow"});if(!s.ok){let t;try{t=await s.json()}catch(t){throw new Error(`${s.status} ${s.statusText}`)}throw new z(t)}return await s.json()}async command(t,e,i){const r=this.config.activityPoller?.intervalMs??1e3,n=this.config.activityPoller?.numRetries??3,s=t=>{const{result:e,status:r}=t.activity;return"ACTIVITY_STATUS_COMPLETED"===r?{...e[`${i}`],...t}:t};let o=0;const a=async t=>{const e={activityId:t},i=await this.getActivity(e);return o>n?s(i):(o+=1,m.includes(i.activity.status)?s(i):(await(f=r,new Promise(t=>setTimeout(t,f))),a(t)));var f},f=await this.request(t,e);return m.includes(f.activity.status)?s(f):a(f.activity.id)}async activityDecision(t,e){const i=await this.request(t,e);return{...i.activity.result,...i}}}class Ce extends Pe{constructor(t,e){super(t),this.authClient=e}}const Ne="900";class De extends Ce{constructor(e,i){super(e,i),this.login=async t=>{const e=await this.createReadOnlySession(t||{}),i={sessionType:M.READ_ONLY,userId:e.userId,organizationId:e.organizationId,expiry:Number(e.sessionExpiry),token:e.session};return await K(i,this.authClient),e},this.refreshSession=async({sessionType:e=M.READ_WRITE,expirationSeconds:i=Ne,invalidateExisting:r=!1,publicKey:n}={})=>{try{switch(e){case M.READ_ONLY:{if(!(this instanceof Ke))throw new Error("You must use a passkey client to refresh a read-only session.");const t=await this.createReadOnlySession({}),e={sessionType:M.READ_ONLY,userId:t.userId,organizationId:t.organizationId,expiry:Number(t.sessionExpiry),token:t.session};return void await K(e,B.Passkey)}case M.READ_WRITE:if(this instanceof Le){let e,s=n;if(!n){e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]);const i=new Uint8Array(await crypto.subtle.exportKey("raw",e.publicKey));s=(0,t.pD)((0,t.JD)(i))}const o=await this.stampLogin({publicKey:s,expirationSeconds:i,invalidateExisting:r});return await this.resetKeyPair(e),void await K(o.session,B.IndexedDb)}if(this instanceof Me){const t=n??await this.getEmbeddedPublicKey();if(!t)throw new Error("Unable to refresh session: missing target public key.");const e=await this.createReadWriteSession({targetPublicKey:t,expirationSeconds:i,invalidateExisting:r}),s={sessionType:M.READ_WRITE,userId:e.userId,organizationId:e.organizationId,expiry:Date.now()+1e3*Number(i),token:e.credentialBundle};return await this.injectCredentialBundle(s.token),void await K(s,B.Iframe)}throw new Error("Unsupported client type for read-write session refresh.");default:throw new Error(`Invalid session type passed: ${e}`)}}catch(t){throw new Error(`Unable to refresh session: ${t}`)}},this.loginWithBundle=async t=>{const{bundle:e,expirationSeconds:i=Ne}=t;if(!(this instanceof Me))throw new Error("You must use an iframe client to log in with a session.");await this.injectCredentialBundle(e);const r=await this.getWhoami(),n={sessionType:M.READ_WRITE,userId:r.userId,organizationId:r.organizationId,expiry:Date.now()+1e3*Number(i),token:e};await K(n,B.Iframe)},this.loginWithSession=async t=>{if(!(this instanceof Le))throw new Error("You must use an indexedDb client to log in with a session.");await K(t,B.IndexedDb)},this.loginWithPasskey=async t=>{try{const{sessionType:e=M.READ_WRITE,publicKey:i,expirationSeconds:r=Ne}=t;if(e===M.READ_ONLY){const t=await this.createReadOnlySession({}),e={sessionType:M.READ_ONLY,userId:t.userId,organizationId:t.organizationId,expiry:Number(t.sessionExpiry),token:t.session};await K(e,B.Passkey)}else{if(e!==M.READ_WRITE)throw new Error(`Invalid session type passed: ${e}`);{if(!i)throw new Error("You must provide a publicKey to create a passkey read write session.");const t=await this.stampLogin({publicKey:i,expirationSeconds:r});await K(t.session,B.IndexedDb)}}}catch(t){throw new Error(`Unable to log in with the provided passkey: ${t}`)}},this.loginWithWallet=async t=>{try{const{sessionType:e=M.READ_WRITE,publicKey:i,expirationSeconds:r=Ne}=t;if(e===M.READ_ONLY){const t=await this.createReadOnlySession({}),e={sessionType:M.READ_ONLY,userId:t.userId,organizationId:t.organizationId,expiry:Number(t.sessionExpiry),token:t.session};await K(e,B.Wallet)}else{if(e!==M.READ_WRITE)throw new Error(`Invalid session type passed: ${e}`);{if(!i)throw new Error("You must provide a publicKey to create a read-write session.");const t=await this.stampLogin({publicKey:i,expirationSeconds:r});await K(t.session,B.IndexedDb)}}}catch(t){throw new Error(`Unable to log in with the provided wallet: ${t}`)}},this.deleteUserAuth=async t=>{try{const{userId:e,phoneNumber:i,email:r,authenticatorIds:n,oauthProviderIds:s,apiKeyIds:o}=t,a=[];return i&&a.push(this.updateUser({userId:e,userPhoneNumber:"",userTagIds:[]})),r&&a.push(this.updateUser({userId:e,userEmail:"",userTagIds:[]})),n&&n.length>0&&a.push(this.deleteAuthenticators({userId:e,authenticatorIds:n})),s&&s.length>0&&a.push(this.deleteOauthProviders({userId:e,providerIds:s})),o&&o.length>0&&a.push(this.deleteApiKeys({userId:e,apiKeyIds:o})),await Promise.all(a)}catch(t){throw t}},this.addUserAuth=async t=>{try{const{userId:e,phoneNumber:i,email:r,authenticators:n,oauthProviders:s,apiKeys:o}=t,a=[];return i&&a.push(this.updateUser({userId:e,userPhoneNumber:i,userTagIds:[]})),r&&a.push(this.updateUser({userId:e,userEmail:r,userTagIds:[]})),n&&n.length>0&&a.push(this.createAuthenticators({userId:e,authenticators:n})),s&&s.length>0&&a.push(this.createOauthProviders({userId:e,oauthProviders:s})),o&&o.length>0&&a.push(this.createApiKeys({userId:e,apiKeys:o})),await Promise.all(a)}catch(t){throw t}}}async updateUserAuth(t){try{const{userId:e,phoneNumber:i,email:r,authenticators:n,oauthProviders:s,apiKeys:o}=t,a=[],f={};return void 0!==i&&(f.userPhoneNumber=null===i?"":i),void 0!==r&&(f.userEmail=null===r?"":r),Object.keys(f).length>0&&a.push(this.updateUser({userId:e,...f,userTagIds:[]})),n&&(n.add?.length&&a.push(this.createAuthenticators({userId:e,authenticators:n.add})),n.deleteIds?.length&&a.push(this.deleteAuthenticators({userId:e,authenticatorIds:n.deleteIds}))),s&&(s.add?.length&&a.push(this.createOauthProviders({userId:e,oauthProviders:s.add})),s.deleteIds?.length&&a.push(this.deleteOauthProviders({userId:e,providerIds:s.deleteIds}))),o&&(o.add?.length&&a.push(this.createApiKeys({userId:e,apiKeys:o.add})),o.deleteIds?.length&&a.push(this.deleteApiKeys({userId:e,apiKeyIds:o.deleteIds}))),await Promise.all(a),!0}catch(t){throw t}}}class Ke extends De{constructor(t){super(t,B.Passkey),this.createUserPasskey=async(t={})=>{const e=Re(),i=xe(e),r=Re(),n={publicKey:{rp:{id:t.publicKey?.rp?.id??this.rpId,name:t.publicKey?.rp?.name??""},challenge:t.publicKey?.challenge??e,pubKeyCredParams:t.publicKey?.pubKeyCredParams??[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],user:{id:t.publicKey?.user?.id??r,name:t.publicKey?.user?.name??"Default User",displayName:t.publicKey?.user?.displayName??"Default User"},authenticatorSelection:{authenticatorAttachment:t.publicKey?.authenticatorSelection?.authenticatorAttachment??void 0,requireResidentKey:t.publicKey?.authenticatorSelection?.requireResidentKey??!0,residentKey:t.publicKey?.authenticatorSelection?.residentKey??"required",userVerification:t.publicKey?.authenticatorSelection?.userVerification??"preferred"}}},s=await g(n);return{encodedChallenge:t.publicKey?.challenge?xe(t.publicKey?.challenge):i,attestation:s}},this.rpId=this.stamper.rpId}}class Me extends De{constructor(t){super(t,B.Iframe),this.injectCredentialBundle=async t=>await this.stamper.injectCredentialBundle(t),this.injectWalletExportBundle=async(t,e)=>await this.stamper.injectWalletExportBundle(t,e),this.injectKeyExportBundle=async(t,e,i)=>await this.stamper.injectKeyExportBundle(t,e,i),this.injectImportBundle=async(t,e,i)=>await this.stamper.injectImportBundle(t,e,i),this.extractWalletEncryptedBundle=async()=>await this.stamper.extractWalletEncryptedBundle(),this.extractKeyEncryptedBundle=async t=>await this.stamper.extractKeyEncryptedBundle(t),this.getEmbeddedPublicKey=async()=>await this.stamper.getEmbeddedPublicKey(),this.clearEmbeddedKey=async()=>await this.stamper.clearEmbeddedKey(),this.initEmbeddedKey=async()=>await this.stamper.initEmbeddedKey(),this.iframePublicKey=this.stamper.iframePublicKey}}class Le extends De{constructor(t){super(t,B.IndexedDb),this.clear=async()=>await this.stamper.clear(),this.getPublicKey=async()=>await this.stamper.getPublicKey(),this.init=async()=>await this.stamper.init(),this.resetKeyPair=async t=>await this.stamper.resetKeyPair(t)}}class Ye extends Error{constructor(t){super(`TelegramCloudStorageStamperError: ${t}`)}}class qe extends Error{constructor(t){super(`TelegramSuccessButFalseError: ${t}`)}}const ke="TURNKEY_API_KEY";class Ve{constructor(){this.checkTelegramContext()}static async create(t){let e=new Ve;return await e.setSigningKey(t),e}async stamp(t){if(this.checkTelegramContext(),!this.stamper)throw new Ye("Cannot stamp with uninitialized telegram stamper, try running .create() or .setSigningKey()");return await this.stamper.stamp(t)}async setSigningKey(t){if(t)if(t.cloudStorageKey&&!t.cloudStorageAPIKey){let{apiPublicKey:e,apiPrivateKey:i}=await this.getAPIKey(t.cloudStorageKey)??{};if(e&&i)return void(this.stamper=new r({apiPublicKey:e,apiPrivateKey:i}))}else{if(!t.cloudStorageKey&&t.cloudStorageAPIKey)return await this.insertAPIKey(t.cloudStorageAPIKey.apiPublicKey,t.cloudStorageAPIKey.apiPrivateKey,ke),void(this.stamper=new r({apiPublicKey:t.cloudStorageAPIKey.apiPublicKey,apiPrivateKey:t.cloudStorageAPIKey.apiPrivateKey}));if(t.cloudStorageKey&&t.cloudStorageAPIKey)return await this.insertAPIKey(t.cloudStorageAPIKey.apiPublicKey,t.cloudStorageAPIKey.apiPrivateKey,t.cloudStorageKey),void(this.stamper=new r({apiPublicKey:t.cloudStorageAPIKey.apiPublicKey,apiPrivateKey:t.cloudStorageAPIKey.apiPrivateKey}))}else{let{apiPublicKey:t,apiPrivateKey:e}=await this.getAPIKey(ke)??{};if(t&&e)return void(this.stamper=new r({apiPublicKey:t,apiPrivateKey:e}))}throw new Ye("Invalid configuration received for signing key")}async insertAPIKey(t,e,i=ke){return await this.setItem(i,this.stringifyAPIKey(t,e))}async getAPIKey(t=ke){try{const e=await this.getItem(t);return e?this.parseAPIKey(e):null}catch{return null}}checkTelegramContext(){if(null==window?.Telegram?.WebApp?.CloudStorage)throw new Ye("Cannot use telegram stamper in non telegram mini-app environment, window.Telegram.WebApp.CloudStorage is not defined")}stringifyAPIKey(t,e){return JSON.stringify({apiPublicKey:t,apiPrivateKey:e})}parseAPIKey(t){try{const e=JSON.parse(t);return this.isCloudStorageAPIKey(e)?{apiPublicKey:e.apiPublicKey,apiPrivateKey:e.apiPrivateKey}:null}catch(t){throw new Ye("Failed parsing API key from Telegram Cloud Storage")}}isCloudStorageAPIKey(t){return"string"==typeof t.apiPublicKey&&"string"==typeof t.apiPrivateKey}async getItem(t){return new Promise((e,i)=>{window.Telegram.WebApp.CloudStorage.getItem(t,(r,n)=>{null!=r&&i(new Ye(`Failed getting value: ${t} from Telegram Cloud Storage${r&&`: ${r}`}`)),e(n)})})}async setItem(t,e){return new Promise((i,r)=>{window.Telegram.WebApp.CloudStorage.setItem(t,e,(n,s)=>{null!=n&&r(new Ye(`Failed inserting value: ${e} into Telegram Cloud Storage at key: ${t}${n&&`: ${n}`}`)),s||r(new qe("Telegram indicated success for storing key, but also returned false, see documention: https://core.telegram.org/bots/webapps#cloudstorage")),i()})})}async clearItem(t){return this.checkTelegramContext(),new Promise((e,i)=>{window.Telegram.WebApp.CloudStorage.removeItem(t,(r,n)=>{r&&i(new Ye(`Failed removing key: ${t}${r&&`: ${r}`}`)),n||i(new qe("Telegram indicated success for removing key, but also returned false, see documention: https://core.telegram.org/bots/webapps#cloudstorage")),e()})})}}var He=o(6769);window.Turnkey={TurnkeyBrowserClient:De,IframeStamper:class{constructor(t){if("undefined"==typeof window)throw new Error("Cannot initialize iframe in non-browser environment");if("undefined"==typeof MessageChannel)throw new Error("Cannot initialize iframe without MessageChannel support");if(!t.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=t.iframeContainer,this.container.querySelector(`#${t.iframeElementId}`))throw new Error(`Iframe element with ID ${t.iframeElementId} already exists`);let e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-scripts allow-same-origin"),e.id=t.iframeElementId,e.src=t.iframeUrl,this.iframe=e;const i=new URL(t.iframeUrl);this.iframeOrigin=i.origin,this.iframePublicKey=null,this.messageChannel=new MessageChannel,this.pendingRequests=new Map}onMessageHandler(t){const{type:e,value:i,requestId:r}=t.data||{};if(!r)return e===w.PublicKeyReady?void(this.iframePublicKey=i):void 0;const n=this.pendingRequests.get(r);n?(this.pendingRequests.delete(r),e!==w.Error?e===w.Stamp?n.resolve({stampHeaderName:"X-Stamp",stampHeaderValue:i}):n.resolve(i):n.reject(new Error(i))):console.warn(`Received response for unknown request: ${r}`)}async init(t){return new Promise((e,i)=>{this.container.appendChild(this.iframe),this.iframe.addEventListener("load",()=>{this.iframe.contentWindow?.postMessage?this.iframe.contentWindow.postMessage({type:w.TurnkeyInitMessageChannel,dangerouslyOverrideIframeKeyTtl:t},this.iframeOrigin,[this.messageChannel.port2]):i(new Error("contentWindow or contentWindow.postMessage does not exist"))}),this.messageChannel.port1.onmessage=t=>{t.data?.type===w.PublicKeyReady&&(this.iframePublicKey=t.data.value,e(t.data.value)),this.onMessageHandler(t)}})}clear(){this.messageChannel?.port1?.close(),this.messageChannel?.port2?.close(),this.iframe.remove(),this.pendingRequests.clear()}publicKey(){return this.iframePublicKey}async getEmbeddedPublicKey(){const t=await this.createRequest(w.GetEmbeddedPublicKey);return this.iframePublicKey=t,t}async clearEmbeddedKey(){return await this.createRequest(w.ClearEmbeddedKey),this.iframePublicKey="",null}async initEmbeddedKey(){const t=await this.createRequest(w.InitEmbeddedKey);return this.iframePublicKey=t,t}createRequest(t,e={}){return new Promise((i,r)=>{const n=crypto.randomUUID();this.pendingRequests.set(n,{resolve:i,reject:r,requestId:n}),this.messageChannel.port1.postMessage({type:t,requestId:n,...e})})}async injectCredentialBundle(t){return this.createRequest(w.InjectCredentialBundle,{value:t})}async injectKeyExportBundle(t,e,i){return this.createRequest(w.InjectKeyExportBundle,{value:t,keyFormat:i,organizationId:e})}async injectWalletExportBundle(t,e){return this.createRequest(w.InjectWalletExportBundle,{value:t,organizationId:e})}async injectImportBundle(t,e,i){return this.createRequest(w.InjectImportBundle,{value:t,organizationId:e,userId:i})}async extractWalletEncryptedBundle(){return this.createRequest(w.ExtractWalletEncryptedBundle)}async extractKeyEncryptedBundle(t){return this.createRequest(w.ExtractKeyEncryptedBundle,{keyFormat:t})}async applySettings(t){return this.createRequest(w.ApplySettings,{value:JSON.stringify(t)})}async stamp(t){if(null===this.iframePublicKey)throw new Error("null iframe public key. Have you called/awaited .init()?");return this.createRequest(w.StampRequest,{value:t})}},getWebAuthnAttestation:g,TelegramCloudStorageStamper:Ve,generateP256KeyPair:function(){var t=He.s9.utils.randomPrivateKey(),e=He.s9.getPublicKey(t);return{publicKey:He.s9.utils.bytesToHex(e),privateKey:He.s9.utils.bytesToHex(t)}}}})()})();