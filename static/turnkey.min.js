var Turnkey=(()=>{var $5=Object.create;var Il=Object.defineProperty;var j5=Object.getOwnPropertyDescriptor;var G5=Object.getOwnPropertyNames;var V5=Object.getPrototypeOf,W5=Object.prototype.hasOwnProperty;var m=(t,e)=>()=>(t&&(e=t(t=0)),e);var Cu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ar=(t,e)=>{for(var r in e)Il(t,r,{get:e[r],enumerable:!0})},_x=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of G5(e))!W5.call(t,o)&&o!==r&&Il(t,o,{get:()=>e[o],enumerable:!(n=j5(e,o))||n.enumerable});return t};var wh=(t,e,r)=>(r=t!=null?$5(V5(t)):{},_x(e||!t||!t.__esModule?Il(r,"default",{value:t,enumerable:!0}):r,t)),Y5=t=>_x(Il({},"__esModule",{value:!0}),t);function Sl(t){if(t.length!==65||t[0]!==4)throw new Error("Invalid uncompressed P-256 key");let e=t.slice(1,33),r=t.slice(33,65);if(e.length!==32||r.length!==32)throw new Error("Invalid x or y length");let n=(r[31]&1)===0?2:3,o=new Uint8Array(33);return o[0]=n,o.set(e,1),o}function _n(t){let e=Z5(t);return J5(e)}function Ex(t,e){let r=t.padStart(Math.ceil(t.length/2)*2,"0"),n=pt(r,e);return _n(n.reduce((o,i)=>o+String.fromCharCode(i),""))}function J5(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xt(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function Ax(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function Z5(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let r="";for(e=0;e<t.length;e+=3){let n=[void 0,void 0,void 0,void 0];n[0]=t.charCodeAt(e)>>2,n[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(n[1]|=t.charCodeAt(e+1)>>4,n[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(n[2]|=t.charCodeAt(e+2)>>6,n[3]=t.charCodeAt(e+2)&63);for(let o=0;o<n.length;o++)typeof n[o]>"u"?r+="=":r+=X5(n[o])}return r}function X5(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t>=0&&t<64)return e[t]}var pt,vh,cr=m(()=>{pt=(t,e)=>{let r=/^[0-9A-Fa-f]+$/;if(!t||t.length%2!=0||!r.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);let n=new Uint8Array(t.match(/../g).map(i=>parseInt(i,16)));if(!e)return n;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let o=new Uint8Array(e);return o.set(n,e-n.length),o};vh=(t,e)=>{let r=e-t.length;if(r>0){let n=new Uint8Array(r).fill(0);return new Uint8Array([...n,...t])}if(r<0){let n=r*-1,o=0;for(let i=0;i<n&&i<t.length;i++)t[i]===0&&o++;if(o!==n)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${o}.`);return t.slice(n,n+e)}return t}});function Ix(t){if(t.length%2!=0)throw new Error("Hex string length must be multiple of 2");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e}function Sx(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);e+=n.length>1?n:"0"+n}return e}function Ru(t,e){return btoa(Q5(t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Q5(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return e}var Tx=m(()=>{});function Pl(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function Px(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function _h(t){return BigInt("0x"+Sx(t))}function Tl(t,e){let r=t.toString(16),n=e*2,o="";if(n<r.length)throw new Error(`cannot pack integer with ${r.length} hex chars into ${e} bytes`);return o="0".repeat(n-r.length),Ix(o+r)}function Eh(t,e){let r=BigInt(1)<<BigInt(e);return(t&r)!==BigInt(0)}function t8(t,e,r){if(e===BigInt(0))return BigInt(1);let n=t,o=e.toString(2);for(let i=1;i<o.length;++i)n=n*n%r,o[i]==="1"&&(n=n*t%r);return n}function e8(t,e){if(e<=BigInt(0))throw new Error("p must be positive");let r=t%e;if(Eh(e,0)&&Eh(e,1)){let n=e+BigInt(1)>>BigInt(2),o=t8(r,n,e);if(o*o%e!==r)throw new Error("could not find a modular square root");return o}throw new Error("unsupported modulus value")}function r8(t,e){let r=Pl(),n=r-BigInt(3),o=Px(),i=((t*t+n)*t+o)%r,s=e8(i,r);return e!==Eh(s,0)&&(s=(r-s)%r),s}function n8(t,e){let r=Pl(),n=r-BigInt(3),o=Px(),i=((t*t+n)*t+o)%r;return e**BigInt(2)%r===i}function Ah(t){let e=o8(),r=e+1,n=2*e+1;if(t.length!==r&&t.length!==n)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((t[0]===2||t[0]===3)&&t.length==r){let o=t[0]===3,i=_h(t.subarray(1,t.length)),s=Pl();if(i<BigInt(0)||i>=s)throw new Error("x is out of range");let a=r8(i,o);return{kty:"EC",crv:"P-256",x:Ru(Tl(i,32)),y:Ru(Tl(a,32)),ext:!0}}else if(t[0]===4&&t.length==n){let o=_h(t.subarray(1,e+1)),i=_h(t.subarray(e+1,2*e+1)),s=Pl();if(o<BigInt(0)||o>=s||i<BigInt(0)||i>=s||!n8(o,i))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:Ru(Tl(o,32)),y:Ru(Tl(i,32)),ext:!0}}throw new Error("invalid format")}function o8(){return 32}var Ih=m(()=>{Tx();});function Bl(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n;try{n=Ah(pt(r))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return n.d=Ex(e,32),n}var Sh=m(()=>{Ih();cr()});var Ux={};ar(Ux,{signWithApiKey:()=>s8});async function a8(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n=Bl({uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r});return await crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function c8(t){let{key:e,content:r}=t,n=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,new TextEncoder().encode(r)),o=u8(new Uint8Array(n));return xt(o)}function u8(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=Bx(t.subarray(0,t.length/2)),r=Bx(t.subarray(t.length/2,t.length)),n=0,o=2+e.length+1+1+r.length,i;return o>=128?(i=new Uint8Array(o+3),i[n++]=48,i[n++]=129,i[n++]=o):(i=new Uint8Array(o+2),i[n++]=48,i[n++]=o),i[n++]=2,i[n++]=e.length,i.set(e,n),n+=e.length,i[n++]=2,i[n++]=r.length,i.set(r,n),i}function Bx(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let r=0;(t[e]&128)==128&&(r=1);let n=new Uint8Array(t.length-e+r);return n.set(t.subarray(e),r),n}var s8,Ox=m(()=>{Sh();cr();s8=async t=>{let{content:e,publicKey:r,privateKey:n}=t,o=await a8({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r});return await c8({key:o,content:e})}});var Cx=Cu(()=>{});var Rx={};ar(Rx,{signWithApiKey:()=>f8});var Ul,f8,kx=m(()=>{Ul=wh(Cx(),1);Sh();f8=async t=>{let{content:e,publicKey:r,privateKey:n}=t,o=(void 0)({key:Bl({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r}),format:"jwk"}),i=(void 0)("SHA256");return i.write(Buffer.from(e)),i.end(),i.sign(o,"hex")}});var Gi,Nx=m(()=>{Gi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function co(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ur(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function St(t,...e){if(!co(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ku(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ur(t.outputLen),ur(t.blockLen)}function An(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ol(t,e){St(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Dx(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Cl(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Tr(t,e){return t<<32-e|t>>>e}function Nu(t,e){return t<<e|t>>>32-e>>>0}function p8(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function d8(t){for(let e=0;e<t.length;e++)t[e]=p8(t[e]);return t}function uo(t){if(St(t),Lx)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=m8[t[r]];return e}function zx(t){if(t>=En._0&&t<=En._9)return t-En._0;if(t>=En.A&&t<=En.F)return t-(En.A-10);if(t>=En.a&&t<=En.f)return t-(En.a-10)}function ma(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Lx)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let s=zx(t.charCodeAt(i)),a=zx(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function Vi(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Gr(t){return typeof t=="string"&&(t=Vi(t)),St(t),t}function Tt(...t){let e=0;for(let n=0;n<t.length;n++){let o=t[n];St(o),e+=o.length}let r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}function fo(t){let e=n=>t().update(Gr(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Pr(t=32){if(Gi&&typeof Gi.getRandomValues=="function")return Gi.getRandomValues(new Uint8Array(t));if(Gi&&typeof Gi.randomBytes=="function")return Uint8Array.from(Gi.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var l8,Th,Lx,m8,En,ao,Pe=m(()=>{Nx();l8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Th=l8?t=>t:d8,Lx=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",m8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));En={_0:48,_9:57,A:65,F:70,a:97,f:102};ao=class{}});function zu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Du(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Mx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Uh:BigInt("0x"+t)}function Br(t){return Mx(uo(t))}function Oh(t){return St(t),Mx(uo(Uint8Array.from(t).reverse()))}function Wi(t,e){return ma(t.toString(16).padStart(e*2,"0"))}function Ch(t,e){return Wi(t,e).reverse()}function zt(t,e,r){let n;if(typeof e=="string")try{n=ma(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(co(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(t+" of length "+r+" expected, got "+o);return n}function Lu(t,e,r){return Ph(t)&&Ph(e)&&Ph(r)&&e<=t&&t<r}function Rl(t,e,r,n){if(!Lu(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Kx(t){let e;for(e=0;t>Uh;t>>=Bh,e+=1);return e}function Hx(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=d=>new Uint8Array(d),o=d=>Uint8Array.of(d),i=n(t),s=n(t),a=0,c=()=>{i.fill(1),s.fill(0),a=0},u=(...d)=>r(s,i,...d),f=(d=n(0))=>{s=u(o(0),d),i=u(),d.length!==0&&(s=u(o(1),d),i=u())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,b=[];for(;d<e;){i=u();let h=i.slice();b.push(h),d+=i.length}return Tt(...b)};return(d,b)=>{c(),f(d);let h;for(;!(h=b(l()));)f();return c(),h}}function Fx(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function Ji(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(o,i,s){let a=t[o];if(s&&a===void 0)return;let c=typeof a;if(c!==i||a===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([o,i])=>n(o,i,!1)),Object.entries(r).forEach(([o,i])=>n(o,i,!0))}function Rh(t){let e=new WeakMap;return(r,...n)=>{let o=e.get(r);if(o!==void 0)return o;let i=t(r,...n);return e.set(r,i),i}}var Uh,Bh,Ph,Yi,ha=m(()=>{Pe();Pe();Uh=BigInt(0),Bh=BigInt(1);Ph=t=>typeof t=="bigint"&&Uh<=t;Yi=t=>(Bh<<BigInt(t))-Bh});function jt(t,e){let r=t%e;return r>=ge?r:e+r}function We(t,e,r){let n=t;for(;e-- >ge;)n*=n,n%=r;return n}function qx(t,e){if(t===ge)throw new Error("invert: expected non-zero number");if(e<=ge)throw new Error("invert: expected positive modulus, got "+e);let r=jt(t,e),n=e,o=ge,i=ce,s=ce,a=ge;for(;r!==ge;){let u=n/r,f=n%r,l=o-s*u,p=i-a*u;n=r,r=f,o=s,i=a,s=l,a=p}if(n!==ce)throw new Error("invert: does not exist");return jt(o,e)}function Wx(t,e){let r=(t.ORDER+ce)/jx,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function y8(t,e){let r=(t.ORDER-Gx)/Vx,n=t.mul(e,Zi),o=t.pow(n,r),i=t.mul(e,o),s=t.mul(t.mul(i,Zi),o),a=t.mul(i,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function b8(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ce,r=0;for(;e%Zi===ge;)e/=Zi,r++;let n=Zi,o=Ur(t);for(;$x(o,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Wx;let i=o.pow(n,e),s=(e+ce)/Zi;return function(c,u){if(c.is0(u))return u;if($x(c,u)!==1)throw new Error("Cannot find square root");let f=r,l=c.mul(c.ONE,i),p=c.pow(u,e),d=c.pow(u,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let b=1,h=c.sqr(p);for(;!c.eql(h,c.ONE);)if(b++,h=c.sqr(h),b===f)throw new Error("Cannot find square root");let y=ce<<BigInt(f-b-1),x=c.pow(l,y);f=b,l=c.sqr(x),p=c.mul(p,l),d=c.mul(d,x)}return d}}function g8(t){return t%jx===h8?Wx:t%Vx===Gx?y8:b8(t)}function kl(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=x8.reduce((n,o)=>(n[o]="function",n),e);return Ji(t,r),t}function w8(t,e,r){if(r<ge)throw new Error("invalid exponent, negatives unsupported");if(r===ge)return t.ONE;if(r===ce)return e;let n=t.ONE,o=e;for(;r>ge;)r&ce&&(n=t.mul(n,o)),o=t.sqr(o),r>>=ce;return n}function Xi(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(o);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function $x(t,e){let r=(t.ORDER-ce)/Zi,n=t.pow(e,r),o=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function Yx(t,e){e!==void 0&&ur(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ur(t,e,r=!1,n={}){if(t<=ge)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let f=e;f.BITS&&(o=f.BITS),f.sqrt&&(i=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE)}else typeof e=="number"&&(o=e),n.sqrt&&(i=n.sqrt);let{nBitLength:s,nByteLength:a}=Yx(t,o);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c,u=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:a,MASK:Yi(s),ZERO:ge,ONE:ce,create:f=>jt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return ge<=f&&f<t},is0:f=>f===ge,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&ce)===ce,neg:f=>jt(-f,t),eql:(f,l)=>f===l,sqr:f=>jt(f*f,t),add:(f,l)=>jt(f+l,t),sub:(f,l)=>jt(f-l,t),mul:(f,l)=>jt(f*l,t),pow:(f,l)=>w8(u,f,l),div:(f,l)=>jt(f*qx(l,t),t),sqrN:f=>f*f,addN:(f,l)=>f+l,subN:(f,l)=>f-l,mulN:(f,l)=>f*l,inv:f=>qx(f,t),sqrt:i||(f=>(c||(c=g8(t)),c(u,f))),toBytes:f=>r?Ch(f,a):Wi(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return r?Oh(f):Br(f)},invertBatch:f=>Xi(u,f),cmov:(f,l,p)=>p?l:f});return Object.freeze(u)}function Jx(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function kh(t){let e=Jx(t);return e+Math.ceil(e/2)}function Zx(t,e,r=!1){let n=t.length,o=Jx(e),i=kh(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let s=r?Oh(t):Br(t),a=jt(s,e-ce)+ce;return r?Ch(a,o):Wi(a,o)}var ge,ce,Zi,h8,jx,Gx,Vx,x8,ya=m(()=>{ha();ge=BigInt(0),ce=BigInt(1),Zi=BigInt(2),h8=BigInt(3),jx=BigInt(4),Gx=BigInt(5),Vx=BigInt(8);x8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function lo(t,e){if(Mu(t),Mu(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function _8(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Mu(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function E8(t,e,r,n){St(t),St(e),Mu(r),e.length>255&&(e=n(Tt(Vi("H2C-OVERSIZE-DST-"),e)));let{outputLen:o,blockLen:i}=n,s=Math.ceil(r/o);if(r>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=Tt(e,lo(e.length,1)),c=lo(0,i),u=lo(r,2),f=new Array(s),l=n(Tt(c,t,u,lo(0,1),a));f[0]=n(Tt(l,lo(1,1),a));for(let d=1;d<=s;d++){let b=[_8(l,f[d-1]),lo(d+1,1),a];f[d]=n(Tt(...b))}return Tt(...f).slice(0,r)}function A8(t,e,r,n,o){if(St(t),St(e),Mu(r),e.length>255){let i=Math.ceil(2*n/8);e=o.create({dkLen:i}).update(Vi("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(t).update(lo(r,2)).update(e).update(lo(e.length,1)).digest()}function Xx(t,e,r){Ji(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:n,k:o,m:i,hash:s,expand:a,DST:c}=r;if(!co(c)&&typeof c!="string")throw new Error("DST must be string or uint8array");if(!Fx(r.hash))throw new Error("expected valid hash");St(t),Mu(e);let u=typeof c=="string"?Vi(c):c,f=n.toString(2).length,l=Math.ceil((f+o)/8),p=e*i*l,d;if(a==="xmd")d=E8(t,u,p,s);else if(a==="xof")d=A8(t,u,p,o,s);else if(a==="_internal_pass")d=t;else throw new Error('expand must be "xmd" or "xof"');let b=new Array(e);for(let h=0;h<e;h++){let y=new Array(i);for(let x=0;x<i;x++){let v=l*(x+h*i),w=d.subarray(v,v+l);y[x]=jt(v8(w),n)}b[h]=y}return b}function Qx(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,o)=>{let[i,s,a,c]=r.map(l=>l.reduce((p,d)=>t.add(t.mul(p,n),d))),[u,f]=Xi(t,[s,c],!0);return n=t.mul(i,u),o=t.mul(o,t.mul(a,f)),{x:n,y:o}}}function tw(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(i){return t.fromAffine(e(i))}function o(i){let s=i.clearCofactor();return s.equals(t.ZERO)?t.ZERO:(s.assertValidity(),s)}return{defaults:r,hashToCurve(i,s){let a=r.DST?r.DST:{},c=Object.assign({},r,a,s),u=Xx(i,2,c),f=n(u[0]),l=n(u[1]);return o(f.add(l))},encodeToCurve(i,s){let a=r.encodeDST?r.encodeDST:{},c=Object.assign({},r,a,s),u=Xx(i,1,c);return o(n(u[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(let s of i)if(typeof s!="bigint")throw new Error("expected array of bigints");return o(n(i))}}}var v8,ew=m(()=>{ha();ya();v8=Br});function I8(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}function Nh(t,e,r){return t&e^~t&r}function zh(t,e,r){return t&e^t&r^e&r}var Qi,In,te,ee,Dh=m(()=>{Pe();Qi=class extends ao{constructor(e,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(e),this.view=Cl(this.buffer)}update(e){An(this),e=Gr(e),St(e);let{view:r,buffer:n,blockLen:o}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Cl(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){An(this),Ol(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,Qt(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)r[l]=0;I8(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Cl(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=o,e.pos=a,o%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},In=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),te=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ee=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function S8(t,e=!1){return e?{h:Number(t&Nl),l:Number(t>>rw&Nl)}:{h:Number(t>>rw&Nl)|0,l:Number(t&Nl)|0}}function zl(t,e=!1){let r=t.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){let{h:s,l:a}=S8(t[i],e);[n[i],o[i]]=[s,a]}return[n,o]}function Vr(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var Nl,rw,Lh,Mh,ts,es,Ku,Hu,nw,ow,iw,sw,aw,cw,uw,fw,lw,pw,Kh=m(()=>{Nl=BigInt(4294967295),rw=BigInt(32);Lh=(t,e,r)=>t>>>r,Mh=(t,e,r)=>t<<32-r|e>>>r,ts=(t,e,r)=>t>>>r|e<<32-r,es=(t,e,r)=>t<<32-r|e>>>r,Ku=(t,e,r)=>t<<64-r|e>>>r-32,Hu=(t,e,r)=>t>>>r-32|e<<64-r,nw=(t,e,r)=>t<<r|e>>>32-r,ow=(t,e,r)=>e<<r|t>>>32-r,iw=(t,e,r)=>e<<r-32|t>>>64-r,sw=(t,e,r)=>t<<r-32|e>>>64-r;aw=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cw=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uw=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),fw=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,lw=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),pw=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0});var P8,po,Dl,dw,B8,U8,mo,ho,Ll,Hh,Or,ba,Ml,ga=m(()=>{Dh();Kh();Pe();P8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),po=new Uint32Array(64),Dl=class extends Qi{constructor(e=32){super(64,e,8,!1),this.A=In[0]|0,this.B=In[1]|0,this.C=In[2]|0,this.D=In[3]|0,this.E=In[4]|0,this.F=In[5]|0,this.G=In[6]|0,this.H=In[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)po[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let p=po[l-15],d=po[l-2],b=Tr(p,7)^Tr(p,18)^p>>>3,h=Tr(d,17)^Tr(d,19)^d>>>10;po[l]=h+po[l-7]+b+po[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){let p=Tr(a,6)^Tr(a,11)^Tr(a,25),d=f+p+Nh(a,c,u)+P8[l]+po[l]|0,h=(Tr(n,2)^Tr(n,13)^Tr(n,22))+zh(n,o,i)|0;f=u,u=c,c=a,a=s+d|0,s=i,i=o,o=n,n=d+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,o,i,s,a,c,u,f)}roundClean(){Qt(po)}destroy(){this.set(0,0,0,0,0,0,0,0),Qt(this.buffer)}},dw=zl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),B8=dw[0],U8=dw[1],mo=new Uint32Array(80),ho=new Uint32Array(80),Ll=class extends Qi{constructor(e=64){super(128,e,16,!1),this.Ah=ee[0]|0,this.Al=ee[1]|0,this.Bh=ee[2]|0,this.Bl=ee[3]|0,this.Ch=ee[4]|0,this.Cl=ee[5]|0,this.Dh=ee[6]|0,this.Dl=ee[7]|0,this.Eh=ee[8]|0,this.El=ee[9]|0,this.Fh=ee[10]|0,this.Fl=ee[11]|0,this.Gh=ee[12]|0,this.Gl=ee[13]|0,this.Hh=ee[14]|0,this.Hl=ee[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:f,Fh:l,Fl:p,Gh:d,Gl:b,Hh:h,Hl:y}=this;return[e,r,n,o,i,s,a,c,u,f,l,p,d,b,h,y]}set(e,r,n,o,i,s,a,c,u,f,l,p,d,b,h,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=l|0,this.Fl=p|0,this.Gh=d|0,this.Gl=b|0,this.Hh=h|0,this.Hl=y|0}process(e,r){for(let w=0;w<16;w++,r+=4)mo[w]=e.getUint32(r),ho[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){let S=mo[w-15]|0,I=ho[w-15]|0,T=ts(S,I,1)^ts(S,I,8)^Lh(S,I,7),k=es(S,I,1)^es(S,I,8)^Mh(S,I,7),R=mo[w-2]|0,E=ho[w-2]|0,N=ts(R,E,19)^Ku(R,E,61)^Lh(R,E,6),g=es(R,E,19)^Hu(R,E,61)^Mh(R,E,6),_=uw(k,g,ho[w-7],ho[w-16]),D=fw(_,T,N,mo[w-7],mo[w-16]);mo[w]=D|0,ho[w]=_|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:f,Eh:l,El:p,Fh:d,Fl:b,Gh:h,Gl:y,Hh:x,Hl:v}=this;for(let w=0;w<80;w++){let S=ts(l,p,14)^ts(l,p,18)^Ku(l,p,41),I=es(l,p,14)^es(l,p,18)^Hu(l,p,41),T=l&d^~l&h,k=p&b^~p&y,R=lw(v,I,k,U8[w],ho[w]),E=pw(R,x,S,T,B8[w],mo[w]),N=R|0,g=ts(n,o,28)^Ku(n,o,34)^Ku(n,o,39),_=es(n,o,28)^Hu(n,o,34)^Hu(n,o,39),D=n&i^n&a^i&a,B=o&s^o&c^s&c;x=h|0,v=y|0,h=d|0,y=b|0,d=l|0,b=p|0,{h:l,l:p}=Vr(u|0,f|0,E|0,N|0),u=a|0,f=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let O=aw(N,_,B);n=cw(O,E,g,D),o=O|0}({h:n,l:o}=Vr(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Vr(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Vr(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Vr(this.Dh|0,this.Dl|0,u|0,f|0),{h:l,l:p}=Vr(this.Eh|0,this.El|0,l|0,p|0),{h:d,l:b}=Vr(this.Fh|0,this.Fl|0,d|0,b|0),{h,l:y}=Vr(this.Gh|0,this.Gl|0,h|0,y|0),{h:x,l:v}=Vr(this.Hh|0,this.Hl|0,x|0,v|0),this.set(n,o,i,s,a,c,u,f,l,p,d,b,h,y,x,v)}roundClean(){Qt(mo,ho)}destroy(){Qt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Hh=class extends Ll{constructor(){super(48),this.Ah=te[0]|0,this.Al=te[1]|0,this.Bh=te[2]|0,this.Bl=te[3]|0,this.Ch=te[4]|0,this.Cl=te[5]|0,this.Dh=te[6]|0,this.Dl=te[7]|0,this.Eh=te[8]|0,this.El=te[9]|0,this.Fh=te[10]|0,this.Fl=te[11]|0,this.Gh=te[12]|0,this.Gl=te[13]|0,this.Hh=te[14]|0,this.Hl=te[15]|0}},Or=fo(()=>new Dl),ba=fo(()=>new Ll),Ml=fo(()=>new Hh)});var Kl,yo,Hl=m(()=>{Pe();Kl=class extends ao{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ku(e);let n=Gr(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Qt(i)}update(e){return An(this),this.iHash.update(e),this}digestInto(e){An(this),St(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},yo=(t,e,r)=>new Kl(t,e).update(r).digest();yo.create=(t,e)=>new Kl(t,e)});function xa(t,e){let r=e.negate();return t?r:e}function bw(t,e,r){let n=e==="pz"?s=>s.pz:s=>s.ez,o=Xi(t.Fp,r.map(n));return r.map((s,a)=>s.toAffine(o[a])).map(t.fromAffine)}function gw(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Fh(t,e){gw(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),o=2**t,i=Yi(t),s=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:o,shiftBy:s}}function mw(t,e,r){let{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r,a=Number(t&o),c=t>>s;a>n&&(a-=i,c+=rs);let u=e*n,f=u+Math.abs(a)-1,l=a===0,p=a<0,d=e%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:u}}function O8(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function C8(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function $h(t){return xw.get(t)||1}function hw(t){if(t!==wa)throw new Error("invalid wNAF")}function ww(t,e){return{constTimeNegate:xa,hasPrecomputes(r){return $h(r)!==1},unsafeLadder(r,n,o=t.ZERO){let i=r;for(;n>wa;)n&rs&&(o=o.add(i)),i=i.double(),n>>=rs;return o},precomputeWindow(r,n){let{windows:o,windowSize:i}=Fh(n,e),s=[],a=r,c=a;for(let u=0;u<o;u++){c=a,s.push(c);for(let f=1;f<i;f++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(r,n,o){let i=t.ZERO,s=t.BASE,a=Fh(r,e);for(let c=0;c<a.windows;c++){let{nextN:u,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:b}=mw(o,c,a);o=u,l?s=s.add(xa(d,n[b])):i=i.add(xa(p,n[f]))}return hw(o),{p:i,f:s}},wNAFUnsafe(r,n,o,i=t.ZERO){let s=Fh(r,e);for(let a=0;a<s.windows&&o!==wa;a++){let{nextN:c,offset:u,isZero:f,isNeg:l}=mw(o,a,s);if(o=c,!f){let p=n[u];i=i.add(l?p.negate():p)}}return hw(o),i},getPrecomputes(r,n,o){let i=qh.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&(typeof o=="function"&&(i=o(i)),qh.set(n,i))),i},wNAFCached(r,n,o){let i=$h(r);return this.wNAF(i,this.getPrecomputes(i,r,o),n)},wNAFCachedUnsafe(r,n,o,i){let s=$h(r);return s===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,r,o),n,i)},setWindowSize(r,n){gw(n,e),xw.set(r,n),qh.delete(r)}}}function vw(t,e,r,n){let o=e,i=t.ZERO,s=t.ZERO;for(;r>wa||n>wa;)r&rs&&(i=i.add(o)),n&rs&&(s=s.add(o)),o=o.double(),r>>=rs,n>>=rs;return{p1:i,p2:s}}function _w(t,e,r,n){O8(r,t),C8(n,e);let o=r.length,i=n.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=Kx(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let u=Yi(c),f=new Array(Number(u)+1).fill(s),l=Math.floor((e.BITS-1)/c)*c,p=s;for(let d=l;d>=0;d-=c){f.fill(s);for(let h=0;h<i;h++){let y=n[h],x=Number(y>>BigInt(d)&u);f[x]=f[x].add(r[h])}let b=s;for(let h=f.length-1,y=s;h>0;h--)y=y.add(f[h]),b=b.add(y);if(p=p.add(b),d!==0)for(let h=0;h<c;h++)p=p.double()}return p}function yw(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return kl(e),e}else return Ur(t)}function Ew(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let a of["p","n","h"]){let c=e[a];if(!(typeof c=="bigint"&&c>wa))throw new Error(`CURVE.${a} must be positive bigint`)}let n=yw(e.p,r.Fp),o=yw(e.n,r.Fn),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let a of s)if(!n.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:o}}var wa,rs,qh,xw,Aw=m(()=>{ha();ya();wa=BigInt(0),rs=BigInt(1);qh=new WeakMap,xw=new WeakMap});function Iw(t){t.lowS!==void 0&&zu("lowS",t.lowS),t.prehash!==void 0&&zu("prehash",t.prehash)}function R8(t,e,r){function n(o){let i=t.sqr(o),s=t.mul(i,o);return t.add(t.add(s,t.mul(o,e)),r)}return n}function Sw(t,e,r){let{BYTES:n}=t;function o(i){let s;if(typeof i=="bigint")s=i;else{let a=zt("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");let c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return o}function k8(t,e={}){let{Fp:r,Fn:n}=Ew("weierstrass",t,e),{h:o,n:i}=t;Ji(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:s}=e;if(s&&(!r.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(R,E,N){let{x:g,y:_}=E.toAffine(),D=r.toBytes(g);if(zu("isCompressed",N),N){a();let B=!r.isOdd(_);return Tt(Tw(B),D)}else return Tt(Uint8Array.of(4),D,r.toBytes(_))}function u(R){St(R);let E=r.BYTES,N=E+1,g=2*E+1,_=R.length,D=R[0],B=R.subarray(1);if(_===N&&(D===2||D===3)){let O=r.fromBytes(B);if(!r.isValid(O))throw new Error("bad point: is not on curve, wrong x");let U=p(O),z;try{z=r.sqrt(U)}catch(K){let H=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+H)}a();let A=r.isOdd(z);return(D&1)===1!==A&&(z=r.neg(z)),{x:O,y:z}}else if(_===g&&D===4){let O=r.fromBytes(B.subarray(E*0,E*1)),U=r.fromBytes(B.subarray(E*1,E*2));if(!d(O,U))throw new Error("bad point: is not on curve");return{x:O,y:U}}else throw new Error(`bad point: got length ${_}, expected compressed=${N} or uncompressed=${g}`)}let f=e.toBytes||c,l=e.fromBytes||u,p=R8(r,t.a,t.b);function d(R,E){let N=r.sqr(E),g=p(R);return r.eql(N,g)}if(!d(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let b=r.mul(r.pow(t.a,va),Gh),h=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,h)))throw new Error("bad curve params: a or b");function y(R,E,N=!1){if(!r.isValid(E)||N&&r.is0(E))throw new Error(`bad point coordinate ${R}`);return E}function x(R){if(!(R instanceof I))throw new Error("ProjectivePoint expected")}let v=Rh((R,E)=>{let{px:N,py:g,pz:_}=R;if(r.eql(_,r.ONE))return{x:N,y:g};let D=R.is0();E==null&&(E=D?r.ONE:r.inv(_));let B=r.mul(N,E),O=r.mul(g,E),U=r.mul(_,E);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:B,y:O}}),w=Rh(R=>{if(R.is0()){if(e.allowInfinityPoint&&!r.is0(R.py))return;throw new Error("bad point: ZERO")}let{x:E,y:N}=R.toAffine();if(!r.isValid(E)||!r.isValid(N))throw new Error("bad point: x or y not field elements");if(!d(E,N))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(R,E,N,g,_){return N=new I(r.mul(N.px,R),N.py,N.pz),E=xa(g,E),N=xa(_,N),E.add(N)}class I{constructor(E,N,g){this.px=y("x",E),this.py=y("y",N,!0),this.pz=y("z",g),Object.freeze(this)}static fromAffine(E){let{x:N,y:g}=E||{};if(!E||!r.isValid(N)||!r.isValid(g))throw new Error("invalid affine point");if(E instanceof I)throw new Error("projective point not allowed");return r.is0(N)&&r.is0(g)?I.ZERO:new I(N,g,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){return bw(I,"pz",E)}static fromBytes(E){return St(E),I.fromHex(E)}static fromHex(E){let N=I.fromAffine(l(zt("pointHex",E)));return N.assertValidity(),N}static fromPrivateKey(E){let N=Sw(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return I.BASE.multiply(N(E))}static msm(E,N){return _w(I,n,E,N)}precompute(E=8,N=!0){return k.setWindowSize(this,E),N||this.multiply(va),this}_setWindowSize(E){this.precompute(E)}assertValidity(){w(this)}hasEvenY(){let{y:E}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(E)}equals(E){x(E);let{px:N,py:g,pz:_}=this,{px:D,py:B,pz:O}=E,U=r.eql(r.mul(N,O),r.mul(D,_)),z=r.eql(r.mul(g,O),r.mul(B,_));return U&&z}negate(){return new I(this.px,r.neg(this.py),this.pz)}double(){let{a:E,b:N}=t,g=r.mul(N,va),{px:_,py:D,pz:B}=this,O=r.ZERO,U=r.ZERO,z=r.ZERO,A=r.mul(_,_),M=r.mul(D,D),K=r.mul(B,B),H=r.mul(_,D);return H=r.add(H,H),z=r.mul(_,B),z=r.add(z,z),O=r.mul(E,z),U=r.mul(g,K),U=r.add(O,U),O=r.sub(M,U),U=r.add(M,U),U=r.mul(O,U),O=r.mul(H,O),z=r.mul(g,z),K=r.mul(E,K),H=r.sub(A,K),H=r.mul(E,H),H=r.add(H,z),z=r.add(A,A),A=r.add(z,A),A=r.add(A,K),A=r.mul(A,H),U=r.add(U,A),K=r.mul(D,B),K=r.add(K,K),A=r.mul(K,H),O=r.sub(O,A),z=r.mul(K,M),z=r.add(z,z),z=r.add(z,z),new I(O,U,z)}add(E){x(E);let{px:N,py:g,pz:_}=this,{px:D,py:B,pz:O}=E,U=r.ZERO,z=r.ZERO,A=r.ZERO,M=t.a,K=r.mul(t.b,va),H=r.mul(N,D),W=r.mul(g,B),X=r.mul(_,O),Q=r.add(N,g),Z=r.add(D,B);Q=r.mul(Q,Z),Z=r.add(H,W),Q=r.sub(Q,Z),Z=r.add(N,_);let et=r.add(D,O);return Z=r.mul(Z,et),et=r.add(H,X),Z=r.sub(Z,et),et=r.add(g,_),U=r.add(B,O),et=r.mul(et,U),U=r.add(W,X),et=r.sub(et,U),A=r.mul(M,Z),U=r.mul(K,X),A=r.add(U,A),U=r.sub(W,A),A=r.add(W,A),z=r.mul(U,A),W=r.add(H,H),W=r.add(W,H),X=r.mul(M,X),Z=r.mul(K,Z),W=r.add(W,X),X=r.sub(H,X),X=r.mul(M,X),Z=r.add(Z,X),H=r.mul(W,Z),z=r.add(z,H),H=r.mul(et,Z),U=r.mul(Q,U),U=r.sub(U,H),H=r.mul(Q,W),A=r.mul(et,A),A=r.add(A,H),new I(U,z,A)}subtract(E){return this.add(E.negate())}is0(){return this.equals(I.ZERO)}multiply(E){let{endo:N}=e;if(!n.isValidNot0(E))throw new Error("invalid scalar: out of range");let g,_,D=B=>k.wNAFCached(this,B,I.normalizeZ);if(N){let{k1neg:B,k1:O,k2neg:U,k2:z}=N.splitScalar(E),{p:A,f:M}=D(O),{p:K,f:H}=D(z);_=M.add(H),g=S(N.beta,A,K,B,U)}else{let{p:B,f:O}=D(E);g=B,_=O}return I.normalizeZ([g,_])[0]}multiplyUnsafe(E){let{endo:N}=e,g=this;if(!n.isValid(E))throw new Error("invalid scalar: out of range");if(E===ns||g.is0())return I.ZERO;if(E===xe)return g;if(k.hasPrecomputes(this))return this.multiply(E);if(N){let{k1neg:_,k1:D,k2neg:B,k2:O}=N.splitScalar(E),{p1:U,p2:z}=vw(I,g,D,O);return S(N.beta,U,z,_,B)}else return k.wNAFCachedUnsafe(g,E)}multiplyAndAddUnsafe(E,N,g){let _=this.multiplyUnsafe(N).add(E.multiplyUnsafe(g));return _.is0()?void 0:_}toAffine(E){return v(this,E)}isTorsionFree(){let{isTorsionFree:E}=e;return o===xe?!0:E?E(I,this):k.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){let{clearCofactor:E}=e;return o===xe?this:E?E(I,this):this.multiplyUnsafe(o)}toBytes(E=!0){return zu("isCompressed",E),this.assertValidity(),f(I,this,E)}toRawBytes(E=!0){return this.toBytes(E)}toHex(E=!0){return uo(this.toBytes(E))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(t.Gx,t.Gy,r.ONE),I.ZERO=new I(r.ZERO,r.ONE,r.ZERO),I.Fp=r,I.Fn=n;let T=n.BITS,k=ww(I,e.endo?Math.ceil(T/2):T);return I}function Tw(t){return Uint8Array.of(t?2:3)}function N8(t,e,r={}){Ji(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=e.randomBytes||Pr,o=e.hmac||((g,..._)=>yo(e.hash,g,Tt(..._))),{Fp:i,Fn:s}=t,{ORDER:a,BITS:c}=s;function u(g){let _=a>>xe;return g>_}function f(g){return u(g)?s.neg(g):g}function l(g,_){if(!s.isValidNot0(_))throw new Error(`invalid signature ${g}: out of range 1..CURVE.n`)}class p{constructor(_,D,B){l("r",_),l("s",D),this.r=_,this.s=D,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(_){let D=s.BYTES,B=zt("compactSignature",_,D*2);return new p(s.fromBytes(B.subarray(0,D)),s.fromBytes(B.subarray(D,D*2)))}static fromDER(_){let{r:D,s:B}=Tn.toSig(zt("DER",_));return new p(D,B)}assertValidity(){}addRecoveryBit(_){return new p(this.r,this.s,_)}recoverPublicKey(_){let D=i.ORDER,{r:B,s:O,recovery:U}=this;if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");if(a*Sn<D&&U>1)throw new Error("recovery id is ambiguous for h>1 curve");let A=U===2||U===3?B+a:B;if(!i.isValid(A))throw new Error("recovery id 2 or 3 invalid");let M=i.toBytes(A),K=t.fromHex(Tt(Tw((U&1)===0),M)),H=s.inv(A),W=w(zt("msgHash",_)),X=s.create(-W*H),Q=s.create(O*H),Z=t.BASE.multiplyUnsafe(X).add(K.multiplyUnsafe(Q));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,s.neg(this.s),this.recovery):this}toBytes(_){if(_==="compact")return Tt(s.toBytes(this.r),s.toBytes(this.s));if(_==="der")return ma(Tn.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return uo(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return uo(this.toBytes("compact"))}}let d=Sw(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(g){try{return d(g),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let g=a;return Zx(n(kh(g)),g)},precompute(g=8,_=t.BASE){return _.precompute(g,!1)}};function h(g,_=!0){return t.fromPrivateKey(g).toBytes(_)}function y(g){if(typeof g=="bigint")return!1;if(g instanceof t)return!0;let D=zt("key",g).length,B=i.BYTES,O=B+1,U=2*B+1;if(!(r.allowedPrivateKeyLengths||s.BYTES===O))return D===O||D===U}function x(g,_,D=!0){if(y(g)===!0)throw new Error("first arg must be private key");if(y(_)===!1)throw new Error("second arg must be public key");return t.fromHex(_).multiply(d(g)).toBytes(D)}let v=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");let _=Br(g),D=g.length*8-c;return D>0?_>>BigInt(D):_},w=e.bits2int_modN||function(g){return s.create(v(g))},S=Yi(c);function I(g){return Rl("num < 2^"+c,g,ns,S),s.toBytes(g)}function T(g,_,D=k){if(["recovered","canonical"].some(Q=>Q in D))throw new Error("sign() legacy options not supported");let{hash:B}=e,{lowS:O,prehash:U,extraEntropy:z}=D;O==null&&(O=!0),g=zt("msgHash",g),Iw(D),U&&(g=zt("prehashed msgHash",B(g)));let A=w(g),M=d(_),K=[I(M),I(A)];if(z!=null&&z!==!1){let Q=z===!0?n(i.BYTES):z;K.push(zt("extraEntropy",Q))}let H=Tt(...K),W=A;function X(Q){let Z=v(Q);if(!s.isValidNot0(Z))return;let et=s.inv(Z),gt=t.BASE.multiply(Z).toAffine(),mt=s.create(gt.x);if(mt===ns)return;let vt=s.create(et*s.create(W+mt*M));if(vt===ns)return;let $t=(gt.x===mt?0:2)|Number(gt.y&xe),_t=vt;return O&&u(vt)&&(_t=f(vt),$t^=1),new p(mt,_t,$t)}return{seed:H,k2sig:X}}let k={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function E(g,_,D=k){let{seed:B,k2sig:O}=T(g,_,D);return Hx(e.hash.outputLen,s.BYTES,o)(B,O)}t.BASE.precompute(8);function N(g,_,D,B=R){let O=g;_=zt("msgHash",_),D=zt("publicKey",D),Iw(B);let{lowS:U,prehash:z,format:A}=B;if("strict"in B)throw new Error("options.strict was renamed to lowS");if(A!==void 0&&!["compact","der","js"].includes(A))throw new Error('format must be "compact", "der" or "js"');let M=typeof O=="string"||co(O),K=!M&&!A&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!M&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let H,W;try{if(K)if(A===void 0||A==="js")H=new p(O.r,O.s);else throw new Error("invalid format");if(M){try{A!=="compact"&&(H=p.fromDER(O))}catch(_t){if(!(_t instanceof Tn.Err))throw _t}!H&&A!=="der"&&(H=p.fromCompact(O))}W=t.fromHex(D)}catch{return!1}if(!H||U&&H.hasHighS())return!1;z&&(_=e.hash(_));let{r:X,s:Q}=H,Z=w(_),et=s.inv(Q),gt=s.create(Z*et),mt=s.create(X*et),vt=t.BASE.multiplyUnsafe(gt).add(W.multiplyUnsafe(mt));return vt.is0()?!1:s.create(vt.x)===X}return Object.freeze({getPublicKey:h,getSharedSecret:x,sign:E,verify:N,utils:b,Point:t,Signature:p})}function z8(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Ur(e.n,t.nBitLength),o={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function D8(t){let{CURVE:e,curveOpts:r}=z8(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function L8(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Pw(t){let{CURVE:e,curveOpts:r,ecdsaOpts:n}=D8(t),o=k8(e,r),i=N8(o,n,r);return L8(t,i)}function M8(t,e){let r=t.ORDER,n=ns;for(let b=r-xe;b%Sn===ns;b/=Sn)n+=xe;let o=n,i=Sn<<o-xe-xe,s=i*Sn,a=(r-xe)/s,c=(a-xe)/Sn,u=s-xe,f=i,l=t.pow(e,a),p=t.pow(e,(a+xe)/Sn),d=(b,h)=>{let y=l,x=t.pow(h,u),v=t.sqr(x);v=t.mul(v,h);let w=t.mul(b,v);w=t.pow(w,c),w=t.mul(w,x),x=t.mul(w,h),v=t.mul(w,b);let S=t.mul(v,x);w=t.pow(S,f);let I=t.eql(w,t.ONE);x=t.mul(v,p),w=t.mul(S,y),v=t.cmov(x,v,I),S=t.cmov(w,S,I);for(let T=o;T>xe;T--){let k=T-Sn;k=Sn<<k-xe;let R=t.pow(S,k),E=t.eql(R,t.ONE);x=t.mul(v,y),y=t.mul(y,y),R=t.mul(S,y),v=t.cmov(x,v,E),S=t.cmov(R,S,E)}return{isValid:I,value:v}};if(t.ORDER%Gh===va){let b=(t.ORDER-va)/Gh,h=t.sqrt(t.neg(e));d=(y,x)=>{let v=t.sqr(x),w=t.mul(y,x);v=t.mul(v,w);let S=t.pow(v,b);S=t.mul(S,w);let I=t.mul(S,h),T=t.mul(t.sqr(S),x),k=t.eql(T,y),R=t.cmov(I,S,k);return{isValid:k,value:R}}}return d}function Bw(t,e){kl(t);let{A:r,B:n,Z:o}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");let i=M8(t,o);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return s=>{let a,c,u,f,l,p,d,b;a=t.sqr(s),a=t.mul(a,o),c=t.sqr(a),c=t.add(c,a),u=t.add(c,t.ONE),u=t.mul(u,n),f=t.cmov(o,t.neg(c),!t.eql(c,t.ZERO)),f=t.mul(f,r),c=t.sqr(u),p=t.sqr(f),l=t.mul(p,r),c=t.add(c,l),c=t.mul(c,u),p=t.mul(p,f),l=t.mul(p,n),c=t.add(c,l),d=t.mul(a,u);let{isValid:h,value:y}=i(c,p);b=t.mul(a,s),b=t.mul(b,y),d=t.cmov(d,u,h),b=t.cmov(b,y,h);let x=t.isOdd(s)===t.isOdd(b);b=t.cmov(t.neg(b),b,x);let v=Xi(t,[f],!0)[0];return d=t.mul(d,v),{x:d,y:b}}}var jh,Tn,ns,xe,Sn,va,Gh,Vh=m(()=>{Hl();ha();Aw();ya();jh=class extends Error{constructor(e=""){super(e)}},Tn={Err:jh,_tlv:{encode:(t,e)=>{let{Err:r}=Tn;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,o=Du(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?Du(o.length/2|128):"";return Du(t)+i+o+e},decode(t,e){let{Err:r}=Tn,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let o=e[n++],i=!!(o&128),s=0;if(!i)s=o;else{let c=o&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let f of u)s=s<<8|f;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=Tn;if(t<ns)throw new e("integer: negative integers are not allowed");let r=Du(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=Tn;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Br(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Tn,o=zt("signature",t),{v:i,l:s}=n.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:u,l:f}=n.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){let{_tlv:e,_int:r}=Tn,n=e.encode(2,r.encode(t.r)),o=e.encode(2,r.encode(t.s)),i=n+o;return e.encode(48,i)}},ns=BigInt(0),xe=BigInt(1),Sn=BigInt(2),va=BigInt(3),Gh=BigInt(4)});function _a(t,e){let r=n=>Pw({...t,hash:n});return{...r(e),create:r}}var Wh=m(()=>{Vh();});var Uw,Ow,Cw,K8,H8,F8,Rw,wz,vz,kw=m(()=>{ga();Wh();ya();Uw={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Ow={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Cw={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},K8=Ur(Uw.p),H8=Ur(Ow.p),F8=Ur(Cw.p),Rw=_a({...Uw,Fp:K8,lowS:!1},Or),wz=_a({...Ow,Fp:H8,lowS:!1},Ml),vz=_a({...Cw,Fp:F8,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},ba)});var Yh,Nw=m(()=>{kw();Yh=Rw});function ql(t){if(t&&!zw[t]&&!zw[t.toLowerCase()])throw new Error("Digest method not supported");return new Jh}function X8(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}var q8,zw,Jh,os,Fl,Fu,bo,$8,j8,Cr,G8,V8,W8,Y8,J8,Z8,Zh=m(()=>{q8=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],zw={sha256:1};Jh=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!Fl||Fu>=8e3)&&(Fl=new ArrayBuffer(8e3),Fu=0),this._byte=new Uint8Array(Fl,Fu,80),this._word=new Int32Array(Fl,Fu,20),Fu+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);let r=e.byteOffset,n=e.byteLength,o=n/64|0,i=0;if(o&&!(r&3)&&!(this._size%64)){let a=new Int32Array(e.buffer,r,o*16);for(;o--;)this._int32(a,i>>2),i+=64;this._size+=i}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){let a=new Uint8Array(e.buffer,r+i,n-i);return this._uint8(a)}return i===n?this:this._uint8(e,i)}_uint8(e,r){let{_byte:n,_word:o}=this,i=e.length;for(r=r|0;r<i;){let s=this._size%64,a=s;for(;r<i&&a<64;)n[a++]=e[r++];a>=64&&this._int32(o),this._size+=a-s}return this}_utf8(e){let{_byte:r,_word:n}=this,o=e.length,i=this._sp;for(let s=0;s<o;){let a=this._size%64,c=a;for(;s<o&&c<64;){let u=e.charCodeAt(s++)|0;u<128?r[c++]=u:u<2048?(r[c++]=192|u>>>6,r[c++]=128|u&63):u<55296||u>57343?(r[c++]=224|u>>>12,r[c++]=128|u>>>6&63,r[c++]=128|u&63):i?(u=((i&1023)<<10)+(u&1023)+65536,r[c++]=240|u>>>18,r[c++]=128|u>>>12&63,r[c++]=128|u>>>6&63,r[c++]=128|u&63,i=0):i=u}c>=64&&(this._int32(n),n[0]=n[16]),this._size+=c-a}return this._sp=i,this}_int32(e,r){let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:f}=this,l=0;for(r=r|0;l<16;)os[l++]=Cr(e[r++]);for(l=16;l<64;l++)os[l]=Z8(os[l-2])+os[l-7]+J8(os[l-15])+os[l-16]|0;for(l=0;l<64;l++){let p=f+Y8(a)+G8(a,c,u)+q8[l]+os[l]|0,d=W8(n)+V8(n,o,i)|0;f=u,u=c,c=a,a=s+p|0,s=i,i=o,o=n,n=p+d|0}this.A=n+this.A|0,this.B=o+this.B|0,this.C=i+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=u+this.G|0,this.H=f+this.H|0}digest(e){let{_byte:r,_word:n}=this,o=this._size%64|0;for(r[o++]=128;o&3;)r[o++]=0;if(o>>=2,o>14){for(;o<16;)n[o++]=0;o=0,this._int32(n)}for(;o<16;)n[o++]=0;let i=this._size*8,s=(i&4294967295)>>>0,a=(i-s)/4294967296;return a&&(n[14]=Cr(a)),s&&(n[15]=Cr(s)),this._int32(n),e==="hex"?this._hex():this._bin()}_hex(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return bo(e)+bo(r)+bo(n)+bo(o)+bo(i)+bo(s)+bo(a)+bo(c)}_bin(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c,_byte:u,_word:f}=this;return f[0]=Cr(e),f[1]=Cr(r),f[2]=Cr(n),f[3]=Cr(o),f[4]=Cr(i),f[5]=Cr(s),f[6]=Cr(a),f[7]=Cr(c),u.slice(0,32)}},os=new Int32Array(64),Fu=0,bo=t=>(t+4294967296).toString(16).substr(-8),$8=t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255,j8=t=>t,Cr=X8()?j8:$8,G8=(t,e,r)=>r^t&(e^r),V8=(t,e,r)=>t&e|r&(t|e),W8=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),Y8=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),J8=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,Z8=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10});var Dw={};ar(Dw,{signWithApiKey:()=>Q8});var Q8,Lw=m(()=>{Nw();Zh();cr();Q8=async t=>{let e=Yh.getPublicKey(t.privateKey,!0),r=xt(e);if(r!=t.publicKey)throw new Error(`Bad API key. Expected to get public key ${t.publicKey}, got ${r}`);let n=ql().update(t.content).digest();return Yh.sign(n,t.privateKey).toDERHex()}});var Kw=Cu((go,Mw)=>{var jl=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,Gl=function(){function t(){this.fetch=!1,this.DOMException=jl.DOMException}return t.prototype=jl,new t}();(function(t){var e=function(r){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof global<"u"&&global||{},o={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function i(g){return g&&DataView.prototype.isPrototypeOf(g)}if(o.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(g){return g&&s.indexOf(Object.prototype.toString.call(g))>-1};function c(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function u(g){return typeof g!="string"&&(g=String(g)),g}function f(g){var _={next:function(){var D=g.shift();return{done:D===void 0,value:D}}};return o.iterable&&(_[Symbol.iterator]=function(){return _}),_}function l(g){this.map={},g instanceof l?g.forEach(function(_,D){this.append(D,_)},this):Array.isArray(g)?g.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(_){this.append(_,g[_])},this)}l.prototype.append=function(g,_){g=c(g),_=u(_);var D=this.map[g];this.map[g]=D?D+", "+_:_},l.prototype.delete=function(g){delete this.map[c(g)]},l.prototype.get=function(g){return g=c(g),this.has(g)?this.map[g]:null},l.prototype.has=function(g){return this.map.hasOwnProperty(c(g))},l.prototype.set=function(g,_){this.map[c(g)]=u(_)},l.prototype.forEach=function(g,_){for(var D in this.map)this.map.hasOwnProperty(D)&&g.call(_,this.map[D],D,this)},l.prototype.keys=function(){var g=[];return this.forEach(function(_,D){g.push(D)}),f(g)},l.prototype.values=function(){var g=[];return this.forEach(function(_){g.push(_)}),f(g)},l.prototype.entries=function(){var g=[];return this.forEach(function(_,D){g.push([D,_])}),f(g)},o.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function p(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function d(g){return new Promise(function(_,D){g.onload=function(){_(g.result)},g.onerror=function(){D(g.error)}})}function b(g){var _=new FileReader,D=d(_);return _.readAsArrayBuffer(g),D}function h(g){var _=new FileReader,D=d(_),B=/charset=([A-Za-z0-9_-]+)/.exec(g.type),O=B?B[1]:"utf-8";return _.readAsText(g,O),D}function y(g){for(var _=new Uint8Array(g),D=new Array(_.length),B=0;B<_.length;B++)D[B]=String.fromCharCode(_[B]);return D.join("")}function x(g){if(g.slice)return g.slice(0);var _=new Uint8Array(g.byteLength);return _.set(new Uint8Array(g)),_.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:o.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:o.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():o.arrayBuffer&&o.blob&&i(g)?(this._bodyArrayBuffer=x(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||a(g))?this._bodyArrayBuffer=x(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var g=p(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=p(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(o.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=p(this);if(g)return g;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(g){var _=g.toUpperCase();return w.indexOf(_)>-1?_:g}function I(g,_){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var D=_.body;if(g instanceof I){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,_.headers||(this.headers=new l(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!D&&g._bodyInit!=null&&(D=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new l(_.headers)),this.method=S(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in n){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function T(g){var _=new FormData;return g.trim().split("&").forEach(function(D){if(D){var B=D.split("="),O=B.shift().replace(/\+/g," "),U=B.join("=").replace(/\+/g," ");_.append(decodeURIComponent(O),decodeURIComponent(U))}}),_}function k(g){var _=new l,D=g.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var O=B.split(":"),U=O.shift().trim();if(U){var z=O.join(":").trim();try{_.append(U,z)}catch(A){console.warn("Response "+A.message)}}}),_}v.call(I.prototype);function R(g,_){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new l(_.headers),this.url=_.url||"",this._initBody(g)}v.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},R.error=function(){var g=new R(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var E=[301,302,303,307,308];R.redirect=function(g,_){if(E.indexOf(_)===-1)throw new RangeError("Invalid status code");return new R(null,{status:_,headers:{location:g}})},r.DOMException=n.DOMException;try{new r.DOMException}catch{r.DOMException=function(_,D){this.message=_,this.name=D;var B=Error(_);this.stack=B.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function N(g,_){return new Promise(function(D,B){var O=new I(g,_);if(O.signal&&O.signal.aborted)return B(new r.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function z(){U.abort()}U.onload=function(){var K={statusText:U.statusText,headers:k(U.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(U.status<200||U.status>599)?K.status=200:K.status=U.status,K.url="responseURL"in U?U.responseURL:K.headers.get("X-Request-URL");var H="response"in U?U.response:U.responseText;setTimeout(function(){D(new R(H,K))},0)},U.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){B(new r.DOMException("Aborted","AbortError"))},0)};function A(K){try{return K===""&&n.location.href?n.location.href:K}catch{return K}}if(U.open(O.method,A(O.url),!0),O.credentials==="include"?U.withCredentials=!0:O.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(o.blob?U.responseType="blob":o.arrayBuffer&&(U.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof l||n.Headers&&_.headers instanceof n.Headers)){var M=[];Object.getOwnPropertyNames(_.headers).forEach(function(K){M.push(c(K)),U.setRequestHeader(K,u(_.headers[K]))}),O.headers.forEach(function(K,H){M.indexOf(H)===-1&&U.setRequestHeader(H,K)})}else O.headers.forEach(function(K,H){U.setRequestHeader(H,K)});O.signal&&(O.signal.addEventListener("abort",z),U.onreadystatechange=function(){U.readyState===4&&O.signal.removeEventListener("abort",z)}),U.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return N.polyfill=!0,n.fetch||(n.fetch=N,n.Headers=l,n.Request=I,n.Response=R),r.Headers=l,r.Request=I,r.Response=R,r.fetch=N,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(Gl);Gl.fetch.ponyfill=!0;delete Gl.fetch.polyfill;var Ea=jl.fetch?jl:Gl;go=Ea.fetch;go.default=Ea.fetch;go.fetch=Ea.fetch;go.Headers=Ea.Headers;go.Request=Ea.Request;go.Response=Ea.Response;Mw.exports=go});var u1,f1=m(()=>{u1="1.0.8"});var Ot,Ta=m(()=>{f1();Ot=class t extends Error{constructor(e,r={}){let n=r.cause instanceof t?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof t&&r.cause.docsPath||r.docsPath,i=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${u1}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.shortMessage=e}}});function Ye(t,e){return t.exec(e)?.groups}var iy,sy,tp,Vu=m(()=>{iy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,sy=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tp=/^\(.+?\).*?$/});function ep(t){let e=t.type;if(l1.test(t.type)&&"components"in t){e="(";let r=t.components.length;for(let o=0;o<r;o++){let i=t.components[o];e+=ep(i),o<r-1&&(e+=", ")}let n=Ye(l1,t.type);return e+=`)${n?.array??""}`,ep({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}var l1,p1=m(()=>{Vu();l1=/^tuple(?<array>(\[(\d*)\])*)$/});function Pa(t){let e="",r=t.length;for(let n=0;n<r;n++){let o=t[n];e+=ep(o),n!==r-1&&(e+=", ")}return e}var d1=m(()=>{p1()});function us(t){return t.type==="function"?`function ${t.name}(${Pa(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Pa(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Pa(t.inputs)})`:t.type==="error"?`error ${t.name}(${Pa(t.inputs)})`:t.type==="constructor"?`constructor(${Pa(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var m1=m(()=>{d1()});function y1(t){return h1.test(t)}function b1(t){return Ye(h1,t)}function x1(t){return g1.test(t)}function w1(t){return Ye(g1,t)}function _1(t){return v1.test(t)}function E1(t){return Ye(v1,t)}function Yr(t){return A1.test(t)}function I1(t){return Ye(A1,t)}function T1(t){return S1.test(t)}function P1(t){return Ye(S1,t)}function U1(t){return B1.test(t)}function O1(t){return Ye(B1,t)}function C1(t){return HU.test(t)}var h1,g1,v1,A1,S1,B1,HU,Ba,R1,rp,fs=m(()=>{Vu();h1=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;g1=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;v1=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;A1=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;S1=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;B1=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;HU=/^receive\(\) external payable$/;Ba=new Set(["memory","indexed","storage","calldata"]),R1=new Set(["indexed"]),rp=new Set(["calldata","memory","storage"])});var ls,ps,Wu,Yu=m(()=>{Ta();ls=class extends Ot{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},ps=class extends Ot{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},Wu=class extends Ot{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var ds,ms,hs,ys,bs,gs,xs,Ua=m(()=>{Ta();ds=class extends Ot{constructor({param:e}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}},ms=class extends Ot{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},hs=class extends Ot{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},ys=class extends Ot{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},bs=class extends Ot{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},gs=class extends Ot{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},xs=class extends Ot{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var Je,ws,vs,np=m(()=>{Ta();Je=class extends Ot{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},ws=class extends Ot{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},vs=class extends Ot{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var _s,ay=m(()=>{Ta();_s=class extends Ot{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var Es,cy=m(()=>{Ta();Es=class extends Ot{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function k1(t,e,r){let n="";if(r)for(let o of Object.entries(r)){if(!o)continue;let i="";for(let s of o[1])i+=`[${s.type}${s.name?`:${s.name}`:""}]`;n+=`(${o[0]}{${i}})`}return e?`${e}:${t}${n}`:t}var op,N1=m(()=>{op=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function Ju(t,e={}){if(_1(t))return FU(t,e);if(x1(t))return qU(t,e);if(y1(t))return $U(t,e);if(T1(t))return jU(t,e);if(U1(t))return GU(t);if(C1(t))return{type:"receive",stateMutability:"payable"};throw new ws({signature:t})}function FU(t,e={}){let r=E1(t);if(!r)throw new Je({signature:t,type:"function"});let n=Be(r.parameters),o=[],i=n.length;for(let a=0;a<i;a++)o.push(Ue(n[a],{modifiers:rp,structs:e,type:"function"}));let s=[];if(r.returns){let a=Be(r.returns),c=a.length;for(let u=0;u<c;u++)s.push(Ue(a[u],{modifiers:rp,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:o,outputs:s}}function qU(t,e={}){let r=w1(t);if(!r)throw new Je({signature:t,type:"event"});let n=Be(r.parameters),o=[],i=n.length;for(let s=0;s<i;s++)o.push(Ue(n[s],{modifiers:R1,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:o}}function $U(t,e={}){let r=b1(t);if(!r)throw new Je({signature:t,type:"error"});let n=Be(r.parameters),o=[],i=n.length;for(let s=0;s<i;s++)o.push(Ue(n[s],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:o}}function jU(t,e={}){let r=P1(t);if(!r)throw new Je({signature:t,type:"constructor"});let n=Be(r.parameters),o=[],i=n.length;for(let s=0;s<i;s++)o.push(Ue(n[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:o}}function GU(t){let e=O1(t);if(!e)throw new Je({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}function Ue(t,e){let r=k1(t,e?.type,e?.structs);if(op.has(r))return op.get(r);let n=tp.test(t),o=Ye(n?WU:VU,t);if(!o)throw new hs({param:t});if(o.name&&ZU(o.name))throw new ys({param:t,name:o.name});let i=o.name?{name:o.name}:{},s=o.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{},c,u={};if(n){c="tuple";let l=Be(o.type),p=[],d=l.length;for(let b=0;b<d;b++)p.push(Ue(l[b],{structs:a}));u={components:p}}else if(o.type in a)c="tuple",u={components:a[o.type]};else if(YU.test(o.type))c=`${o.type}256`;else if(c=o.type,e?.type!=="struct"&&!uy(c))throw new Wu({type:c});if(o.modifier){if(!e?.modifiers?.has?.(o.modifier))throw new bs({param:t,type:e?.type,modifier:o.modifier});if(rp.has(o.modifier)&&!XU(c,!!o.array))throw new gs({param:t,type:e?.type,modifier:o.modifier})}let f={type:`${c}${o.array??""}`,...i,...s,...u};return op.set(r,f),f}function Be(t,e=[],r="",n=0){let o=t.trim().length;for(let i=0;i<o;i++){let s=t[i],a=t.slice(i+1);switch(s){case",":return n===0?Be(a,[...e,r.trim()]):Be(a,e,`${r}${s}`,n);case"(":return Be(a,e,`${r}${s}`,n+1);case")":return Be(a,e,`${r}${s}`,n-1);default:return Be(a,e,`${r}${s}`,n)}}if(r==="")return e;if(n!==0)throw new Es({current:r,depth:n});return e.push(r.trim()),e}function uy(t){return t==="address"||t==="bool"||t==="function"||t==="string"||iy.test(t)||sy.test(t)}function ZU(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||iy.test(t)||sy.test(t)||JU.test(t)}function XU(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}var VU,WU,YU,JU,As=m(()=>{Vu();Yu();Ua();np();cy();N1();fs();VU=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,WU=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,YU=/^u?int$/;JU=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function wo(t){let e={},r=t.length;for(let s=0;s<r;s++){let a=t[s];if(!Yr(a))continue;let c=I1(a);if(!c)throw new Je({signature:a,type:"struct"});let u=c.properties.split(";"),f=[],l=u.length;for(let p=0;p<l;p++){let b=u[p].trim();if(!b)continue;let h=Ue(b,{type:"struct"});f.push(h)}if(!f.length)throw new vs({signature:a});e[c.name]=f}let n={},o=Object.entries(e),i=o.length;for(let s=0;s<i;s++){let[a,c]=o[s];n[a]=z1(c,e)}return n}function z1(t,e,r=new Set){let n=[],o=t.length;for(let i=0;i<o;i++){let s=t[i];if(tp.test(s.type))n.push(s);else{let c=Ye(QU,s.type);if(!c?.type)throw new xs({abiParameter:s});let{array:u,type:f}=c;if(f in e){if(r.has(f))throw new _s({type:f});n.push({...s,type:`tuple${u??""}`,components:z1(e[f]??[],e,new Set([...r,f]))})}else if(uy(f))n.push(s);else throw new ps({type:f})}}return n}var QU,Zu=m(()=>{Vu();Yu();Ua();np();ay();fs();As();QU=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function Oa(t){let e=wo(t),r=[],n=t.length;for(let o=0;o<n;o++){let i=t[o];Yr(i)||r.push(Ju(i,e))}return r}var D1=m(()=>{fs();Zu();As()});function Ca(t){let e;if(typeof t=="string")e=Ju(t);else{let r=wo(t),n=t.length;for(let o=0;o<n;o++){let i=t[o];if(!Yr(i)){e=Ju(i,r);break}}}if(!e)throw new ls({signature:t});return e}var L1=m(()=>{Yu();fs();Zu();As()});function fy(t){let e;if(typeof t=="string")e=Ue(t,{modifiers:Ba});else{let r=wo(t),n=t.length;for(let o=0;o<n;o++){let i=t[o];if(!Yr(i)){e=Ue(i,{modifiers:Ba,structs:r});break}}}if(!e)throw new ds({param:t});return e}var M1=m(()=>{Ua();fs();Zu();As()});function ly(t){let e=[];if(typeof t=="string"){let r=Be(t),n=r.length;for(let o=0;o<n;o++)e.push(Ue(r[o],{modifiers:Ba}))}else{let r=wo(t),n=t.length;for(let o=0;o<n;o++){let i=t[o];if(Yr(i))continue;let s=Be(i),a=s.length;for(let c=0;c<a;c++)e.push(Ue(s[c],{modifiers:Ba,structs:r}))}}if(e.length===0)throw new ms({params:t});return e}var K1=m(()=>{Ua();fs();Zu();As();As()});var Xu=m(()=>{m1();D1();L1();M1();K1();Yu();Ua();np();cy();ay()});function V(t,e,r){let n=t[e.name];if(typeof n=="function")return n;let o=t[r];return typeof o=="function"?o:i=>e(t,i)}var ht=m(()=>{});function Kt(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Ra(t.type);return`${t.name}(${Qu(t.inputs,{includeName:e})})`}function Qu(t,{includeName:e=!1}={}){return t?t.map(r=>eO(r,{includeName:e})).join(e?", ":","):""}function eO(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Qu(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}var Un=m(()=>{Et()});function J(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var ve=m(()=>{});function at(t){return J(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var Oe=m(()=>{ve()});var py,H1=m(()=>{py="2.31.7"});function F1(t){ip=t}function q1(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?q1(t.cause,e):e?null:t}var ip,P,nt=m(()=>{H1();ip={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${py}`};P=class t extends Error{constructor(e,r={}){let n=r.cause instanceof t?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof t&&r.cause.docsPath||r.docsPath,i=ip.getDocsUrl?.({...r,docsPath:o}),s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...ip.version?[`Version: ${ip.version}`]:[]].join(`
`);super(s,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=py}walk(e){return q1(this,e)}}});var vo,Jr,sp,_o,Ce,ka,Na,Eo,za,Is,Ao,Da,Io,Ss,Ze,So,La,ap,To,Xe,lr,Ma,Ka,Po,Ra,Ha,Et=m(()=>{Un();Oe();nt();vo=class extends P{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},Jr=class extends P{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},sp=class extends P{constructor({data:e,size:r}){super([`Data size of ${r} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${e} (${r} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}},_o=class extends P{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Qu(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}},Ce=class extends P{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},ka=class extends P{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},Na=class extends P{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${at(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},Eo=class extends P{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},za=class extends P{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}},Is=class extends P{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}},Ao=class extends P{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},Da=class extends P{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},Io=class extends P{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}},Ss=class extends P{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}},Ze=class extends P{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}},So=class extends P{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}},La=class extends P{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}},ap=class extends P{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Kt(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Kt(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},To=class extends P{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}},Xe=class extends P{constructor({abiItem:e,data:r,params:n,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Qu(n,{includeName:!0})})`,`Data:   ${r} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=o}},lr=class extends P{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Kt(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},Ma=class extends P{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},Ka=class extends P{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}},Po=class extends P{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},Ra=class extends P{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},Ha=class extends P{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}});var Fa,dy=m(()=>{nt();Fa=class extends P{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var Ts,Ps,tf,ef=m(()=>{nt();Ts=class extends P{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ps=class extends P{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}},tf=class extends P{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}});function ue(t,{dir:e,size:r=32}={}){return typeof t=="string"?Re(t,{dir:e,size:r}):my(t,{dir:e,size:r})}function Re(t,{dir:e,size:r=32}={}){if(r===null)return t;let n=t.replace("0x","");if(n.length>r*2)throw new Ps({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function my(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Ps({size:t.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let i=e==="right";n[i?o:r-o-1]=t[i?o:t.length-o-1]}return n}var Bo=m(()=>{ef()});var Uo,qa,$a,ja,Ga,Bs=m(()=>{nt();Uo=class extends P{constructor({max:e,min:r,signed:n,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},qa=class extends P{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},$a=class extends P{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},ja=class extends P{constructor(e){super(`Hex value "${e}" is an odd length (${e.length}). It must be an even length.`,{name:"InvalidHexValueError"})}},Ga=class extends P{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function Pt(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let o=0;o<r.length-1&&r[e==="left"?o:r.length-o-1].toString()==="0";o++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var On=m(()=>{});function _e(t,{size:e}){if(at(t)>e)throw new Ga({givenSize:at(t),maxSize:e})}function hy(t,e){let r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?ot(t,r):n==="bigint"?tt(t,r):n==="string"?cp(t,r):n==="boolean"?Va(t,r):ft(t,r)}function tt(t,e={}){let{signed:r}=e;e.size&&_e(t,{size:e.size});let n=BigInt(t);if(!r)return n;let o=(t.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function Va(t,e={}){let r=t;if(e.size&&(_e(r,{size:e.size}),r=Pt(r)),Pt(r)==="0x00")return!1;if(Pt(r)==="0x01")return!0;throw new $a(r)}function ot(t,e={}){return Number(tt(t,e))}function cp(t,e={}){let r=ft(t);return e.size&&(_e(r,{size:e.size}),r=Pt(r,{dir:"right"})),new TextDecoder().decode(r)}var Ct=m(()=>{Bs();Oe();On();wt()});function yt(t,e={}){return typeof t=="number"||typeof t=="bigint"?C(t,e):typeof t=="string"?ke(t,e):typeof t=="boolean"?Us(t,e):rt(t,e)}function Us(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(_e(r,{size:e.size}),ue(r,{size:e.size})):r}function rt(t,e={}){let r="";for(let o=0;o<t.length;o++)r+=rO[t[o]];let n=`0x${r}`;return typeof e.size=="number"?(_e(n,{size:e.size}),ue(n,{dir:"right",size:e.size})):n}function C(t,e={}){let{signed:r,size:n}=e,o=BigInt(t),i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let s=typeof i=="bigint"&&r?-i-1n:0;if(i&&o>i||o<s){let c=typeof t=="bigint"?"n":"";throw new Uo({max:i?`${i}${c}`:void 0,min:`${s}${c}`,signed:r,size:n,value:`${t}${c}`})}let a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?ue(a,{size:n}):a}function ke(t,e={}){let r=nO.encode(t);return rt(r,e)}var rO,nO,Y=m(()=>{Bs();Bo();Ct();rO=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));nO=new TextEncoder});function Bt(t,e={}){return typeof t=="number"||typeof t=="bigint"?by(t,e):typeof t=="boolean"?yy(t,e):J(t)?ft(t,e):Qe(t,e)}function yy(t,e={}){let r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(_e(r,{size:e.size}),ue(r,{size:e.size})):r}function $1(t){if(t>=Cn.zero&&t<=Cn.nine)return t-Cn.zero;if(t>=Cn.A&&t<=Cn.F)return t-(Cn.A-10);if(t>=Cn.a&&t<=Cn.f)return t-(Cn.a-10)}function ft(t,e={}){let r=t;e.size&&(_e(r,{size:e.size}),r=ue(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,i=new Uint8Array(o);for(let s=0,a=0;s<o;s++){let c=$1(n.charCodeAt(a++)),u=$1(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new P(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[s]=c*16+u}return i}function by(t,e){let r=C(t,e);return ft(r)}function Qe(t,e={}){let r=oO.encode(t);return typeof e.size=="number"?(_e(r,{size:e.size}),ue(r,{dir:"right",size:e.size})):r}var oO,Cn,wt=m(()=>{nt();ve();Bo();Ct();Y();oO=new TextEncoder;Cn={zero:48,nine:57,A:65,F:70,a:97,f:102}});function pO(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],f=r[c+1],l=j1(u,f,1)^r[a],p=G1(u,f,1)^r[a+1];for(let d=0;d<50;d+=10)t[s+d]^=l,t[s+d+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=W1[s],c=j1(o,i,a),u=G1(o,i,a),f=V1[s];o=t[f],i=t[f+1],t[f]=c,t[f+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=fO[n],t[1]^=lO[n]}Qt(r)}var iO,rf,sO,aO,cO,uO,V1,W1,Y1,J1,fO,lO,j1,G1,gy,dO,up,xy=m(()=>{Kh();Pe();iO=BigInt(0),rf=BigInt(1),sO=BigInt(2),aO=BigInt(7),cO=BigInt(256),uO=BigInt(113),V1=[],W1=[],Y1=[];for(let t=0,e=rf,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],V1.push(2*(5*n+r)),W1.push((t+1)*(t+2)/2%64);let o=iO;for(let i=0;i<7;i++)e=(e<<rf^(e>>aO)*uO)%cO,e&sO&&(o^=rf<<(rf<<BigInt(i))-rf);Y1.push(o)}J1=zl(Y1,!0),fO=J1[0],lO=J1[1],j1=(t,e,r)=>r>32?iw(t,e,r):nw(t,e,r),G1=(t,e,r)=>r>32?sw(t,e,r):ow(t,e,r);gy=class t extends ao{constructor(e,r,n,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,ur(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Dx(this.state)}clone(){return this._cloneInto()}keccak(){Th(this.state32),pO(this.state32,this.rounds),Th(this.state32),this.posOut=0,this.pos=0}update(e){An(this),e=Gr(e),St(e);let{blockLen:r,state:n}=this,o=e.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){An(this,!1),St(e),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ur(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ol(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qt(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(r,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},dO=(t,e,r)=>fo(()=>new gy(e,t,r)),up=dO(1,136,256/8)});function ct(t,e){let r=e||"hex",n=up(J(t,{strict:!1})?Bt(t):t);return r==="bytes"?n:yt(n)}var Ne=m(()=>{xy();ve();wt();Y()});function Z1(t){return mO(t)}var mO,X1=m(()=>{wt();Ne();mO=t=>ct(Bt(t))});function Q1(t){let e=!0,r="",n=0,o="",i=!1;for(let s=0;s<t.length;s++){let a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){t[s-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}o+=a,r+=a}}if(!i)throw new P("Unable to normalize signature.");return o}var t2=m(()=>{nt()});var Rn,fp=m(()=>{Xu();t2();Rn=t=>{let e=typeof t=="string"?t:us(t);return Q1(e)}});function kn(t){return Z1(Rn(t))}var nf=m(()=>{X1();fp()});var Rr,Wa=m(()=>{nf();Rr=kn});var dt,pr=m(()=>{nt();dt=class extends P{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var dr,Ya=m(()=>{dr=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function kr(t,e){if(wy.has(`${t}.${e}`))return wy.get(`${t}.${e}`);let r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=ct(Qe(r),"bytes"),o=(e?r.substring(`${e}0x`.length):r).split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(n[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());let i=`0x${o.join("")}`;return wy.set(`${t}.${e}`,i),i}function re(t,e){if(!ut(t,{strict:!1}))throw new dt({address:t});return kr(t,e)}var wy,mr=m(()=>{pr();wt();Ne();Ya();ze();wy=new dr(8192)});function ut(t,e){let{strict:r=!0}=e??{},n=`${t}.${r}`;if(vy.has(n))return vy.get(n);let o=hO.test(t)?t.toLowerCase()===t?!0:r?kr(t)===t:!0:!1;return vy.set(n,o),o}var hO,vy,ze=m(()=>{Ya();mr();hO=/^0x[a-fA-F0-9]{40}$/,vy=new dr(8192)});function It(t){return typeof t[0]=="string"?Rt(t):_y(t)}function _y(t){let e=0;for(let o of t)e+=o.length;let r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}function Rt(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}var ne=m(()=>{});function fe(t,e,r,{strict:n}={}){return J(t,{strict:!1})?Zr(t,e,r,{strict:n}):of(t,e,r,{strict:n})}function e2(t,e){if(typeof e=="number"&&e>0&&e>at(t)-1)throw new Ts({offset:e,position:"start",size:at(t)})}function r2(t,e,r){if(typeof e=="number"&&typeof r=="number"&&at(t)!==r-e)throw new Ts({offset:r,position:"end",size:at(t)})}function of(t,e,r,{strict:n}={}){e2(t,e);let o=t.slice(e,r);return n&&r2(o,e,r),o}function Zr(t,e,r,{strict:n}={}){e2(t,e);let o=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&r2(o,e,r),o}var hr=m(()=>{ef();ve();Oe()});var n2,lp,Ja,pp=m(()=>{n2=/^(.*)\[([0-9]*)\]$/,lp=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ja=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function Ht(t,e){if(t.length!==e.length)throw new Eo({expectedLength:t.length,givenLength:e.length});let r=yO({params:t,values:e}),n=Ay(r);return n.length===0?"0x":n}function yO({params:t,values:e}){let r=[];for(let n=0;n<t.length;n++)r.push(Ey({param:t[n],value:e[n]}));return r}function Ey({param:t,value:e}){let r=dp(t.type);if(r){let[n,o]=r;return gO(e,{length:n,param:{...t,type:o}})}if(t.type==="tuple")return EO(e,{param:t});if(t.type==="address")return bO(e);if(t.type==="bool")return wO(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){let n=t.type.startsWith("int"),[,,o="256"]=Ja.exec(t.type)??[];return vO(e,{signed:n,size:Number(o)})}if(t.type.startsWith("bytes"))return xO(e,{param:t});if(t.type==="string")return _O(e);throw new Ma(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ay(t){let e=0;for(let i=0;i<t.length;i++){let{dynamic:s,encoded:a}=t[i];s?e+=32:e+=at(a)}let r=[],n=[],o=0;for(let i=0;i<t.length;i++){let{dynamic:s,encoded:a}=t[i];s?(r.push(C(e+o,{size:32})),n.push(a),o+=at(a)):r.push(a)}return It([...r,...n])}function bO(t){if(!ut(t))throw new dt({address:t});return{dynamic:!1,encoded:Re(t.toLowerCase())}}function gO(t,{length:e,param:r}){let n=e===null;if(!Array.isArray(t))throw new Po(t);if(!n&&t.length!==e)throw new ka({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let o=!1,i=[];for(let s=0;s<t.length;s++){let a=Ey({param:r,value:t[s]});a.dynamic&&(o=!0),i.push(a)}if(n||o){let s=Ay(i);if(n){let a=C(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?It([a,s]):a}}if(o)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:It(i.map(({encoded:s})=>s))}}function xO(t,{param:e}){let[,r]=e.type.split("bytes"),n=at(t);if(!r){let o=t;return n%32!==0&&(o=Re(o,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:It([Re(C(n,{size:32})),o])}}if(n!==Number.parseInt(r))throw new Na({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:Re(t,{dir:"right"})}}function wO(t){if(typeof t!="boolean")throw new P(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Re(Us(t))}}function vO(t,{signed:e,size:r=256}){if(typeof r=="number"){let n=2n**(BigInt(r)-(e?1n:0n))-1n,o=e?-n-1n:0n;if(t>n||t<o)throw new Uo({max:n.toString(),min:o.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:C(t,{size:32,signed:e})}}function _O(t){let e=ke(t),r=Math.ceil(at(e)/32),n=[];for(let o=0;o<r;o++)n.push(Re(fe(e,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:It([Re(C(at(e),{size:32})),...n])}}function EO(t,{param:e}){let r=!1,n=[];for(let o=0;o<e.components.length;o++){let i=e.components[o],s=Array.isArray(t)?o:i.name,a=Ey({param:i,value:t[s]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Ay(n):It(n.map(({encoded:o})=>o))}}function dp(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var Nr=m(()=>{Et();pr();nt();Bs();ze();ne();Bo();Oe();hr();Y();pp()});var tr,Os=m(()=>{hr();nf();tr=t=>fe(kn(t),0,4)});function le(t){let{abi:e,args:r=[],name:n}=t,o=J(n,{strict:!1}),i=e.filter(a=>o?a.type==="function"?tr(a)===n:a.type==="event"?Rr(a)===n:!1:"name"in a&&a.name===n);if(i.length===0)return;if(i.length===1)return i[0];let s;for(let a of i){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,f)=>{let l="inputs"in a&&a.inputs[f];return l?Iy(u,l):!1})){if(s&&"inputs"in s&&s.inputs){let u=o2(a.inputs,s.inputs,r);if(u)throw new ap({abiItem:a,type:u[0]},{abiItem:s,type:u[1]})}s=a}}return s||i[0]}function Iy(t,e){let r=typeof t,n=e.type;switch(n){case"address":return ut(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>Iy(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(o=>Iy(o,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function o2(t,e,r){for(let n in t){let o=t[n],i=e[n];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return o2(o.components,i.components,r[n]);let s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?ut(r[n],{strict:!1}):s.includes("address")&&s.includes("bytes")?ut(r[n],{strict:!1}):!1)return s}}var Nn=m(()=>{Et();ve();ze();Wa();Os()});function yr(t){let{abi:e,eventName:r,args:n}=t,o=e[0];if(r){let c=le({abi:e,name:r});if(!c)throw new Ss(r,{docsPath:i2});o=c}if(o.type!=="event")throw new Ss(void 0,{docsPath:i2});let i=Kt(o),s=Rr(i),a=[];if(n&&"inputs"in o){let c=o.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?c?.map(f=>n[f.name])??[]:[];u.length>0&&(a=c?.map((f,l)=>Array.isArray(u[l])?u[l].map((p,d)=>s2({param:f,value:u[l][d]})):typeof u[l]<"u"&&u[l]!==null?s2({param:f,value:u[l]}):null)??[])}return[s,...a]}function s2({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ct(Bt(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Fa(t.type);return Ht([t],[e])}var i2,Cs=m(()=>{Et();dy();wt();Ne();Wa();Nr();Un();Nn();i2="/docs/contract/encodeEventTopics"});function Oo(t,{method:e}){let r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:o,status:i,transport:s})=>{i==="success"&&e===n&&(r[o]=s.request)}),n=>r[n]||t.request}var sf=m(()=>{});async function Za(t,e){let{address:r,abi:n,args:o,eventName:i,fromBlock:s,strict:a,toBlock:c}=e,u=Oo(t,{method:"eth_newFilter"}),f=i?yr({abi:n,args:o,eventName:i}):void 0,l=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof s=="bigint"?C(s):s,toBlock:typeof c=="bigint"?C(c):c,topics:f}]});return{abi:n,args:o,eventName:i,id:l,request:u(l),strict:!!a,type:"event"}}var mp=m(()=>{Cs();Y();sf()});function it(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}var kt=m(()=>{});function hp(t){let{abi:e,args:r,functionName:n}=t,o=e[0];if(n){let i=le({abi:e,args:r,name:n});if(!i)throw new Ze(n,{docsPath:a2});o=i}if(o.type!=="function")throw new Ze(void 0,{docsPath:a2});return{abi:[o],functionName:tr(Kt(o))}}var a2,Sy=m(()=>{Et();Os();Un();Nn();a2="/docs/contract/encodeFunctionData"});function bt(t){let{args:e}=t,{abi:r,functionName:n}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:hp(t),o=r[0],i=n,s="inputs"in o&&o.inputs?Ht(o.inputs,e??[]):void 0;return Rt([i,s??"0x"])}var De=m(()=>{ne();Nr();Sy()});var yp,bp,c2,af=m(()=>{yp={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},bp={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},c2={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var cf,Xa,gp,Ty=m(()=>{nt();cf=class extends P{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Xa=class extends P{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},gp=class extends P{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function zr(t,{recursiveReadLimit:e=8192}={}){let r=Object.create(AO);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}var AO,Qa=m(()=>{Ty();AO={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gp({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Xa({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new cf({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new cf({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}}});function u2(t,e){let r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?er(t,r):n==="bigint"?uf(t,r):n==="boolean"?ff(t,r):n==="string"?lf(t,r):rt(t,r)}function uf(t,e={}){typeof e.size<"u"&&_e(t,{size:e.size});let r=rt(t,e);return tt(r,e)}function ff(t,e={}){let r=t;if(typeof e.size<"u"&&(_e(r,{size:e.size}),r=Pt(r)),r.length>1||r[0]>1)throw new qa(r);return!!r[0]}function er(t,e={}){typeof e.size<"u"&&_e(t,{size:e.size});let r=rt(t,e);return ot(r,e)}function lf(t,e={}){let r=t;return typeof e.size<"u"&&(_e(r,{size:e.size}),r=Pt(r,{dir:"right"})),new TextDecoder().decode(r)}var Py=m(()=>{Bs();On();Ct();Y()});function Ee(t,e){let r=typeof e=="string"?ft(e):e,n=zr(r);if(at(r)===0&&t.length>0)throw new Ce;if(at(e)&&at(e)<32)throw new _o({data:typeof e=="string"?e:rt(e),params:t,size:at(e)});let o=0,i=[];for(let s=0;s<t.length;++s){let a=t[s];n.setPosition(o);let[c,u]=tc(n,a,{staticPosition:0});o+=u,i.push(c)}return i}function tc(t,e,{staticPosition:r}){let n=dp(e.type);if(n){let[o,i]=n;return SO(t,{...e,type:i},{length:o,staticPosition:r})}if(e.type==="tuple")return UO(t,e,{staticPosition:r});if(e.type==="address")return IO(t);if(e.type==="bool")return TO(t);if(e.type.startsWith("bytes"))return PO(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return BO(t,e);if(e.type==="string")return OO(t,{staticPosition:r});throw new Ka(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function IO(t){let e=t.readBytes(32);return[kr(rt(of(e,-20))),32]}function SO(t,e,{length:r,staticPosition:n}){if(!r){let s=er(t.readBytes(By)),a=n+s,c=a+f2;t.setPosition(a);let u=er(t.readBytes(f2)),f=pf(e),l=0,p=[];for(let d=0;d<u;++d){t.setPosition(c+(f?d*32:l));let[b,h]=tc(t,e,{staticPosition:c});l+=h,p.push(b)}return t.setPosition(n+32),[p,32]}if(pf(e)){let s=er(t.readBytes(By)),a=n+s,c=[];for(let u=0;u<r;++u){t.setPosition(a+u*32);let[f]=tc(t,e,{staticPosition:a});c.push(f)}return t.setPosition(n+32),[c,32]}let o=0,i=[];for(let s=0;s<r;++s){let[a,c]=tc(t,e,{staticPosition:n+o});o+=c,i.push(a)}return[i,o]}function TO(t){return[ff(t.readBytes(32),{size:32}),32]}function PO(t,e,{staticPosition:r}){let[n,o]=e.type.split("bytes");if(!o){let s=er(t.readBytes(32));t.setPosition(r+s);let a=er(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];let c=t.readBytes(a);return t.setPosition(r+32),[rt(c),32]}return[rt(t.readBytes(Number.parseInt(o),32)),32]}function BO(t,e){let r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256"),o=t.readBytes(32);return[n>48?uf(o,{signed:r}):er(o,{signed:r}),32]}function UO(t,e,{staticPosition:r}){let n=e.components.length===0||e.components.some(({name:s})=>!s),o=n?[]:{},i=0;if(pf(e)){let s=er(t.readBytes(By)),a=r+s;for(let c=0;c<e.components.length;++c){let u=e.components[c];t.setPosition(a+i);let[f,l]=tc(t,u,{staticPosition:a});i+=l,o[n?c:u?.name]=f}return t.setPosition(r+32),[o,32]}for(let s=0;s<e.components.length;++s){let a=e.components[s],[c,u]=tc(t,a,{staticPosition:r});o[n?s:a?.name]=c,i+=u}return[o,i]}function OO(t,{staticPosition:e}){let r=er(t.readBytes(32)),n=e+r;t.setPosition(n);let o=er(t.readBytes(32));if(o===0)return t.setPosition(e+32),["",32];let i=t.readBytes(o,32),s=lf(Pt(i));return t.setPosition(e+32),[s,32]}function pf(t){let{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(pf);let r=dp(t.type);return!!(r&&pf({...t,type:r[1]}))}var f2,By,Co=m(()=>{Et();mr();Qa();Oe();hr();On();Py();wt();Y();Nr();f2=32,By=32});function ec(t){let{abi:e,data:r}=t,n=fe(r,0,4);if(n==="0x")throw new Ce;let i=[...e||[],bp,c2].find(s=>s.type==="error"&&n===tr(Kt(s)));if(!i)throw new Ao(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Ee(i.inputs,fe(r,4)):void 0,errorName:i.name}}var xp=m(()=>{af();Et();hr();Os();Co();Un()});var st,oe=m(()=>{st=(t,e,r)=>JSON.stringify(t,(n,o)=>{let i=typeof o=="bigint"?o.toString():o;return typeof e=="function"?e(n,i):i},r)});function Uy({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((o,i)=>`${n&&o.name?`${o.name}: `:""}${typeof e[i]=="object"?st(e[i]):e[i]}`).join(", ")})`}var l2=m(()=>{oe()});var rc,nc,p2,oc=m(()=>{rc={gwei:9,wei:18},nc={ether:-9,wei:9},p2={ether:-18,gwei:-9}});function ic(t,e){let r=t.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[o,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${i?`.${i}`:""}`}var wp=m(()=>{});function Ro(t,e="wei"){return ic(t,rc[e])}var df=m(()=>{oc();wp()});function Nt(t,e="wei"){return ic(t,nc[e])}var Rs=m(()=>{oc();wp()});function d2(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function m2(t){return t.reduce((e,{address:r,...n})=>{let o=`${e}    ${r}:
`;return n.nonce&&(o+=`      nonce: ${n.nonce}
`),n.balance&&(o+=`      balance: ${n.balance}
`),n.code&&(o+=`      code: ${n.code}
`),n.state&&(o+=`      state:
`,o+=d2(n.state)),n.stateDiff&&(o+=`      stateDiff:
`,o+=d2(n.stateDiff)),o},`  State Override:
`).slice(0,-1)}var sc,ac,vp=m(()=>{nt();sc=class extends P{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},ac=class extends P{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function ks(t){let e=Object.entries(t).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=e.reduce((n,[o])=>Math.max(n,o.length),0);return e.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}var cc,ko,uc,fc,Xr,lc,pc,No,zo,dc,Le=m(()=>{df();Rs();nt();cc=class extends P{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},ko=class extends P{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},uc=class extends P{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ks(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},fc=class extends P{constructor({serializedType:e}){super(`Serialized transaction type "${e}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=e}},Xr=class extends P{constructor({attributes:e,serializedTransaction:r,type:n}){let o=Object.entries(e).map(([i,s])=>typeof s>"u"?i:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${n}" was provided.`,{metaMessages:[`Serialized Transaction: "${r}"`,o.length>0?`Missing Attributes: ${o.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=r,this.type=n}},lc=class extends P{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},pc=class extends P{constructor(e,{account:r,docsPath:n,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){let d=ks({chain:o&&`${o?.name} (id: ${o?.id})`,from:r?.address,to:l,value:typeof p<"u"&&`${Ro(p)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Nt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Nt(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",d].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},No=class extends P{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:o,index:i}){let s="Transaction";n&&i!==void 0&&(s=`Transaction at block time "${n}" at index "${i}"`),e&&i!==void 0&&(s=`Transaction at block hash "${e}" at index "${i}"`),r&&i!==void 0&&(s=`Transaction at block number "${r}" at index "${i}"`),o&&(s=`Transaction with hash "${o}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}},zo=class extends P{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},dc=class extends P{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var h2,zn,_p=m(()=>{h2=t=>t,zn=t=>t});var Do,mc,Dn,hc,yc,br,Ln=m(()=>{kt();af();xp();Un();l2();Nn();df();Rs();Et();nt();vp();Le();_p();Do=class extends P{constructor(e,{account:r,docsPath:n,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:p,stateOverride:d}){let b=r?it(r):void 0,h=ks({from:b?.address,to:l,value:typeof p<"u"&&`${Ro(p)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Nt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Nt(u)} gwei`,nonce:f});d&&(h+=`
${m2(d)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},mc=class extends P{constructor(e,{abi:r,args:n,contractAddress:o,docsPath:i,functionName:s,sender:a}){let c=le({abi:r,args:n,name:s}),u=c?Uy({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,f=c?Kt(c,{includeName:!0}):void 0,l=ks({address:o&&h2(o),function:f,args:u&&u!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=o,this.functionName=s,this.sender=a}},Dn=class extends P{constructor({abi:e,data:r,functionName:n,message:o}){let i,s,a,c;if(r&&r!=="0x")try{s=ec({abi:e,data:r});let{abiItem:f,errorName:l,args:p}=s;if(l==="Error")c=p[0];else if(l==="Panic"){let[d]=p;c=yp[d]}else{let d=f?Kt(f,{includeName:!0}):void 0,b=f&&p?Uy({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[d?`Error: ${d}`:"",b&&b!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){i=f}else o&&(c=o);let u;i instanceof Ao&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${n}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=r,this.reason=c,this.signature=u}},hc=class extends P{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},yc=class extends P{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},br=class extends P{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var Me,Ns,gr,Qr,Mn,Dr=m(()=>{oe();nt();_p();Me=class extends P{constructor({body:e,cause:r,details:n,headers:o,status:i,url:s}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${zn(s)}`,e&&`Request body: ${st(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=i,this.url=s}},Ns=class extends P{constructor({body:e,cause:r,details:n,url:o}){super("WebSocket request failed.",{cause:r,details:n,metaMessages:[`URL: ${zn(o)}`,e&&`Request body: ${st(e)}`].filter(Boolean),name:"WebSocketRequestError"})}},gr=class extends P{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${zn(n)}`,`Request body: ${st(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}},Qr=class extends P{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${zn(e)}`].filter(Boolean),name:"SocketClosedError"})}},Mn=class extends P{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${zn(r)}`,`Request body: ${st(e)}`],name:"TimeoutError"})}}});var CO,Gt,ie,Lo,Mo,Ko,Ho,Lr,xr,Fo,qo,tn,en,Kn,$o,Mr,jo,Go,Vo,Wo,Yo,rn,Jo,Zo,Xo,Qo,ti,nn,bc,ei=m(()=>{nt();Dr();CO=-1,Gt=class extends P{constructor(e,{code:r,docsPath:n,metaMessages:o,name:i,shortMessage:s}){super(s,{cause:e,docsPath:n,metaMessages:o||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof gr?e.code:r??CO}},ie=class extends Gt{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}},Lo=class t extends Gt{constructor(e){super(e,{code:t.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(Lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});Mo=class t extends Gt{constructor(e){super(e,{code:t.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(Mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});Ko=class t extends Gt{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}};Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});Ho=class t extends Gt{constructor(e){super(e,{code:t.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Lr=class t extends Gt{constructor(e){super(e,{code:t.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});xr=class t extends Gt{constructor(e){super(e,{code:t.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});Fo=class t extends Gt{constructor(e){super(e,{code:t.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});qo=class t extends Gt{constructor(e){super(e,{code:t.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});tn=class t extends Gt{constructor(e){super(e,{code:t.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});en=class t extends Gt{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}};Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});Kn=class t extends Gt{constructor(e){super(e,{code:t.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});$o=class t extends Gt{constructor(e){super(e,{code:t.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty($o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});Mr=class t extends ie{constructor(e){super(e,{code:t.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});jo=class t extends ie{constructor(e){super(e,{code:t.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});Go=class t extends ie{constructor(e,{method:r}={}){super(e,{code:t.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}};Object.defineProperty(Go,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Vo=class t extends ie{constructor(e){super(e,{code:t.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(Vo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});Wo=class t extends ie{constructor(e){super(e,{code:t.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});Yo=class t extends ie{constructor(e){super(e,{code:t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});rn=class t extends ie{constructor(e){super(e,{code:t.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});Jo=class t extends ie{constructor(e){super(e,{code:t.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});Zo=class t extends ie{constructor(e){super(e,{code:t.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});Xo=class t extends ie{constructor(e){super(e,{code:t.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});Qo=class t extends ie{constructor(e){super(e,{code:t.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});ti=class t extends ie{constructor(e){super(e,{code:t.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});nn=class t extends ie{constructor(e){super(e,{code:t.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});bc=class extends Gt{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function Ae(t,{abi:e,address:r,args:n,docsPath:o,functionName:i,sender:s}){let a=t instanceof br?t:t instanceof P?t.walk(b=>"data"in b)||t.walk():{},{code:c,data:u,details:f,message:l,shortMessage:p}=a,d=t instanceof Ce?new hc({functionName:i}):[RO,Lr.code].includes(c)&&(u||f||l||p)?new Dn({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof gr?f:p??l}):t;return new mc(d,{abi:e,args:n,contractAddress:r,docsPath:o,functionName:i,sender:s})}var RO,ri=m(()=>{Et();nt();Ln();Dr();ei();RO=3});function y2(t){let e=ct(`0x${t.substring(4)}`).substring(26);return kr(`0x${e}`)}var b2=m(()=>{mr();Ne()});var I2={};ar(I2,{encodeToCurve:()=>KO,hashToCurve:()=>MO,schnorr:()=>zO,secp256k1:()=>rr,secp256k1_hasher:()=>Dy});function v2(t){let e=Hn.p,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,l=We(f,r,e)*f%e,p=We(l,r,e)*f%e,d=We(p,Ap,e)*u%e,b=We(d,o,e)*d%e,h=We(b,i,e)*b%e,y=We(h,a,e)*h%e,x=We(y,c,e)*y%e,v=We(x,a,e)*h%e,w=We(v,r,e)*f%e,S=We(w,s,e)*b%e,I=We(S,n,e)*u%e,T=We(I,Ap,e);if(!ni.eql(ni.sqr(T),t))throw new Error("Cannot find square root");return T}function Ip(t,...e){let r=x2[t];if(r===void 0){let n=Or(Uint8Array.from(t,o=>o.charCodeAt(0)));r=Tt(n,n),x2[t]=r}return Or(Tt(r,...e))}function Ry(t){let e=rr.utils.normPrivateKeyToScalar(t),r=Ny.fromPrivateKey(e);return{scalar:zy(r.y)?e:mf(-e),bytes:ky(r)}}function _2(t){Rl("x",t,Ep,Hn.p);let e=Oy(t*t),r=Oy(e*t+BigInt(7)),n=v2(r);zy(n)||(n=Oy(-n));let o=Ny.fromAffine({x:t,y:n});return o.assertValidity(),o}function E2(...t){return mf(gc(Ip("BIP0340/challenge",...t)))}function kO(t){return Ry(t).bytes}function NO(t,e,r=Pr(32)){let n=zt("message",t),{bytes:o,scalar:i}=Ry(e),s=zt("auxRand",r,32),a=Cy(i^gc(Ip("BIP0340/aux",s))),c=Ip("BIP0340/nonce",a,o,n),u=mf(gc(c));if(u===w2)throw new Error("sign failed: k is zero");let{bytes:f,scalar:l}=Ry(u),p=E2(f,o,n),d=new Uint8Array(64);if(d.set(f,0),d.set(Cy(mf(l+p*i)),32),!A2(d,n,o))throw new Error("sign: Invalid signature produced");return d}function A2(t,e,r){let n=zt("signature",t,64),o=zt("message",e),i=zt("publicKey",r,32);try{let s=_2(gc(i)),a=gc(n.subarray(0,32));if(!Lu(a,Ep,Hn.p))return!1;let c=gc(n.subarray(32,64));if(!Lu(c,Ep,Hn.n))return!1;let u=E2(Cy(a),ky(s),o),f=Ny.BASE.multiplyUnsafe(c).add(s.multiplyUnsafe(mf(-u))),{x:l,y:p}=f.toAffine();return!(f.is0()||!zy(p)||l!==a)}catch{return!1}}var Hn,w2,Ep,Ap,g2,ni,rr,x2,ky,Cy,Oy,mf,Ny,zy,gc,zO,DO,LO,Dy,MO,KO,xc=m(()=>{ga();Pe();Wh();ew();ya();Vh();ha();Hn={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},w2=BigInt(0),Ep=BigInt(1),Ap=BigInt(2),g2=(t,e)=>(t+e/Ap)/e;ni=Ur(Hn.p,void 0,void 0,{sqrt:v2}),rr=_a({...Hn,Fp:ni,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Hn.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ep*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=g2(i*t,e),c=g2(-n*t,e),u=jt(t-a*r-c*o,e),f=jt(-a*n-c*i,e),l=u>s,p=f>s;if(l&&(u=e-u),p&&(f=e-f),u>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:u,k2neg:p,k2:f}}}},Or),x2={};ky=t=>t.toBytes(!0).slice(1),Cy=t=>Wi(t,32),Oy=t=>jt(t,Hn.p),mf=t=>jt(t,Hn.n),Ny=rr.Point,zy=t=>t%Ap===w2;gc=Br;zO={getPublicKey:kO,sign:NO,verify:A2,utils:{randomPrivateKey:rr.utils.randomPrivateKey,lift_x:_2,pointToBytes:ky,numberToBytesBE:Wi,bytesToNumberBE:Br,taggedHash:Ip,mod:jt}},DO=Qx(ni,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),LO=Bw(ni,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ni.create(BigInt("-11"))}),Dy=tw(rr.Point,t=>{let{x:e,y:r}=LO(ni.create(t[0]));return DO(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ni.ORDER,m:1,k:128,expand:"xmd",hash:Or}),MO=Dy.hashToCurve,KO=Dy.encodeToCurve});async function Sp({hash:t,signature:e}){let r=J(t)?t:yt(t),{secp256k1:n}=await Promise.resolve().then(()=>(xc(),I2));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:u,s:f,v:l,yParity:p}=e,d=Number(p??l),b=S2(d);return new n.Signature(tt(u),tt(f)).addRecoveryBit(b)}let s=J(e)?e:yt(e);if(at(s)!==65)throw new Error("invalid signature length");let a=ot(`0x${s.slice(130)}`),c=S2(a);return n.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function S2(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var Ly=m(()=>{ve();Oe();Ct();Y()});async function Ke({hash:t,signature:e}){return y2(await Sp({hash:t,signature:e}))}var oi=m(()=>{b2();Ly()});function Ie(t,e="hex"){let r=B2(t),n=zr(new Uint8Array(r.length));return r.encode(n),e==="hex"?rt(n.bytes):n.bytes}function T2(t,e="bytes"){return Ie(t,e)}function P2(t,e="hex"){return Ie(t,e)}function B2(t){return Array.isArray(t)?HO(t.map(e=>B2(e))):FO(t)}function HO(t){let e=t.reduce((o,i)=>o+i.length,0),r=U2(e);return{length:e<=55?1+e:1+r+e,encode(o){e<=55?o.pushByte(192+e):(o.pushByte(247+r),r===1?o.pushUint8(e):r===2?o.pushUint16(e):r===3?o.pushUint24(e):o.pushUint32(e));for(let{encode:i}of t)i(o)}}}function FO(t){let e=typeof t=="string"?ft(t):t,r=U2(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(o){e.length===1&&e[0]<128?o.pushBytes(e):e.length<=55?(o.pushByte(128+e.length),o.pushBytes(e)):(o.pushByte(183+r),r===1?o.pushUint8(e.length):r===2?o.pushUint16(e.length):r===3?o.pushUint24(e.length):o.pushUint32(e.length),o.pushBytes(e))}}}function U2(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new P("Length is too large.")}var hf=m(()=>{nt();Qa();wt();Y()});function O2(t){let{chainId:e,nonce:r,to:n}=t,o=t.contractAddress??t.address,i=ct(Rt(["0x05",Ie([e?C(e):"0x",o,r?C(r):"0x"])]));return n==="bytes"?ft(i):i}var C2=m(()=>{ne();wt();Y();hf();Ne()});async function Tp(t){let{authorization:e,signature:r}=t;return Ke({hash:O2(e),signature:r??e})}var My=m(()=>{oi();C2()});var wc,Ky=m(()=>{df();Rs();nt();Le();wc=class extends P{constructor(e,{account:r,docsPath:n,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){let d=ks({from:r?.address,to:l,value:typeof p<"u"&&`${Ro(p)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Nt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nt(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Nt(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}});var nr,He,ii,si,ai,ci,ui,fi,li,pi,wr,Fe,on=m(()=>{Rs();nt();nr=class extends P{constructor({cause:e,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});He=class extends P{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Nt(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(He,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});ii=class extends P{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Nt(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(ii,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});si=class extends P{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(si,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});ai=class extends P{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(ai,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});ci=class extends P{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(ci,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});ui=class extends P{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(ui,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});fi=class extends P{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(fi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});li=class extends P{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(li,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});pi=class extends P{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(pi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});wr=class extends P{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Nt(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Nt(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(wr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});Fe=class extends P{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function di(t,e){let r=(t.details||"").toLowerCase(),n=t instanceof P?t.walk(o=>o?.code===nr.code):t;return n instanceof P?new nr({cause:t,message:n.details}):nr.nodeMessage.test(r)?new nr({cause:t,message:t.details}):He.nodeMessage.test(r)?new He({cause:t,maxFeePerGas:e?.maxFeePerGas}):ii.nodeMessage.test(r)?new ii({cause:t,maxFeePerGas:e?.maxFeePerGas}):si.nodeMessage.test(r)?new si({cause:t,nonce:e?.nonce}):ai.nodeMessage.test(r)?new ai({cause:t,nonce:e?.nonce}):ci.nodeMessage.test(r)?new ci({cause:t,nonce:e?.nonce}):ui.nodeMessage.test(r)?new ui({cause:t}):fi.nodeMessage.test(r)?new fi({cause:t,gas:e?.gas}):li.nodeMessage.test(r)?new li({cause:t,gas:e?.gas}):pi.nodeMessage.test(r)?new pi({cause:t}):wr.nodeMessage.test(r)?new wr({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Fe({cause:t})}var yf=m(()=>{nt();on()});function R2(t,{docsPath:e,...r}){let n=(()=>{let o=di(t,r);return o instanceof Fe?t:o})();return new wc(n,{docsPath:e,...r})}var k2=m(()=>{Ky();on();yf()});function sn(t,{format:e}){if(!e)return{};let r={};function n(i){let s=Object.keys(i);for(let a of s)a in t&&(r[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&n(i[a])}let o=e(t||{});return n(o),r}var vc=m(()=>{});function mi(t,e){return({exclude:r,format:n})=>({exclude:r,format:o=>{let i=e(o);if(r)for(let s of r)delete i[s];return{...i,...n(o)}},type:t})}var bf=m(()=>{});function se(t){let e={};return typeof t.authorizationList<"u"&&(e.authorizationList=qO(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>rt(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=C(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=C(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=C(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=C(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=C(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=C(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Hy[t.type]),typeof t.value<"u"&&(e.value=C(t.value)),e}function qO(t){return t.map(e=>({address:e.address,r:e.r?C(BigInt(e.r)):e.r,s:e.s?C(BigInt(e.s)):e.s,chainId:C(e.chainId),nonce:C(e.nonce),...typeof e.yParity<"u"?{yParity:C(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:C(e.v)}:{}}))}var Hy,N2,Fn=m(()=>{Y();bf();Hy={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};N2=mi("transactionRequest",se)});function z2(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new tf({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new tf({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function $O(t){let{balance:e,nonce:r,state:n,stateDiff:o,code:i}=t,s={};if(i!==void 0&&(s.code=i),e!==void 0&&(s.balance=C(e)),r!==void 0&&(s.nonce=C(r)),n!==void 0&&(s.state=z2(n)),o!==void 0){if(s.state)throw new ac;s.stateDiff=z2(o)}return s}function _c(t){if(!t)return;let e={};for(let{address:r,...n}of t){if(!ut(r,{strict:!1}))throw new dt({address:r});if(e[r])throw new sc({address:r});e[r]=$O(n)}return e}var Pp=m(()=>{pr();ef();vp();ze();Y()});var D2,L2,M2,K2,H2,F2,q2,$2,j2,G2,V2,W2,Y2,J2,Z2,X2,Q2,tv,ev,rv,nv,ov,iv,sv,av,cv,uv,fv,lv,pv,dv,mv,hv,yv,bv,gv,xv,wv,vv,_v,Ev,Av,Iv,Sv,Tv,Pv,Bv,Uv,Ov,Cv,Rv,kv,Nv,zv,Dv,Lv,Mv,Kv,Hv,Fv,qv,$v,jv,Gv,Vv,Wv,Yv,Jv,Zv,Xv,Qv,t_,e_,r_,n_,o_,i_,s_,a_,c_,u_,f_,l_,p_,d_,m_,h_,y_,b_,g_,x_,w_,v_,__,E_,hi,Bp=m(()=>{D2=2n**(8n-1n)-1n,L2=2n**(16n-1n)-1n,M2=2n**(24n-1n)-1n,K2=2n**(32n-1n)-1n,H2=2n**(40n-1n)-1n,F2=2n**(48n-1n)-1n,q2=2n**(56n-1n)-1n,$2=2n**(64n-1n)-1n,j2=2n**(72n-1n)-1n,G2=2n**(80n-1n)-1n,V2=2n**(88n-1n)-1n,W2=2n**(96n-1n)-1n,Y2=2n**(104n-1n)-1n,J2=2n**(112n-1n)-1n,Z2=2n**(120n-1n)-1n,X2=2n**(128n-1n)-1n,Q2=2n**(136n-1n)-1n,tv=2n**(144n-1n)-1n,ev=2n**(152n-1n)-1n,rv=2n**(160n-1n)-1n,nv=2n**(168n-1n)-1n,ov=2n**(176n-1n)-1n,iv=2n**(184n-1n)-1n,sv=2n**(192n-1n)-1n,av=2n**(200n-1n)-1n,cv=2n**(208n-1n)-1n,uv=2n**(216n-1n)-1n,fv=2n**(224n-1n)-1n,lv=2n**(232n-1n)-1n,pv=2n**(240n-1n)-1n,dv=2n**(248n-1n)-1n,mv=2n**(256n-1n)-1n,hv=-(2n**(8n-1n)),yv=-(2n**(16n-1n)),bv=-(2n**(24n-1n)),gv=-(2n**(32n-1n)),xv=-(2n**(40n-1n)),wv=-(2n**(48n-1n)),vv=-(2n**(56n-1n)),_v=-(2n**(64n-1n)),Ev=-(2n**(72n-1n)),Av=-(2n**(80n-1n)),Iv=-(2n**(88n-1n)),Sv=-(2n**(96n-1n)),Tv=-(2n**(104n-1n)),Pv=-(2n**(112n-1n)),Bv=-(2n**(120n-1n)),Uv=-(2n**(128n-1n)),Ov=-(2n**(136n-1n)),Cv=-(2n**(144n-1n)),Rv=-(2n**(152n-1n)),kv=-(2n**(160n-1n)),Nv=-(2n**(168n-1n)),zv=-(2n**(176n-1n)),Dv=-(2n**(184n-1n)),Lv=-(2n**(192n-1n)),Mv=-(2n**(200n-1n)),Kv=-(2n**(208n-1n)),Hv=-(2n**(216n-1n)),Fv=-(2n**(224n-1n)),qv=-(2n**(232n-1n)),$v=-(2n**(240n-1n)),jv=-(2n**(248n-1n)),Gv=-(2n**(256n-1n)),Vv=2n**8n-1n,Wv=2n**16n-1n,Yv=2n**24n-1n,Jv=2n**32n-1n,Zv=2n**40n-1n,Xv=2n**48n-1n,Qv=2n**56n-1n,t_=2n**64n-1n,e_=2n**72n-1n,r_=2n**80n-1n,n_=2n**88n-1n,o_=2n**96n-1n,i_=2n**104n-1n,s_=2n**112n-1n,a_=2n**120n-1n,c_=2n**128n-1n,u_=2n**136n-1n,f_=2n**144n-1n,l_=2n**152n-1n,p_=2n**160n-1n,d_=2n**168n-1n,m_=2n**176n-1n,h_=2n**184n-1n,y_=2n**192n-1n,b_=2n**200n-1n,g_=2n**208n-1n,x_=2n**216n-1n,w_=2n**224n-1n,v_=2n**232n-1n,__=2n**240n-1n,E_=2n**248n-1n,hi=2n**256n-1n});function pe(t){let{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:i}=t,s=e?it(e):void 0;if(s&&!ut(s.address))throw new dt({address:s.address});if(i&&!ut(i))throw new dt({address:i});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new cc;if(n&&n>hi)throw new He({maxFeePerGas:n});if(o&&n&&o>n)throw new wr({maxFeePerGas:n,maxPriorityFeePerGas:o})}var qn=m(()=>{kt();Bp();pr();on();Le();ze()});var Ec,an,Ac,gf=m(()=>{Rs();nt();Ec=class extends P{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},an=class extends P{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Ac=class extends P{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Nt(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var yi,Up=m(()=>{nt();yi=class extends P{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}});function zs(t){let e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ot(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ot(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?xf[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=jO(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function jO(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}var xf,A_,wf=m(()=>{Ct();bf();xf={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};A_=mi("transaction",zs)});function Ds(t){let e=(t.transactions??[]).map(r=>typeof r=="string"?r:zs(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}var I_,Op=m(()=>{bf();wf();I_=mi("block",Ds)});async function de(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:o}={}){let i=n??"latest",s=o??!1,a=r!==void 0?C(r):void 0,c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,s]},{dedupe:!!a}),!c)throw new yi({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||Ds)(c)}var Ls=m(()=>{Up();Y();Op()});async function Ic(t){let e=await t.request({method:"eth_gasPrice"});return BigInt(e)}var Cp=m(()=>{});async function S_(t,e){return Fy(t,e)}async function Fy(t,e){let{block:r,chain:n=t.chain,request:o}=e||{};try{let i=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof i=="function"){let a=r||await V(t,de,"getBlock")({}),c=await i({block:a,client:t,request:o});if(c===null)throw new Error;return c}if(typeof i<"u")return i;let s=await t.request({method:"eth_maxPriorityFeePerGas"});return tt(s)}catch{let[i,s]=await Promise.all([r?Promise.resolve(r):V(t,de,"getBlock")({}),V(t,Ic,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new an;let a=s-i.baseFeePerGas;return a<0n?0n:a}}var qy=m(()=>{gf();Ct();ht();Ls();Cp()});async function T_(t,e){return Rp(t,e)}async function Rp(t,e){let{block:r,chain:n=t.chain,request:o,type:i="eip1559"}=e||{},s=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:o}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Ec;let c=10**(s.toString().split(".")[1]?.length??0),u=p=>p*BigInt(Math.ceil(s*c))/BigInt(c),f=r||await V(t,de,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){let p=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:o,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new an;let p=typeof o?.maxPriorityFeePerGas=="bigint"?o.maxPriorityFeePerGas:await Fy(t,{block:f,chain:n,request:o}),d=u(f.baseFeePerGas);return{maxFeePerGas:o?.maxFeePerGas??d+p,maxPriorityFeePerGas:p}}return{gasPrice:o?.gasPrice??u(await V(t,Ic,"getGasPrice")({}))}}var $y=m(()=>{gf();ht();qy();Ls();Cp()});async function bi(t,{address:e,blockTag:r="latest",blockNumber:n}){let o=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?C(n):r]},{dedupe:!!n});return ot(o)}var vf=m(()=>{Ct();Y()});function gi(t){let{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(i=>ft(i)):t.blobs,o=[];for(let i of n)o.push(Uint8Array.from(e.blobToKzgCommitment(i)));return r==="bytes"?o:o.map(i=>rt(i))}var _f=m(()=>{wt();Y()});function xi(t){let{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>ft(s)):t.blobs,o=typeof t.commitments[0]=="string"?t.commitments.map(s=>ft(s)):t.commitments,i=[];for(let s=0;s<n.length;s++){let a=n[s],c=o[s];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?i:i.map(s=>rt(s))}var Ef=m(()=>{wt();Y()});var or,Af=m(()=>{ga();or=Or});function kp(t,e){let r=e||"hex",n=or(J(t,{strict:!1})?Bt(t):t);return r==="bytes"?n:yt(n)}var jy=m(()=>{Af();ve();wt();Y()});function Sc(t){let{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),o=kp(e,"bytes");return o.set([r],0),n==="bytes"?o:rt(o)}var Np=m(()=>{Y();jy()});function Tc(t){let{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),o=[];for(let i of e)o.push(Sc({commitment:i,to:n,version:r}));return o}var zp=m(()=>{Np()});var Dp,Pc,Lp,Mp,Gy=m(()=>{nt();Dp=class extends P{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},Pc=class extends P{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},Lp=class extends P{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},Mp=class extends P{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}});function Kp(t){let e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?ft(t.data):t.data,n=at(r);if(!n)throw new Pc;if(n>761855)throw new Dp({maxSize:761855,size:n});let o=[],i=!0,s=0;for(;i;){let a=zr(new Uint8Array(131072)),c=0;for(;c<4096;){let u=r.slice(s,s+31);if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,s+=31}o.push(a)}return e==="bytes"?o.map(a=>a.bytes):o.map(a=>rt(a.bytes))}var Vy=m(()=>{Gy();Qa();Oe();wt();Y()});function wi(t){let{data:e,kzg:r,to:n}=t,o=t.blobs??Kp({data:e,to:n}),i=t.commitments??gi({blobs:o,kzg:r,to:n}),s=t.proofs??xi({blobs:o,commitments:i,kzg:r,to:n}),a=[];for(let c=0;c<o.length;c++)a.push({blob:o[c],commitment:i[c],proof:s[c]});return a}var If=m(()=>{_f();Ef();Vy()});function Bc(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new uc({transaction:t})}var Hp=m(()=>{Le()});async function vr(t){let e=await t.request({method:"eth_chainId"},{dedupe:!0});return ot(e)}var Ms=m(()=>{Ct()});async function vi(t,e){let{account:r=t.account,blobs:n,chain:o,gas:i,kzg:s,nonce:a,nonceManager:c,parameters:u=Wy,type:f}=e,l=r&&it(r),p={...e,...l?{from:l?.address}:{}},d;async function b(){return d||(d=await V(t,de,"getBlock")({blockTag:"latest"}),d)}let h;async function y(){return h||(o?o.id:typeof e.chainId<"u"?e.chainId:(h=await V(t,vr,"getChainId")({}),h))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){let x=await y();p.nonce=await c.consume({address:l.address,chainId:x,client:t})}else p.nonce=await V(t,bi,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&s){let x=gi({blobs:n,kzg:s});if(u.includes("blobVersionedHashes")){let v=Tc({commitments:x,to:"hex"});p.blobVersionedHashes=v}if(u.includes("sidecars")){let v=xi({blobs:n,commitments:x,kzg:s}),w=wi({blobs:n,commitments:x,proofs:v,to:"hex"});p.sidecars=w}}if(u.includes("chainId")&&(p.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{p.type=Bc(p)}catch{let x=P_.get(t.uid);typeof x>"u"&&(x=typeof(await b())?.baseFeePerGas=="bigint",P_.set(t.uid,x)),p.type=x?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){let x=await b(),{maxFeePerGas:v,maxPriorityFeePerGas:w}=await Rp(t,{block:x,chain:o,request:p});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new Ac({maxPriorityFeePerGas:w});p.maxPriorityFeePerGas=w,p.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new an;if(typeof e.gasPrice>"u"){let x=await b(),{gasPrice:v}=await Rp(t,{block:x,chain:o,request:p,type:"legacy"});p.gasPrice=v}}return u.includes("gas")&&typeof i>"u"&&(p.gas=await V(t,Uc,"estimateGas")({...p,account:l&&{address:l.address,type:"json-rpc"}})),pe(p),delete p.parameters,p}var Wy,P_,Sf=m(()=>{kt();$y();Fp();Ls();vf();gf();_f();Ef();zp();If();ht();qn();Hp();Ms();Wy=["blobVersionedHashes","chainId","fees","gas","nonce","type"],P_=new Map});async function qp(t,{address:e,blockNumber:r,blockTag:n="latest"}){let o=typeof r=="bigint"?C(r):void 0,i=await t.request({method:"eth_getBalance",params:[e,o||n]});return BigInt(i)}var Yy=m(()=>{Y()});async function Uc(t,e){let{account:r=t.account}=e,n=r?it(r):void 0;try{let g=function(D){let{block:B,request:O,rpcStateOverride:U}=D;return t.request({method:"eth_estimateGas",params:U?[O,B??"latest",U]:B?[O,B]:[O]})},{accessList:o,authorizationList:i,blobs:s,blobVersionedHashes:a,blockNumber:c,blockTag:u,data:f,gas:l,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:y,value:x,stateOverride:v,...w}=await vi(t,{...e,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),I=(typeof c=="bigint"?C(c):void 0)||u,T=_c(v),k=await(async()=>{if(w.to)return w.to;if(i&&i.length>0)return await Tp({authorization:i[0]}).catch(()=>{throw new P("`to` is required. Could not infer from `authorizationList`")})})();pe(e);let R=t.chain?.formatters?.transactionRequest?.format,N=(R||se)({...sn(w,{format:R}),from:n?.address,accessList:o,authorizationList:i,blobs:s,blobVersionedHashes:a,data:f,gas:l,gasPrice:p,maxFeePerBlobGas:d,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:y,to:k,value:x}),_=BigInt(await g({block:I,request:N,rpcStateOverride:T}));if(i){let D=await qp(t,{address:N.from}),B=await Promise.all(i.map(async O=>{let{address:U}=O,z=await g({block:I,request:{authorizationList:void 0,data:f,from:n?.address,to:U,value:C(D)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(z)}));_+=B.reduce((O,U)=>O+U,0n)}return _}catch(o){throw R2(o,{...e,account:n,chain:t.chain})}}var Fp=m(()=>{kt();nt();My();Y();k2();vc();Fn();Pp();qn();Sf();Yy()});async function $p(t,e){let{abi:r,address:n,args:o,functionName:i,dataSuffix:s,...a}=e,c=bt({abi:r,args:o,functionName:i});try{return await V(t,Uc,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:n,...a})}catch(u){let f=a.account?it(a.account):void 0;throw Ae(u,{abi:r,address:n,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f?.address})}}var Jy=m(()=>{kt();De();ri();ht();Fp()});function Vt(t,e){if(!ut(t,{strict:!1}))throw new dt({address:t});if(!ut(e,{strict:!1}))throw new dt({address:e});return t.toLowerCase()===e.toLowerCase()}var cn=m(()=>{pr();ze()});function _i(t){let{abi:e,data:r,strict:n,topics:o}=t,i=n??!0,[s,...a]=o;if(!s)throw new Da({docsPath:B_});let c=e.find(h=>h.type==="event"&&s===Rr(Kt(h)));if(!(c&&"name"in c)||c.type!=="event")throw new Io(s,{docsPath:B_});let{name:u,inputs:f}=c,l=f?.some(h=>!("name"in h&&h.name)),p=l?[]:{},d=f.map((h,y)=>[h,y]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<d.length;h++){let[y,x]=d[h],v=a[h];if(!v)throw new lr({abiItem:c,param:y});p[l?x:y.name||x]=WO({param:y,value:v})}let b=f.filter(h=>!("indexed"in h&&h.indexed));if(b.length>0){if(r&&r!=="0x")try{let h=Ee(b,r);if(h)if(l)for(let y=0;y<f.length;y++)p[y]=p[y]??h.shift();else for(let y=0;y<b.length;y++)p[b[y].name]=h[y]}catch(h){if(i)throw h instanceof _o||h instanceof Xa?new Xe({abiItem:c,data:r,params:b,size:at(r)}):h}else if(i)throw new Xe({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function WO({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ee([t],e)||[])[0]}var B_,Tf=m(()=>{Et();Oe();Wa();Ty();Co();Un();B_="/docs/contract/decodeEventLog"});function Ei(t){let{abi:e,args:r,logs:n,strict:o=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(s=>{try{let a=e.find(u=>u.type==="event"&&s.topics[0]===Rr(u));if(!a)return null;let c=_i({...s,abi:[a],strict:o});return i&&!i.includes(c.eventName)||!YO({args:c.args,inputs:a.inputs,matchArgs:r})?null:{...c,...s}}catch(a){let c,u;if(a instanceof Io)return null;if(a instanceof Xe||a instanceof lr){if(o)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...s,args:u?[]:{},eventName:c}}}).filter(Boolean)}function YO(t){let{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function o(i,s,a){try{return i.type==="address"?Vt(s,a):i.type==="string"||i.type==="bytes"?ct(Bt(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((i,s)=>{if(i==null)return!0;let a=r[s];return a?(Array.isArray(i)?i:[i]).some(u=>o(a,u,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([i,s])=>{if(s==null)return!0;let a=r.find(u=>u.name===i);return a?(Array.isArray(s)?s:[s]).some(u=>o(a,u,e[i])):!1}):!1}var Pf=m(()=>{Et();cn();wt();Ne();Wa();Tf()});function Wt(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}var $n=m(()=>{});async function Oc(t,{address:e,blockHash:r,fromBlock:n,toBlock:o,event:i,events:s,args:a,strict:c}={}){let u=c??!1,f=s??(i?[i]:void 0),l=[];f&&(l=[f.flatMap(h=>yr({abi:[h],eventName:h.name,args:s?void 0:a}))],i&&(l=l[0]));let p;r?p=await t.request({method:"eth_getLogs",params:[{address:e,topics:l,blockHash:r}]}):p=await t.request({method:"eth_getLogs",params:[{address:e,topics:l,fromBlock:typeof n=="bigint"?C(n):n,toBlock:typeof o=="bigint"?C(o):o}]});let d=p.map(b=>Wt(b));return f?Ei({abi:f,args:a,logs:d,strict:u}):d}var jp=m(()=>{Cs();Pf();Y();$n()});async function Cc(t,e){let{abi:r,address:n,args:o,blockHash:i,eventName:s,fromBlock:a,toBlock:c,strict:u}=e,f=s?le({abi:r,name:s}):void 0,l=f?void 0:r.filter(p=>p.type==="event");return V(t,Oc,"getLogs")({address:n,args:o,blockHash:i,event:f,events:l,fromBlock:a,toBlock:c,strict:u})}var Gp=m(()=>{Nn();ht();jp()});function me(t){let{abi:e,args:r,functionName:n,data:o}=t,i=e[0];if(n){let a=le({abi:e,args:r,name:n});if(!a)throw new Ze(n,{docsPath:Zy});i=a}if(i.type!=="function")throw new Ze(void 0,{docsPath:Zy});if(!i.outputs)throw new So(i.name,{docsPath:Zy});let s=Ee(i.outputs,o);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}var Zy,jn=m(()=>{Et();Co();Nn();Zy="/docs/contract/decodeFunctionResult"});var U_,O_=m(()=>{U_="0.1.1"});function C_(){return U_}var R_=m(()=>{O_()});function k_(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?k_(t.cause,e):e?null:t}var lt,Ai=m(()=>{R_();lt=class t extends Error{constructor(e,r={}){let n=(()=>{if(r.cause instanceof t){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),o=r.cause instanceof t&&r.cause.docsPath||r.docsPath,s=`https://oxlib.sh${o??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||o?["",n?`Details: ${n}`:void 0,o?`See: ${s}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${C_()}`}),this.cause=r.cause,this.details=n,this.docs=s,this.docsPath=o,this.shortMessage=e}walk(e){return k_(this,e)}}});function N_(t,e,r){return JSON.stringify(t,(n,o)=>typeof e=="function"?e(n,o):typeof o=="bigint"?o.toString()+JO:o,r)}var JO,z_=m(()=>{JO="#__bigint"});function D_(t,e){if(Xy(t)>e)throw new Vp({givenSize:Xy(t),maxSize:e})}function Qy(t){if(t>=Gn.zero&&t<=Gn.nine)return t-Gn.zero;if(t>=Gn.A&&t<=Gn.F)return t-(Gn.A-10);if(t>=Gn.a&&t<=Gn.f)return t-(Gn.a-10)}function L_(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Wp({size:t.length,targetSize:n,type:"Bytes"});let o=new Uint8Array(n);for(let i=0;i<n;i++){let s=r==="right";o[s?i:n-i-1]=t[s?i:t.length-i-1]}return o}var Gn,M_=m(()=>{Yp();Gn={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Bf(t,e){if(Yt(t)>e)throw new Jp({givenSize:Yt(t),maxSize:e})}function K_(t,e){if(typeof e=="number"&&e>0&&e>Yt(t)-1)throw new Uf({offset:e,position:"start",size:Yt(t)})}function H_(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Yt(t)!==r-e)throw new Uf({offset:r,position:"end",size:Yt(t)})}function e0(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;let o=t.replace("0x","");if(o.length>n*2)throw new Zp({size:Math.ceil(o.length/2),targetSize:n,type:"Hex"});return`0x${o[r==="right"?"padEnd":"padStart"](n*2,"0")}`}var r0=m(()=>{Kr()});function q_(t){return t instanceof Uint8Array?t:typeof t=="string"?eC(t):tC(t)}function tC(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function eC(t,e={}){let{size:r}=e,n=t;r&&(Bf(t,r),n=fn(t,r));let o=n.slice(2);o.length%2&&(o=`0${o}`);let i=o.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){let u=Qy(o.charCodeAt(c++)),f=Qy(o.charCodeAt(c++));if(u===void 0||f===void 0)throw new lt(`Invalid byte sequence ("${o[c-2]}${o[c-1]}" in "${o}").`);s[a]=u*16+f}return s}function $_(t,e={}){let{size:r}=e,n=QO.encode(t);return typeof r=="number"?(D_(n,r),rC(n,r)):n}function rC(t,e){return L_(t,{dir:"right",size:e})}function Xy(t){return t.length}var QO,Vp,Wp,Yp=m(()=>{Ai();Kr();M_();r0();QO=new TextEncoder;Vp=class extends lt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Wp=class extends lt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function iC(t,e={}){let{strict:r=!1}=e;if(!t)throw new Xp(t);if(typeof t!="string")throw new Xp(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Qp(t);if(!t.startsWith("0x"))throw new Qp(t)}function qe(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function td(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(Bf(r,e.size),Vn(r,e.size)):r}function Rc(t,e={}){let r="";for(let o=0;o<t.length;o++)r+=oC[t[o]];let n=`0x${r}`;return typeof e.size=="number"?(Bf(n,e.size),fn(n,e.size)):n}function Lt(t,e={}){let{signed:r,size:n}=e,o=BigInt(t),i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));let s=typeof i=="bigint"&&r?-i-1n:0;if(i&&o>i||o<s){let u=typeof t=="bigint"?"n":"";throw new Of({max:i?`${i}${u}`:void 0,min:`${s}${u}`,signed:r,size:n,value:`${t}${u}`})}let c=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?Vn(c,n):c}function kc(t,e={}){return Rc(nC.encode(t),e)}function Vn(t,e){return e0(t,{dir:"left",size:e})}function fn(t,e){return e0(t,{dir:"right",size:e})}function Nc(t,e,r,n={}){let{strict:o}=n;K_(t,e);let i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return o&&H_(i,e,r),i}function Yt(t){return Math.ceil((t.length-2)/2)}function n0(t,e={}){let{strict:r=!1}=e;try{return iC(t,{strict:r}),!0}catch{return!1}}var nC,oC,Of,Xp,Qp,Jp,Uf,Zp,Kr=m(()=>{Ai();z_();r0();nC=new TextEncoder,oC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Of=class extends lt{constructor({max:e,min:r,signed:n,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Xp=class extends lt{constructor(e){super(`Value \`${typeof e=="object"?N_(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Qp=class extends lt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Jp=class extends lt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Uf=class extends lt{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Zp=class extends lt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function j_(t){return{address:t.address,amount:Lt(t.amount),index:Lt(t.index),validatorIndex:Lt(t.validatorIndex)}}var G_=m(()=>{Kr()});function ed(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Lt(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Lt(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Lt(t.gasLimit)},...typeof t.number=="bigint"&&{number:Lt(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Lt(t.prevRandao)},...typeof t.time=="bigint"&&{time:Lt(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(j_)}}}var o0=m(()=>{Kr();G_()});var Hs,rd,W_,nd,Y_,i0,s0,Cf,J_,Z_,X_,Q_,tE,Wn=m(()=>{Hs=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],rd=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],W_=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],nd=[...W_,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Y_=[...W_,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],i0=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],s0=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Cf=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],J_=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Z_=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],X_=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Q_=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],tE=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]});var eE,rE=m(()=>{eE="0x82ad56cb"});var zc,od,id,Rf=m(()=>{zc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",od="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",id="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var Yn,Dc,Lc,Fs,Jn,Mc=m(()=>{nt();Yn=class extends P{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},Dc=class extends P{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} \u2013 ${e.name}`],name:"ChainMismatchError"})}},Lc=class extends P{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},Fs=class extends P{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},Jn=class extends P{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function Zn(t){let{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;let o=e.find(s=>"type"in s&&s.type==="constructor");if(!o)throw new vo({docsPath:a0});if(!("inputs"in o))throw new Jr({docsPath:a0});if(!o.inputs||o.inputs.length===0)throw new Jr({docsPath:a0});let i=Ht(o.inputs,r);return Rt([n,i])}var a0,kf=m(()=>{Et();ne();Nr();a0="/docs/contract/encodeDeployData"});function $e({blockNumber:t,chain:e,contract:r}){let n=e?.contracts?.[r];if(!n)throw new Yn({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Yn({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var Ii=m(()=>{Mc()});function sd(t,{docsPath:e,...r}){let n=(()=>{let o=di(t,r);return o instanceof Fe?t:o})();return new Do(n,{docsPath:e,...r})}var c0=m(()=>{Ln();on();yf()});function Kc(){let t=()=>{},e=()=>{};return{promise:new Promise((n,o)=>{t=n,e=o}),resolve:t,reject:e}}var ad=m(()=>{});function Hc({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:o}){let i=async()=>{let f=c();s();let l=f.map(({args:p})=>p);l.length!==0&&t(l).then(p=>{o&&Array.isArray(p)&&p.sort(o);for(let d=0;d<f.length;d++){let{resolve:b}=f[d];b?.([p[d],p])}}).catch(p=>{for(let d=0;d<f.length;d++){let{reject:b}=f[d];b?.(p)}})},s=()=>u0.delete(e),a=()=>c().map(({args:f})=>f),c=()=>u0.get(e)||[],u=f=>u0.set(e,[...c(),f]);return{flush:s,async schedule(f){let{promise:l,resolve:p,reject:d}=Kc();return r?.([...a(),f])&&i(),c().length>0?(u({args:f,resolve:p,reject:d}),l):(u({args:f,resolve:p,reject:d}),setTimeout(i,n),l)}}}var u0,cd=m(()=>{ad();u0=new Map});var ud,fd,ld,nE=m(()=>{oe();nt();_p();ud=class extends P{constructor({callbackSelector:e,cause:r,data:n,extraData:o,sender:i,urls:s}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",s&&["  Gateway URL(s):",...s.map(a=>`    ${zn(a)}`)],`  Sender: ${i}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${o}`].flat(),name:"OffchainLookupError"})}},fd=class extends P{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${zn(r)}`,`Response: ${st(e)}`],name:"OffchainLookupResponseMalformedError"})}},ld=class extends P{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});function pd(t){let{abi:e,data:r}=t,n=fe(r,0,4),o=e.find(i=>i.type==="function"&&n===tr(Kt(i)));if(!o)throw new La(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:o.name,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ee(o.inputs,fe(r,4)):void 0}}var f0=m(()=>{Et();hr();Os();Co();Un()});function Nf(t){let{abi:e,errorName:r,args:n}=t,o=e[0];if(r){let c=le({abi:e,args:n,name:r});if(!c)throw new Is(r,{docsPath:l0});o=c}if(o.type!=="error")throw new Is(void 0,{docsPath:l0});let i=Kt(o),s=tr(i),a="0x";if(n&&n.length>0){if(!o.inputs)throw new za(o.name,{docsPath:l0});a=Ht(o.inputs,n)}return Rt([s,a])}var l0,p0=m(()=>{Et();ne();Os();Nr();Un();Nn();l0="/docs/contract/encodeErrorResult"});function dd(t){let{abi:e,functionName:r,result:n}=t,o=e[0];if(r){let s=le({abi:e,name:r});if(!s)throw new Ze(r,{docsPath:d0});o=s}if(o.type!=="function")throw new Ze(void 0,{docsPath:d0});if(!o.outputs)throw new So(o.name,{docsPath:d0});let i=(()=>{if(o.outputs.length===0)return[];if(o.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new Po(n)})();return Ht(o.outputs,i)}var d0,m0=m(()=>{Et();Nr();Nn();d0="/docs/contract/encodeFunctionResult"});async function h0(t){let{data:e,ccipRequest:r}=t,{args:[n]}=pd({abi:rd,data:e}),o=[],i=[];return await Promise.all(n.map(async(s,a)=>{try{i[a]=s.urls.includes(qs)?await h0({data:s.data,ccipRequest:r}):await r(s),o[a]=!1}catch(c){o[a]=!0,i[a]=aC(c)}})),dd({abi:rd,functionName:"query",result:[o,i]})}function aC(t){return t.name==="HttpRequestError"&&t.status?Nf({abi:rd,errorName:"HttpError",args:[t.status,t.shortMessage]}):Nf({abi:[bp],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}var qs,md=m(()=>{Wn();af();f0();p0();m0();qs="x-batch-gateway:true"});var oE={};ar(oE,{ccipRequest:()=>zf,offchainLookup:()=>b0,offchainLookupAbiItem:()=>hd,offchainLookupSignature:()=>y0});async function b0(t,{blockNumber:e,blockTag:r,data:n,to:o}){let{args:i}=ec({data:n,abi:[hd]}),[s,a,c,u,f]=i,{ccipRead:l}=t,p=l&&typeof l?.request=="function"?l.request:zf;try{if(!Vt(o,s))throw new ld({sender:s,to:o});let d=a.includes(qs)?await h0({data:c,ccipRequest:p}):await p({data:c,sender:s,urls:a}),{data:b}=await ln(t,{blockNumber:e,blockTag:r,data:It([u,Ht([{type:"bytes"},{type:"bytes"}],[d,f])]),to:o});return b}catch(d){throw new ud({callbackSelector:u,cause:d,data:n,extraData:f,sender:s,urls:a})}}async function zf({data:t,sender:e,urls:r}){let n=new Error("An unknown error occurred.");for(let o=0;o<r.length;o++){let i=r[o],s=i.includes("{data}")?"GET":"POST",a=s==="POST"?{data:t,sender:e}:void 0,c=s==="POST"?{"Content-Type":"application/json"}:{};try{let u=await fetch(i.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(a),headers:c,method:s}),f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){n=new Me({body:a,details:f?.error?st(f.error):u.statusText,headers:u.headers,status:u.status,url:i});continue}if(!J(f)){n=new fd({result:f,url:i});continue}return f}catch(u){n=new Me({body:a,details:u.message,url:i})}}throw n}var y0,hd,g0=m(()=>{Fc();nE();Dr();xp();Nr();cn();ne();ve();md();oe();y0="0x556f1830",hd={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function ln(t,e){let{account:r=t.account,authorizationList:n,batch:o=!!t.batch?.multicall,blockNumber:i,blockTag:s="latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:l,factory:p,factoryData:d,gas:b,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:x,maxPriorityFeePerGas:v,nonce:w,to:S,value:I,stateOverride:T,...k}=e,R=r?it(r):void 0;if(f&&(p||d))throw new P("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&S)throw new P("Cannot provide both `code` & `to` as parameters.");let E=f&&l,N=p&&d&&S&&l,g=E||N,_=E?fC({code:f,data:l}):N?lC({data:l,factory:p,factoryData:d,to:S}):l;try{pe(e);let B=(typeof i=="bigint"?C(i):void 0)||s,O=u?ed(u):void 0,U=_c(T),z=t.chain?.formatters?.transactionRequest?.format,M=(z||se)({...sn(k,{format:z}),from:R?.address,accessList:a,authorizationList:n,blobs:c,data:_,gas:b,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:x,maxPriorityFeePerGas:v,nonce:w,to:g?void 0:S,value:I});if(o&&cC({request:M})&&!U&&!O)try{return await uC(t,{...M,blockNumber:i,blockTag:s})}catch(W){if(!(W instanceof Fs)&&!(W instanceof Yn))throw W}let K=(()=>{let W=[M,B];return U&&O?[...W,U,O]:U?[...W,U]:O?[...W,{},O]:W})(),H=await t.request({method:"eth_call",params:K});return H==="0x"?{data:void 0}:{data:H}}catch(D){let B=pC(D),{offchainLookup:O,offchainLookupSignature:U}=await Promise.resolve().then(()=>(g0(),oE));if(t.ccipRead!==!1&&B?.slice(0,10)===U&&S)return{data:await O(t,{data:B,to:S})};throw g&&B?.slice(0,10)==="0x101bb98d"?new yc({factory:p}):sd(D,{...e,account:R,chain:t.chain})}}function cC({request:t}){let{data:e,to:r,...n}=t;return!(!e||e.startsWith(eE)||!r||Object.values(n).filter(o=>typeof o<"u").length>0)}async function uC(t,e){let{batchSize:r=1024,wait:n=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:o,blockTag:i="latest",data:s,multicallAddress:a,to:c}=e,u=a;if(!u){if(!t.chain)throw new Fs;u=$e({blockNumber:o,chain:t.chain,contract:"multicall3"})}let l=(typeof o=="bigint"?C(o):void 0)||i,{schedule:p}=Hc({id:`${t.uid}.${l}`,wait:n,shouldSplitBatch(h){return h.reduce((x,{data:v})=>x+(v.length-2),0)>r*2},fn:async h=>{let y=h.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),x=bt({abi:Hs,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:x,to:u},l]});return me({abi:Hs,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:d,success:b}]=await p({data:s,to:c});if(!b)throw new br({data:d});return d==="0x"?{data:void 0}:{data:d}}function fC(t){let{code:e,data:r}=t;return Zn({abi:Oa(["constructor(bytes, bytes)"]),bytecode:zc,args:[e,r]})}function lC(t){let{data:e,factory:r,factoryData:n,to:o}=t;return Zn({abi:Oa(["constructor(address, bytes, address, bytes)"]),bytecode:od,args:[o,e,r,n]})}function pC(t){if(!(t instanceof P))return;let e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}var Fc=m(()=>{Xu();o0();kt();Wn();rE();Rf();nt();Mc();Ln();jn();kf();De();Ii();Y();c0();vc();Fn();cd();Pp();qn()});async function Ft(t,e){let{abi:r,address:n,args:o,functionName:i,...s}=e,a=bt({abi:r,args:o,functionName:i});try{let{data:c}=await V(t,ln,"call")({...s,data:a,to:n});return me({abi:r,args:o,functionName:i,data:c||"0x"})}catch(c){throw Ae(c,{abi:r,address:n,args:o,docsPath:"/docs/contract/readContract",functionName:i})}}var pn=m(()=>{jn();De();ri();ht();Fc()});async function yd(t,e){let{abi:r,address:n,args:o,dataSuffix:i,functionName:s,...a}=e,c=a.account?it(a.account):t.account,u=bt({abi:r,args:o,functionName:s});try{let{data:f}=await V(t,ln,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:n,...a,account:c}),l=me({abi:r,args:o,functionName:s,data:f||"0x"}),p=r.filter(d=>"name"in d&&d.name===e.functionName);return{result:l,request:{abi:p,address:n,args:o,dataSuffix:i,functionName:s,...a,account:c}}}catch(f){throw Ae(f,{abi:r,address:n,args:o,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}var x0=m(()=>{kt();jn();De();ri();ht();Fc()});function he(t,e,r){let n=++dC,o=()=>w0.get(t)||[],i=()=>{let f=o();w0.set(t,f.filter(l=>l.id!==n))},s=()=>{let f=o();if(!f.some(p=>p.id===n))return;let l=iE.get(t);if(f.length===1&&l){let p=l();p instanceof Promise&&p.catch(()=>{})}i()},a=o();if(w0.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return s;let c={};for(let f in e)c[f]=(...l)=>{let p=o();if(p.length!==0)for(let d of p)d.fns[f]?.(...l)};let u=r(c);return typeof u=="function"&&iE.set(t,u),s}var w0,iE,dC,Si=m(()=>{w0=new Map,iE=new Map,dC=0});async function $s(t){return new Promise(e=>setTimeout(e,t))}var bd=m(()=>{});function _r(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let o=!0,i=()=>o=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));let c=await r?.(a)??n;await $s(c);let u=async()=>{o&&(await t({unpoll:i}),await $s(n),u())};u()})(),i}var js=m(()=>{bd()});function sE(t){let e=(o,i)=>({clear:()=>i.delete(o),get:()=>i.get(o),set:s=>i.set(o,s)}),r=e(t,mC),n=e(t,hC);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function gd(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){let n=sE(e),o=n.response.get();if(o&&r>0&&new Date().getTime()-o.created.getTime()<r)return o.data;let i=n.promise.get();i||(i=t(),n.promise.set(i));try{let s=await i;return n.response.set({created:new Date,data:s}),s}finally{n.promise.clear()}}var mC,hC,v0=m(()=>{mC=new Map,hC=new Map});async function dn(t,{cacheTime:e=t.cacheTime}={}){let r=await gd(()=>t.request({method:"eth_blockNumber"}),{cacheKey:yC(t.uid),cacheTime:e});return BigInt(r)}var yC,qc=m(()=>{v0();yC=t=>`blockNumber.${t}`});async function Ti(t,{filter:e}){let r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;let o=n.map(i=>Wt(i));return!("abi"in e)||!e.abi?o:Ei({abi:e.abi,logs:o,strict:r})}var Df=m(()=>{Pf();$n()});async function Pi(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}var Lf=m(()=>{});function xd(t,e){let{abi:r,address:n,args:o,batch:i=!0,eventName:s,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:l=t.pollingInterval,strict:p}=e;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{let y=p??!1,x=st(["watchContractEvent",n,o,i,t.uid,s,l,y,a]);return he(x,{onLogs:u,onError:c},v=>{let w;a!==void 0&&(w=a-1n);let S,I=!1,T=_r(async()=>{if(!I){try{S=await V(t,Za,"createContractEventFilter")({abi:r,address:n,args:o,eventName:s,strict:y,fromBlock:a})}catch{}I=!0;return}try{let k;if(S)k=await V(t,Ti,"getFilterChanges")({filter:S});else{let R=await V(t,dn,"getBlockNumber")({});w&&w<R?k=await V(t,Cc,"getContractEvents")({abi:r,address:n,args:o,eventName:s,fromBlock:w+1n,toBlock:R,strict:y}):k=[],w=R}if(k.length===0)return;if(i)v.onLogs(k);else for(let R of k)v.onLogs([R])}catch(k){S&&k instanceof xr&&(I=!1),v.onError?.(k)}},{emitOnBegin:!0,interval:l});return async()=>{S&&await V(t,Pi,"uninstallFilter")({filter:S}),T()}})})():(()=>{let y=p??!1,x=st(["watchContractEvent",n,o,i,t.uid,s,l,y]),v=!0,w=()=>v=!1;return he(x,{onLogs:u,onError:c},S=>((async()=>{try{let I=(()=>{if(t.transport.type==="fallback"){let R=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),T=s?yr({abi:r,eventName:s,args:o}):[],{unsubscribe:k}=await I.subscribe({params:["logs",{address:n,topics:T}],onData(R){if(!v)return;let E=R.result;try{let{eventName:N,args:g}=_i({abi:r,data:E.data,topics:E.topics,strict:p}),_=Wt(E,{args:g,eventName:N});S.onLogs([_])}catch(N){let g,_;if(N instanceof Xe||N instanceof lr){if(p)return;g=N.abiItem.name,_=N.abiItem.inputs?.some(B=>!("name"in B&&B.name))}let D=Wt(E,{args:_?[]:{},eventName:g});S.onLogs([D])}},onError(R){S.onError?.(R)}});w=k,v||w()}catch(I){c?.(I)}})(),()=>w()))})()}var _0=m(()=>{Et();ei();Tf();Cs();$n();ht();Si();js();oe();mp();qc();Gp();Df();Lf()});var ye,Bi,Ui=m(()=>{nt();ye=class extends P{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},Bi=class extends P{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}});function $c({chain:t,currentChainId:e}){if(!t)throw new Lc;if(e!==t.id)throw new Dc({chain:t,currentChainId:e})}var wd=m(()=>{Mc()});function vd(t,{docsPath:e,...r}){let n=(()=>{let o=di(t,r);return o instanceof Fe?t:o})();return new pc(n,{docsPath:e,...r})}var E0=m(()=>{on();Le();yf()});async function jc(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var _d=m(()=>{});async function Oi(t,e){let{account:r=t.account,chain:n=t.chain,accessList:o,authorizationList:i,blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,type:b,value:h,...y}=e;if(typeof r>"u")throw new ye({docsPath:"/docs/actions/wallet/sendTransaction"});let x=r?it(r):null;try{pe(e);let v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await Tp({authorization:i[0]}).catch(()=>{throw new P("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let w;n!==null&&(w=await V(t,vr,"getChainId")({}),$c({currentChainId:w,chain:n}));let S=t.chain?.formatters?.transactionRequest?.format,T=(S||se)({...sn(y,{format:S}),accessList:o,authorizationList:i,blobs:s,chainId:w,data:a,from:x?.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,to:v,type:b,value:h}),k=A0.get(t.uid),R=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:R,params:[T]},{retryCount:0})}catch(E){if(k===!1)throw E;let N=E;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then(g=>(A0.set(t.uid,!0),g)).catch(g=>{let _=g;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(A0.set(t.uid,!1),N):_});throw N}}if(x?.type==="local"){let w=await V(t,vi,"prepareTransactionRequest")({account:x,accessList:o,authorizationList:i,blobs:s,chain:n,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,nonceManager:x.nonceManager,parameters:[...Wy,"sidecars"],type:b,value:h,...y,to:v}),S=n?.serializers?.transaction,I=await x.signTransaction(w,{serializer:S});return await V(t,jc,"sendRawTransaction")({serializedTransaction:I})}throw x?.type==="smart"?new Bi({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Bi({docsPath:"/docs/actions/wallet/sendTransaction",type:x?.type})}catch(v){throw v instanceof Bi?v:vd(v,{...e,account:x,chain:e.chain||void 0})}}var A0,Mf=m(()=>{kt();Ui();nt();My();wd();E0();vc();Fn();ht();Ya();qn();Ms();Sf();_d();A0=new dr(128)});async function Ed(t,e){let{abi:r,account:n=t.account,address:o,args:i,dataSuffix:s,functionName:a,...c}=e;if(typeof n>"u")throw new ye({docsPath:"/docs/contract/writeContract"});let u=n?it(n):null,f=bt({abi:r,args:i,functionName:a});try{return await V(t,Oi,"sendTransaction")({data:`${f}${s?s.replace("0x",""):""}`,to:o,account:u,...c})}catch(l){throw Ae(l,{abi:r,address:o,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:u?.address})}}var I0=m(()=>{kt();Ui();De();ri();ht();Mf()});function aE({abi:t,address:e,client:r}){let n=r,[o,i]=n?"public"in n&&"wallet"in n?[n.public,n.wallet]:"public"in n?[n.public,void 0]:"wallet"in n?[void 0,n.wallet]:[n,n]:[void 0,void 0],s=o!=null,a=i!=null,c={},u=!1,f=!1,l=!1;for(let p of t)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?u=!0:f=!0:p.type==="event"&&(l=!0),u&&f&&l)break;return s&&(u&&(c.read=new Proxy({},{get(p,d){return(...b)=>{let{args:h,options:y}=Ad(b);return V(o,Ft,"readContract")({abi:t,address:e,functionName:d,args:h,...y})}}})),f&&(c.simulate=new Proxy({},{get(p,d){return(...b)=>{let{args:h,options:y}=Ad(b);return V(o,yd,"simulateContract")({abi:t,address:e,functionName:d,args:h,...y})}}})),l&&(c.createEventFilter=new Proxy({},{get(p,d){return(...b)=>{let h=t.find(v=>v.type==="event"&&v.name===d),{args:y,options:x}=S0(b,h);return V(o,Za,"createContractEventFilter")({abi:t,address:e,eventName:d,args:y,...x})}}}),c.getEvents=new Proxy({},{get(p,d){return(...b)=>{let h=t.find(v=>v.type==="event"&&v.name===d),{args:y,options:x}=S0(b,h);return V(o,Cc,"getContractEvents")({abi:t,address:e,eventName:d,args:y,...x})}}}),c.watchEvent=new Proxy({},{get(p,d){return(...b)=>{let h=t.find(v=>v.type==="event"&&v.name===d),{args:y,options:x}=S0(b,h);return V(o,xd,"watchContractEvent")({abi:t,address:e,eventName:d,args:y,...x})}}}))),a&&f&&(c.write=new Proxy({},{get(p,d){return(...b)=>{let{args:h,options:y}=Ad(b);return V(i,Ed,"writeContract")({abi:t,address:e,functionName:d,args:h,...y})}}})),(s||a)&&f&&(c.estimateGas=new Proxy({},{get(p,d){return(...b)=>{let{args:h,options:y}=Ad(b);return V(o??i,$p,"estimateContractGas")({abi:t,address:e,functionName:d,args:h,...y,account:y.account??i.account})}}})),c.address=e,c.abi=t,c}function Ad(t){let e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(e?t[1]:t[0])??{};return{args:r,options:n}}function S0(t,e){let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(i=>i.indexed):t.length===2&&(r=!0);let n=r?t[0]:void 0,o=(r?t[1]:t[0])??{};return{args:n,options:o}}var cE=m(()=>{ht();mp();Jy();Gp();pn();x0();_0();I0()});function Kf(t){let e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Wt(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ot(t.transactionIndex):null,status:t.status?T0[t.status]:null,type:t.type?xf[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}var T0,uE,Id=m(()=>{Ct();bf();$n();wf();T0={"0x0":"reverted","0x1":"success"};uE=mi("transactionReceipt",Kf)});async function fE(t,e){let{account:r=t.account,capabilities:n,chain:o=t.chain,experimental_fallback:i,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=e,f=r?it(r):null,l=e.calls.map(p=>{let d=p,b=d.abi?bt({abi:d.abi,functionName:d.functionName,args:d.args}):d.data;return{data:d.dataSuffix&&b?It([b,d.dataSuffix]):b,to:d.to,value:d.value?C(d.value):void 0}});try{let p=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:l,capabilities:n,chainId:C(o.id),from:f?.address,id:c,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){let d=p;if(i&&(d.name==="MethodNotFoundRpcError"||d.name==="MethodNotSupportedRpcError"||d.name==="UnknownRpcError"||d.details.toLowerCase().includes("does not exist / is not available")||d.details.toLowerCase().includes("missing or invalid. request()")||d.details.toLowerCase().includes("did not match any variant of untagged enum")||d.details.toLowerCase().includes("account upgraded to unsupported contract")||d.details.toLowerCase().includes("eip-7702 not supported")||d.details.toLowerCase().includes("unsupported wc_ method"))){if(n&&Object.values(n).some(v=>!v.optional)){let v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new rn(new P(v,{details:v}))}if(a&&l.length>1){let x="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new nn(new P(x,{details:x}))}let b=[];for(let x of l){let v=Oi(t,{account:f,chain:o,data:x.data,to:x.to,value:x.value?tt(x.value):void 0});b.push(v),s>0&&await new Promise(w=>setTimeout(w,s))}let h=await Promise.allSettled(b);if(h.every(x=>x.status==="rejected"))throw h[0].reason;let y=h.map(x=>x.status==="fulfilled"?x.value:B0);return{id:It([...y,C(o.id,{size:32}),P0])}}throw vd(p,{...e,account:f,chain:e.chain})}}var P0,B0,U0=m(()=>{kt();nt();ei();De();ne();Ct();Y();E0();Mf();P0="0x5792579257925792579257925792579257925792579257925792579257925792",B0=C(0,{size:32})});async function Sd(t,e){async function r(f){if(f.endsWith(P0.slice(2))){let p=Pt(Zr(f,-64,-32)),d=Zr(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(d.map(y=>B0.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),h=b.some(y=>y===null)?100:b.every(y=>y?.status==="0x1")?200:b.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:ot(p),receipts:b.filter(Boolean),status:h,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[f]})}let{atomic:n=!1,chainId:o,receipts:i,version:s="2.0.0",...a}=await r(e.id),[c,u]=(()=>{let f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:n,chainId:o?ot(o):void 0,receipts:i?.map(f=>({...f,blockNumber:tt(f.blockNumber),gasUsed:tt(f.gasUsed),status:T0[f.status]}))??[],statusCode:u,status:c,version:s}}var O0=m(()=>{hr();On();Ct();Id();U0()});async function lE(t,e){let{id:r,pollingInterval:n=t.pollingInterval,status:o=({statusCode:p})=>p>=200,timeout:i=6e4}=e,s=st(["waitForCallsStatus",t.uid,r]),{promise:a,resolve:c,reject:u}=Kc(),f,l=he(s,{resolve:c,reject:u},p=>{let d=_r(async()=>{let b=h=>{clearTimeout(f),d(),h(),l()};try{let h=await Sd(t,{id:r});if(!o(h))return;b(()=>p.resolve(h))}catch(h){b(()=>p.reject(h))}},{interval:n,emitOnBegin:!0});return d});return f=i?setTimeout(()=>{l(),clearTimeout(f),u(new Hf({id:r}))},i):void 0,await a}var Hf,C0=m(()=>{nt();Si();js();ad();oe();O0();Hf=class extends P{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}});function Bd(t=11){if(!Pd||Td+t>256*2){Pd="",Td=0;for(let e=0;e<256;e++)Pd+=(256+Math.random()*256|0).toString(16).substring(1)}return Pd.substring(Td,Td+++t)}var Td,Pd,R0=m(()=>{Td=256});function Ci(t){let{batch:e,chain:r,ccipRead:n,key:o="base",name:i="Base Client",type:s="base"}=t,a=r?.blockTime??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),u=t.pollingInterval??c,f=t.cacheTime??u,l=t.account?it(t.account):void 0,{config:p,request:d,value:b}=t.transport({chain:r,pollingInterval:u}),h={...p,...b},y={account:l,batch:e,cacheTime:f,ccipRead:n,chain:r,key:o,name:i,pollingInterval:u,request:d,transport:h,type:s,uid:Bd()};function x(v){return w=>{let S=w(v);for(let T in y)delete S[T];let I={...v,...S};return Object.assign(I,{extend:x(I)})}}return Object.assign(y,{extend:x(y)})}function pE(){return null}var Ff=m(()=>{kt();R0()});function dE(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Ud.get(r))return Ud.get(r);let n=t().finally(()=>Ud.delete(r));return Ud.set(r,n),n}var Ud,mE=m(()=>{Ya();Ud=new dr(8192)});function Gs(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((o,i)=>{let s=async({count:a=0}={})=>{let c=async({error:u})=>{let f=typeof e=="function"?e({count:a,error:u}):e;f&&await $s(f),s({count:a+1})};try{let u=await t();o(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});i(u)}};s()})}var Od=m(()=>{bd()});function hE(t,e={}){return async(r,n={})=>{let{dedupe:o=!1,methods:i,retryDelay:s=150,retryCount:a=3,uid:c}={...e,...n},{method:u}=r;if(i?.exclude?.includes(u))throw new en(new Error("method not supported"),{method:u});if(i?.include&&!i.include.includes(u))throw new en(new Error("method not supported"),{method:u});let f=o?ke(`${c}.${st(r)}`):void 0;return dE(()=>Gs(async()=>{try{return await t(r)}catch(l){let p=l;switch(p.code){case Lo.code:throw new Lo(p);case Mo.code:throw new Mo(p);case Ko.code:throw new Ko(p,{method:r.method});case Ho.code:throw new Ho(p);case Lr.code:throw new Lr(p);case xr.code:throw new xr(p);case Fo.code:throw new Fo(p);case qo.code:throw new qo(p);case tn.code:throw new tn(p);case en.code:throw new en(p,{method:r.method});case Kn.code:throw new Kn(p);case $o.code:throw new $o(p);case Mr.code:throw new Mr(p);case jo.code:throw new jo(p);case Go.code:throw new Go(p);case Vo.code:throw new Vo(p);case Wo.code:throw new Wo(p);case Yo.code:throw new Yo(p);case rn.code:throw new rn(p);case Jo.code:throw new Jo(p);case Zo.code:throw new Zo(p);case Xo.code:throw new Xo(p);case Qo.code:throw new Qo(p);case ti.code:throw new ti(p);case nn.code:throw new nn(p);case 5e3:throw new Mr(p);default:throw l instanceof P?l:new bc(p)}}},{delay:({count:l,error:p})=>{if(p&&p instanceof Me){let d=p?.headers?.get("Retry-After");if(d?.match(/\d/))return Number.parseInt(d)*1e3}return~~(1<<l)*s},retryCount:a,shouldRetry:({error:l})=>bC(l)}),{enabled:o,id:f})}}function bC(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Kn.code||t.code===Lr.code:t instanceof Me&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}var yE=m(()=>{nt();Dr();ei();Y();mE();Od();oe()});function mn({key:t,methods:e,name:r,request:n,retryCount:o=3,retryDelay:i=150,timeout:s,type:a},c){let u=Bd();return{config:{key:t,methods:e,name:r,request:n,retryCount:o,retryDelay:i,timeout:s,type:a},request:hE(n,{methods:e,retryCount:o,retryDelay:i,uid:u}),value:c}}var Gc=m(()=>{yE();R0()});function bE(t,e={}){let{key:r="custom",methods:n,name:o="Custom Provider",retryDelay:i}=e;return({retryCount:s})=>mn({key:r,methods:n,name:o,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:i,type:"custom"})}var gE=m(()=>{Gc()});function xE(t,e={}){let{key:r="fallback",name:n="Fallback",rank:o=!1,shouldThrow:i=k0,retryCount:s,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:f,...l})=>{let p=t,d=()=>{},b=mn({key:r,name:n,async request({method:h,params:y}){let x,v=async(w=0)=>{let S=p[w]({...l,chain:c,retryCount:0,timeout:f});try{let I=await S.request({method:h,params:y});return d({method:h,params:y,response:I,transport:S,status:"success"}),I}catch(I){if(d({error:I,method:h,params:y,transport:S,status:"error"}),i(I)||w===p.length-1||(x??=p.slice(w+1).some(T=>{let{include:k,exclude:R}=T({chain:c}).config.methods||{};return k?k.includes(h):R?!R.includes(h):!0}),!x))throw I;return v(w+1)}};return v()},retryCount:s,retryDelay:a,type:"fallback"},{onResponse:h=>d=h,transports:p.map(h=>h({chain:c,retryCount:0}))});if(o){let h=typeof o=="object"?o:{};gC({chain:c,interval:h.interval??u,onTransports:y=>p=y,ping:h.ping,sampleCount:h.sampleCount,timeout:h.timeout,transports:p,weights:h.weights})}return b}}function k0(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===tn.code||t.code===Mr.code||nr.nodeMessage.test(t.message)||t.code===5e3))}function gC({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:o=10,timeout:i=1e3,transports:s,weights:a={}}){let{stability:c=.7,latency:u=.3}=a,f=[],l=async()=>{let p=await Promise.all(s.map(async h=>{let y=h({chain:t,retryCount:0,timeout:i}),x=Date.now(),v,w;try{await(n?n({transport:y}):y.request({method:"net_listening"})),w=1}catch{w=0}finally{v=Date.now()}return{latency:v-x,success:w}}));f.push(p),f.length>o&&f.shift();let d=Math.max(...f.map(h=>Math.max(...h.map(({latency:y})=>y)))),b=s.map((h,y)=>{let x=f.map(T=>T[y].latency),w=1-x.reduce((T,k)=>T+k,0)/x.length/d,S=f.map(T=>T[y].success),I=S.reduce((T,k)=>T+k,0)/S.length;return I===0?[0,y]:[u*w+c*I,y]}).sort((h,y)=>y[0]-h[0]);r(b.map(([,h])=>s[h])),await $s(e),l()};l()}var wE=m(()=>{on();ei();bd();Gc()});var Ri,Cd=m(()=>{nt();Ri=class extends P{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function Vc(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((o,i)=>{(async()=>{let s;try{let a=new AbortController;r>0&&(s=setTimeout(()=>{n?a.abort():i(e)},r)),o(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(e),i(a)}finally{clearTimeout(s)}})()})}var Rd=m(()=>{});function xC(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var qf,N0=m(()=>{qf=xC()});function vE(t,e={}){return{async request(r){let{body:n,onRequest:o=e.onRequest,onResponse:i=e.onResponse,timeout:s=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{let l=await Vc(async({signal:d})=>{let b={...a,body:Array.isArray(n)?st(n.map(v=>({jsonrpc:"2.0",id:v.id??qf.take(),...v}))):st({jsonrpc:"2.0",id:n.id??qf.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(s>0?d:null)},h=new Request(t,b),y=await o?.(h,b)??{...b,url:t};return await fetch(y.url??t,y)},{errorInstance:new Mn({body:n,url:t}),timeout:s,signal:!0});i&&await i(l);let p;if(l.headers.get("Content-Type")?.startsWith("application/json"))p=await l.json();else{p=await l.text();try{p=JSON.parse(p||"{}")}catch(d){if(l.ok)throw d;p={error:p}}}if(!l.ok)throw new Me({body:n,details:st(p.error)||l.statusText,headers:l.headers,status:l.status,url:t});return p}catch(l){throw l instanceof Me||l instanceof Mn?l:new Me({body:n,cause:l,url:t})}}}}var _E=m(()=>{Dr();Rd();oe();N0()});function EE(t,e={}){let{batch:r,fetchOptions:n,key:o="http",methods:i,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:f}=e;return({chain:l,retryCount:p,timeout:d})=>{let{batchSize:b=1e3,wait:h=0}=typeof r=="object"?r:{},y=e.retryCount??p,x=d??e.timeout??1e4,v=t||l?.rpcUrls.default.http[0];if(!v)throw new Ri;let w=vE(v,{fetchOptions:n,onRequest:a,onResponse:c,timeout:x});return mn({key:o,methods:i,name:s,async request({method:S,params:I}){let T={method:S,params:I},{schedule:k}=Hc({id:v,wait:h,shouldSplitBatch(g){return g.length>b},fn:g=>w.request({body:g}),sort:(g,_)=>g.id-_.id}),R=async g=>r?k(g):[await w.request({body:g})],[{error:E,result:N}]=await R(T);if(f)return{error:E,result:N};if(E)throw new gr({body:T,error:E,url:v});return N},retryCount:y,retryDelay:u,timeout:x,type:"http"},{fetchOptions:n,url:v})}}var AE=m(()=>{Dr();Cd();cd();_E();Gc()});function Wc(t,e){if(!(t instanceof P))return!1;let r=t.walk(n=>n instanceof Dn);return r instanceof Dn?!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===yp[50]):!1}var kd=m(()=>{af();nt();Ln()});function Nd(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;let e=`0x${t.slice(1,65)}`;return J(e)?e:null}var z0=m(()=>{ve()});function ki(t){let e=new Uint8Array(32).fill(0);if(!t)return rt(e);let r=t.split(".");for(let n=r.length-1;n>=0;n-=1){let o=Nd(r[n]),i=o?Bt(o):ct(Qe(r[n]),"bytes");e=ct(It([e,i]),"bytes")}return rt(e)}var zd=m(()=>{ne();wt();Y();Ne();z0()});function IE(t){return`[${t.slice(2)}]`}var SE=m(()=>{});function Dd(t){let e=new Uint8Array(32).fill(0);return t?Nd(t)||ct(Qe(t)):rt(e)}var D0=m(()=>{wt();Y();Ne();z0()});function Ni(t){let e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let r=new Uint8Array(Qe(e).byteLength+2),n=0,o=e.split(".");for(let i=0;i<o.length;i++){let s=Qe(o[i]);s.byteLength>255&&(s=Qe(IE(Dd(o[i])))),r[n]=s.length,r.set(s,n+1),n+=s.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var $f=m(()=>{wt();SE();D0()});async function TE(t,e){let{blockNumber:r,blockTag:n,coinType:o,name:i,gatewayUrls:s,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return $e({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;try{let l=bt({abi:s0,functionName:"addr",...o!=null?{args:[ki(i),BigInt(o)]}:{args:[ki(i)]}}),p={address:u,abi:nd,functionName:"resolve",args:[yt(Ni(i)),l,s??[qs]],blockNumber:r,blockTag:n},b=await V(t,Ft,"readContract")(p);if(b[0]==="0x")return null;let h=me({abi:s0,args:o!=null?[ki(i),BigInt(o)]:void 0,functionName:"addr",data:b[0]});return h==="0x"||Pt(h)==="0x00"?null:h}catch(l){if(a)throw l;if(Wc(l,"resolve"))return null;throw l}}var PE=m(()=>{Wn();jn();De();Ii();On();Y();kd();md();zd();$f();ht();pn()});var Ld,hn,zi,Yc,L0=m(()=>{nt();Ld=class extends P{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},hn=class extends P{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},zi=class extends P{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},Yc=class extends P{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}});async function AC(t){try{let e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{let n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function BE(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function M0({uri:t,gatewayUrls:e}){let r=_C.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};let n=BE(e?.ipfs,"https://ipfs.io"),o=BE(e?.arweave,"https://arweave.net"),i=t.match(wC),{protocol:s,subpath:a,target:c,subtarget:u=""}=i?.groups||{},f=s==="ipns:/"||a==="ipns/",l=s==="ipfs:/"||a==="ipfs/"||vC.test(t);if(t.startsWith("http")&&!f&&!l){let d=t;return e?.arweave&&(d=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:d,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${n}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${o}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=t.replace(EC,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new zi({uri:t})}function K0(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Ld({data:t});return t.image||t.image_url||t.image_data}async function UE({gatewayUrls:t,uri:e}){try{let r=await fetch(e).then(o=>o.json());return await Md({gatewayUrls:t,uri:K0(r)})}catch{throw new zi({uri:e})}}async function Md({gatewayUrls:t,uri:e}){let{uri:r,isOnChain:n}=M0({uri:e,gatewayUrls:t});if(n||await AC(r))return r;throw new zi({uri:e})}function OE(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[r,n,o]=e.split("/"),[i,s]=r.split(":"),[a,c]=n.split(":");if(!i||i.toLowerCase()!=="eip155")throw new hn({reason:"Only EIP-155 supported"});if(!s)throw new hn({reason:"Chain ID not found"});if(!c)throw new hn({reason:"Contract address not found"});if(!o)throw new hn({reason:"Token ID not found"});if(!a)throw new hn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:c,tokenID:o}}async function CE(t,{nft:e}){if(e.namespace==="erc721")return Ft(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ft(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Yc({namespace:e.namespace})}var wC,vC,_C,EC,RE=m(()=>{pn();L0();wC=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,vC=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,_C=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,EC=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function kE(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?IC(t,{gatewayUrls:e,record:r}):Md({uri:r,gatewayUrls:e})}async function IC(t,{gatewayUrls:e,record:r}){let n=OE(r),o=await CE(t,{nft:n}),{uri:i,isOnChain:s,isEncoded:a}=M0({uri:o,gatewayUrls:e});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){let u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return Md({uri:K0(f),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),UE({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}var NE=m(()=>{RE()});async function Kd(t,e){let{blockNumber:r,blockTag:n,key:o,name:i,gatewayUrls:s,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return $e({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;try{let l={address:u,abi:nd,functionName:"resolve",args:[yt(Ni(i)),bt({abi:i0,functionName:"text",args:[ki(i),o]}),s??[qs]],blockNumber:r,blockTag:n},d=await V(t,Ft,"readContract")(l);if(d[0]==="0x")return null;let b=me({abi:i0,functionName:"text",data:d[0]});return b===""?null:b}catch(l){if(a)throw l;if(Wc(l,"resolve"))return null;throw l}}var H0=m(()=>{Wn();jn();De();Ii();Y();kd();md();zd();$f();ht();pn()});async function zE(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:o,gatewayUrls:i,strict:s,universalResolverAddress:a}){let c=await V(t,Kd,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:o,universalResolverAddress:a,gatewayUrls:i,strict:s});if(!c)return null;try{return await kE(t,{record:c,gatewayUrls:n})}catch{return null}}var DE=m(()=>{NE();ht();H0()});async function LE(t,{address:e,blockNumber:r,blockTag:n,gatewayUrls:o,strict:i,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=$e({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}let c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{let u={address:a,abi:Y_,functionName:"reverse",args:[yt(Ni(c))],blockNumber:r,blockTag:n},f=V(t,Ft,"readContract"),[l,p]=o?await f({...u,args:[...u.args,o]}):await f(u);return e.toLowerCase()!==p.toLowerCase()?null:l}catch(u){if(i)throw u;if(Wc(u,"reverse"))return null;throw u}}var ME=m(()=>{Wn();Ii();Y();kd();$f();ht();pn()});async function KE(t,e){let{blockNumber:r,blockTag:n,name:o}=e,{chain:i}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return $e({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})(),a=i?.ensTlds;if(a&&!a.some(u=>o.endsWith(u)))throw new Error(`${o} is not a valid ENS TLD (${a?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);let[c]=await V(t,Ft,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[yt(Ni(o))],blockNumber:r,blockTag:n});return c}var HE=m(()=>{Ii();Y();$f();ht();pn()});async function Hd(t,e){let{account:r=t.account,blockNumber:n,blockTag:o="latest",blobs:i,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d,...b}=e,h=r?it(r):void 0;try{pe(e);let x=(typeof n=="bigint"?C(n):void 0)||o,v=t.chain?.formatters?.transactionRequest?.format,S=(v||se)({...sn(b,{format:v}),from:h?.address,blobs:i,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d}),I=await t.request({method:"eth_createAccessList",params:[S,x]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(y){throw sd(y,{...e,account:h,chain:t.chain})}}var F0=m(()=>{kt();Y();c0();vc();Fn();qn()});async function FE(t){let e=Oo(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}var qE=m(()=>{sf()});async function Fd(t,{address:e,args:r,event:n,events:o,fromBlock:i,strict:s,toBlock:a}={}){let c=o??(n?[n]:void 0),u=Oo(t,{method:"eth_newFilter"}),f=[];c&&(f=[c.flatMap(d=>yr({abi:[d],eventName:d.name,args:r}))],n&&(f=f[0]));let l=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?C(i):i,toBlock:typeof a=="bigint"?C(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:i,id:l,request:u(l),strict:!!s,toBlock:a,type:"event"}}var q0=m(()=>{Cs();Y();sf()});async function qd(t){let e=Oo(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}var $0=m(()=>{sf()});async function $E(t){let e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}var jE=m(()=>{});async function GE(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){let o=r!==void 0?C(r):void 0,i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]},{dedupe:!!o}),ot(i)}var VE=m(()=>{Ct();Y()});async function j0(t,{address:e,blockNumber:r,blockTag:n="latest"}){let o=r!==void 0?C(r):void 0,i=await t.request({method:"eth_getCode",params:[e,o||n]},{dedupe:!!o});if(i!=="0x")return i}var WE=m(()=>{Y()});var $d,YE=m(()=>{nt();$d=class extends P{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function JE(t,e){let{address:r,factory:n,factoryData:o}=e;try{let[i,s,a,c,u,f,l]=await V(t,Ft,"readContract")({abi:SC,address:r,functionName:"eip712Domain",factory:n,factoryData:o});return{domain:{name:s,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:l,fields:i}}catch(i){let s=i;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new $d({address:r}):s}}var SC,ZE=m(()=>{YE();ht();pn();SC=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});function XE(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}var QE=m(()=>{});async function tA(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:o}){let i=typeof r=="bigint"?C(r):void 0,s=await t.request({method:"eth_feeHistory",params:[C(e),i||n,o]},{dedupe:!!i});return XE(s)}var eA=m(()=>{Y();QE()});async function rA(t,{filter:e}){let r=e.strict??!1,o=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>Wt(i));return e.abi?Ei({abi:e.abi,logs:o,strict:r}):o}var nA=m(()=>{Pf();$n()});function oA(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}var iA=m(()=>{});function sA({chains:t,id:e}){return t.find(r=>r.id===e)}var aA=m(()=>{});async function cA(t){let{getSocket:e,keepAlive:r=!0,key:n="socket",reconnect:o=!0,url:i}=t,{interval:s=3e4}=typeof r=="object"?r:{},{attempts:a=5,delay:c=2e3}=typeof o=="object"?o:{},u=JSON.stringify({keepAlive:r,key:n,url:i,reconnect:o}),f=G0.get(u);if(f)return f;let l=0,{schedule:p}=Hc({id:u,fn:async()=>{let h=new Map,y=new Map,x,v,w;async function S(){let I=await e({onClose(){for(let T of h.values())T.onError?.(new Qr({url:i}));for(let T of y.values())T.onError?.(new Qr({url:i}));o&&l<a?setTimeout(async()=>{l++,await S().catch(console.error)},c):(h.clear(),y.clear())},onError(T){x=T;for(let k of h.values())k.onError?.(x);for(let k of y.values())k.onError?.(x);f?.close(),o&&l<a?setTimeout(async()=>{l++,await S().catch(console.error)},c):(h.clear(),y.clear())},onOpen(){x=void 0,l=0},onResponse(T){let k=T.method==="eth_subscription",R=k?T.params.subscription:T.id,E=k?y:h,N=E.get(R);N&&N.onResponse(T),k||E.delete(R)}});if(v=I,r&&(w&&clearInterval(w),w=setInterval(()=>v.ping?.(),s)),o&&y.size>0){let T=y.entries();for(let[k,{onResponse:R,body:E,onError:N}]of T)E&&(y.delete(k),f?.request({body:E,onResponse:R,onError:N}))}return I}return await S(),x=void 0,f={close(){w&&clearInterval(w),v.close(),G0.delete(u)},get socket(){return v},request({body:I,onError:T,onResponse:k}){x&&T&&T(x);let R=I.id??qf.take(),E=N=>{typeof N.id=="number"&&R!==N.id||(I.method==="eth_subscribe"&&typeof N.result=="string"&&y.set(N.result,{onResponse:E,onError:T,body:I}),I.method==="eth_unsubscribe"&&y.delete(I.params?.[0]),k(N))};h.set(R,{onResponse:E,onError:T});try{v.request({body:{jsonrpc:"2.0",id:R,...I}})}catch(N){T?.(N)}},requestAsync({body:I,timeout:T=1e4}){return Vc(()=>new Promise((k,R)=>this.request({body:I,onError:R,onResponse:k})),{errorInstance:new Mn({body:I,url:i}),timeout:T})},requests:h,subscriptions:y,url:i},G0.set(u,f),[f]}}),[d,[b]]=await p();return b}var G0,uA=m(()=>{Dr();cd();Rd();N0();G0=new Map});function fA(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var lA=m(()=>{});var pA={};ar(pA,{WebSocket:()=>TC});var TC,dA=m(()=>{lA();TC=fA()});async function Jc(t,e={}){let{keepAlive:r,reconnect:n}=e;return cA({async getSocket({onClose:o,onError:i,onOpen:s,onResponse:a}){let c=await Promise.resolve().then(()=>(dA(),pA)).then(d=>d.WebSocket),u=new c(t);function f(){u.removeEventListener("close",f),u.removeEventListener("message",l),u.removeEventListener("error",i),u.removeEventListener("open",s),o()}function l({data:d}){try{let b=JSON.parse(d);a(b)}catch(b){i(b)}}u.addEventListener("close",f),u.addEventListener("message",l),u.addEventListener("error",i),u.addEventListener("open",s),u.readyState===c.CONNECTING&&await new Promise((d,b)=>{u&&(u.onopen=d,u.onerror=b)});let{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Ns({url:u.url,cause:new Qr({url:u.url})});let d={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(d))}catch(d){i(d)}},request({body:d}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new Ns({body:d,url:u.url,cause:new Qr({url:u.url})});return u.send(JSON.stringify(d))}})},keepAlive:r,reconnect:n,url:t})}var V0=m(()=>{Dr();uA()});async function mA(t){let e=await Jc(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}var hA=m(()=>{V0()});var Zc,Xc,Qc,W0=m(()=>{oe();nt();Zc=class extends P{constructor({domain:e}){super(`Invalid domain "${st(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},Xc=class extends P{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Qc=class extends P{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function tu(t){let{domain:e={},message:r,primaryType:n}=t,o={EIP712Domain:Vs({domain:e}),...t.types};eu({domain:e,message:r,primaryType:n,types:o});let i=["0x1901"];return e&&i.push(jf({domain:e,types:o})),n!=="EIP712Domain"&&i.push(jd({data:r,primaryType:n,types:o})),ct(It(i))}function jf({domain:t,types:e}){return jd({data:t,primaryType:"EIP712Domain",types:e})}function jd({data:t,primaryType:e,types:r}){let n=yA({data:t,primaryType:e,types:r});return ct(n)}function yA({data:t,primaryType:e,types:r}){let n=[{type:"bytes32"}],o=[PC({primaryType:e,types:r})];for(let i of r[e]){let[s,a]=gA({types:r,name:i.name,type:i.type,value:t[i.name]});n.push(s),o.push(a)}return Ht(n,o)}function PC({primaryType:t,types:e}){let r=yt(BC({primaryType:t,types:e}));return ct(r)}function BC({primaryType:t,types:e}){let r="",n=bA({primaryType:t,types:e});n.delete(t);let o=[t,...Array.from(n).sort()];for(let i of o)r+=`${i}(${e[i].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return r}function bA({primaryType:t,types:e},r=new Set){let o=t.match(/^\w*/u)?.[0];if(r.has(o)||e[o]===void 0)return r;r.add(o);for(let i of e[o])bA({primaryType:i.type,types:e},r);return r}function gA({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},ct(yA({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},ct(n)];if(r==="string")return[{type:"bytes32"},ct(yt(n))];if(r.lastIndexOf("]")===r.length-1){let o=r.slice(0,r.lastIndexOf("[")),i=n.map(s=>gA({name:e,type:o,types:t,value:s}));return[{type:"bytes32"},ct(Ht(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:r},n]}var Gf=m(()=>{Nr();ne();Y();Ne();Gd()});function Vd(t){let{domain:e,message:r,primaryType:n,types:o}=t,i=(c,u)=>{let f={...u};for(let l of c){let{name:p,type:d}=l;d==="address"&&(f[p]=f[p].toLowerCase())}return f},s=o.EIP712Domain?e?i(o.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return i(o[n],r)})();return st({domain:s,message:a,primaryType:n,types:o})}function eu(t){let{domain:e,message:r,primaryType:n,types:o}=t,i=(s,a)=>{for(let c of s){let{name:u,type:f}=c,l=a[u],p=f.match(Ja);if(p&&(typeof l=="number"||typeof l=="bigint")){let[h,y,x]=p;C(l,{signed:y==="int",size:Number.parseInt(x)/8})}if(f==="address"&&typeof l=="string"&&!ut(l))throw new dt({address:l});let d=f.match(lp);if(d){let[h,y]=d;if(y&&at(l)!==Number.parseInt(y))throw new To({expectedSize:Number.parseInt(y),givenSize:at(l)})}let b=o[f];b&&(UC(f),i(b,l))}};if(o.EIP712Domain&&e){if(typeof e!="object")throw new Zc({domain:e});i(o.EIP712Domain,e)}if(n!=="EIP712Domain")if(o[n])i(o[n],r);else throw new Xc({primaryType:n,types:o})}function Vs({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function xA({domain:t}){return jf({domain:t,types:{EIP712Domain:Vs({domain:t})}})}function UC(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Qc({type:t})}var Gd=m(()=>{Et();pr();W0();ze();Oe();Y();pp();Gf();oe()});function wA(t,e){if(t.length!==e.length)throw new Eo({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let o=t[n],i=e[n];r.push(vA(o,i))}return Rt(r)}function vA(t,e,r=!1){if(t==="address"){let s=e;if(!ut(s))throw new dt({address:s});return ue(s.toLowerCase(),{size:r?32:null})}if(t==="string")return ke(e);if(t==="bytes")return e;if(t==="bool")return ue(Us(e),{size:r?32:1});let n=t.match(Ja);if(n){let[s,a,c="256"]=n,u=Number.parseInt(c)/8;return C(e,{size:r?32:u,signed:a==="int"})}let o=t.match(lp);if(o){let[s,a]=o;if(Number.parseInt(a)!==(e.length-2)/2)throw new To({expectedSize:Number.parseInt(a),givenSize:(e.length-2)/2});return ue(e,{dir:"right",size:r?32:null})}let i=t.match(n2);if(i&&Array.isArray(e)){let[s,a]=i,c=[];for(let u=0;u<e.length;u++)c.push(vA(a,e[u],!0));return c.length===0?"0x":Rt(c)}throw new Ha(t)}var _A=m(()=>{Et();pr();ze();ne();Bo();Y();pp()});function Wd(t){let{authorizationList:e}=t;if(e)for(let r of e){let{chainId:n}=r,o=r.address;if(!ut(o))throw new dt({address:o});if(n<0)throw new Jn({chainId:n})}Di(t)}function Yd(t){let{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Pc;for(let r of e){let n=at(r),o=ot(fe(r,0,1));if(n!==32)throw new Lp({hash:r,size:n});if(o!==1)throw new Mp({hash:r,version:o})}}Di(t)}function Di(t){let{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:o}=t;if(e<=0)throw new Jn({chainId:e});if(o&&!ut(o))throw new dt({address:o});if(n&&n>hi)throw new He({maxFeePerGas:n});if(r&&n&&r>n)throw new wr({maxFeePerGas:n,maxPriorityFeePerGas:r})}function ru(t){let{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:i}=t;if(e<=0)throw new Jn({chainId:e});if(i&&!ut(i))throw new dt({address:i});if(r||o)throw new P("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>hi)throw new He({maxFeePerGas:n})}function nu(t){let{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:i}=t;if(i&&!ut(i))throw new dt({address:i});if(typeof e<"u"&&e<=0)throw new Jn({chainId:e});if(r||o)throw new P("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>hi)throw new He({maxFeePerGas:n})}var Jd=m(()=>{Bp();pr();nt();Gy();Mc();on();ze();Oe();hr();Ct()});function Ws(t){if(!t||t.length===0)return[];let e=[];for(let r=0;r<t.length;r++){let{address:n,storageKeys:o}=t[r];for(let i=0;i<o.length;i++)if(o[i].length-2!==64)throw new lc({storageKey:o[i]});if(!ut(n,{strict:!1}))throw new dt({address:n});e.push([n,o])}return e}var Y0=m(()=>{pr();Le();ze()});function Zd(t,e){let r=Bc(t);return r==="eip1559"?RC(t,e):r==="eip2930"?kC(t,e):r==="eip4844"?CC(t,e):r==="eip7702"?OC(t,e):NC(t,e)}function OC(t,e){let{authorizationList:r,chainId:n,gas:o,nonce:i,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=t;Wd(t);let p=Ws(f),d=EA(r);return Rt(["0x04",Ie([C(n),i?C(i):"0x",u?C(u):"0x",c?C(c):"0x",o?C(o):"0x",s??"0x",a?C(a):"0x",l??"0x",p,d,...ou(t,e)])])}function CC(t,e){let{chainId:r,gas:n,nonce:o,to:i,value:s,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=t;Yd(t);let p=t.blobVersionedHashes,d=t.sidecars;if(t.blobs&&(typeof p>"u"||typeof d>"u")){let w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(T=>rt(T)),S=t.kzg,I=gi({blobs:w,kzg:S});if(typeof p>"u"&&(p=Tc({commitments:I})),typeof d>"u"){let T=xi({blobs:w,commitments:I,kzg:S});d=wi({blobs:w,commitments:I,proofs:T})}}let b=Ws(f),h=[C(r),o?C(o):"0x",u?C(u):"0x",c?C(c):"0x",n?C(n):"0x",i??"0x",s?C(s):"0x",l??"0x",b,a?C(a):"0x",p??[],...ou(t,e)],y=[],x=[],v=[];if(d)for(let w=0;w<d.length;w++){let{blob:S,commitment:I,proof:T}=d[w];y.push(S),x.push(I),v.push(T)}return Rt(["0x03",d?Ie([h,y,x,v]):Ie(h)])}function RC(t,e){let{chainId:r,gas:n,nonce:o,to:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=t;Di(t);let l=Ws(u),p=[C(r),o?C(o):"0x",c?C(c):"0x",a?C(a):"0x",n?C(n):"0x",i??"0x",s?C(s):"0x",f??"0x",l,...ou(t,e)];return Rt(["0x02",Ie(p)])}function kC(t,e){let{chainId:r,gas:n,data:o,nonce:i,to:s,value:a,accessList:c,gasPrice:u}=t;ru(t);let f=Ws(c),l=[C(r),i?C(i):"0x",u?C(u):"0x",n?C(n):"0x",s??"0x",a?C(a):"0x",o??"0x",f,...ou(t,e)];return Rt(["0x01",Ie(l)])}function NC(t,e){let{chainId:r=0,gas:n,data:o,nonce:i,to:s,value:a,gasPrice:c}=t;nu(t);let u=[i?C(i):"0x",c?C(c):"0x",n?C(n):"0x",s??"0x",a?C(a):"0x",o??"0x"];if(e){let f=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);let d=27n+(e.v===27n?0n:1n);if(e.v!==d)throw new ko({v:e.v});return d})(),l=Pt(e.r),p=Pt(e.s);u=[...u,C(f),l==="0x00"?"0x":l,p==="0x00"?"0x":p]}else r>0&&(u=[...u,C(r),"0x","0x"]);return Ie(u)}function ou(t,e){let r=e??t,{v:n,yParity:o}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof o>"u")return[];let i=Pt(r.r),s=Pt(r.s);return[typeof o=="number"?o?C(1):"0x":n===0n?"0x":n===1n?C(1):n===27n?"0x":C(1),i==="0x00"?"0x":i,s==="0x00"?"0x":s]}var Xd=m(()=>{Le();AA();_f();Ef();zp();If();ne();On();Y();hf();Jd();Hp();Y0()});function EA(t){if(!t||t.length===0)return[];let e=[];for(let r of t){let{chainId:n,nonce:o,...i}=r,s=r.address;e.push([n?yt(n):"0x",s,o?yt(o):"0x",...ou({},i)])}return e}var AA=m(()=>{Y();Xd()});function Vf(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}var J0=m(()=>{});function IA(t){return t.opcode==="CREATE2"?X0(t):Z0(t)}function Z0(t){let e=Bt(re(t.from)),r=Bt(t.nonce);return r[0]===0&&(r=new Uint8Array([])),re(`0x${ct(Ie([e,r],"bytes")).slice(26)}`)}function X0(t){let e=Bt(re(t.from)),r=ue(Vf(t.salt)?t.salt:Bt(t.salt),{size:32}),n="bytecodeHash"in t?Vf(t.bytecodeHash)?t.bytecodeHash:Bt(t.bytecodeHash):ct(t.bytecode,"bytes");return re(fe(ct(It([Bt("0xff"),e,r,n])),12))}var SA=m(()=>{ne();J0();Bo();hr();wt();hf();Ne();mr()});function Wf(t,e="hex"){let r=(()=>{if(typeof t=="string"){if(t.length>3&&t.length%2!==0)throw new ja(t);return ft(t)}return t})(),n=zr(r,{recursiveReadLimit:Number.POSITIVE_INFINITY});return PA(n,e)}function PA(t,e="hex"){if(t.bytes.length===0)return e==="hex"?rt(t.bytes):t.bytes;let r=t.readByte();if(r<128&&t.decrementPosition(1),r<192){let o=TA(t,r,128),i=t.readBytes(o);return e==="hex"?rt(i):i}let n=TA(t,r,192);return zC(t,n,e)}function TA(t,e,r){if(r===128&&e<128)return 1;if(e<=r+55)return e-r;if(e===r+55+1)return t.readUint8();if(e===r+55+2)return t.readUint16();if(e===r+55+3)return t.readUint24();if(e===r+55+4)return t.readUint32();throw new P("Invalid RLP prefix")}function zC(t,e,r){let n=t.position,o=[];for(;t.position-n<e;)o.push(PA(t,r));return o}var Q0=m(()=>{nt();Bs();Qa();wt();Y()});var BA=m(()=>{fp()});var UA=m(()=>{fp()});var OA=m(()=>{nf()});var CA=m(()=>{nf()});function Qd(t){return J(t)&&at(t)===32}var tb=m(()=>{ve();Oe()});function RA(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var DC,kA,LC,NA,zA,DA,LA,MC,KC,HC,FC,tm,em,MA,KA=m(()=>{Dh();Pe();DC=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),kA=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),LC=kA.map(t=>(9*t+5)%16),NA=(()=>{let r=[[kA],[LC]];for(let n=0;n<4;n++)for(let o of r)o.push(o[n].map(i=>DC[i]));return r})(),zA=NA[0],DA=NA[1],LA=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),MC=zA.map((t,e)=>t.map(r=>LA[e][r])),KC=DA.map((t,e)=>t.map(r=>LA[e][r])),HC=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),FC=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);tm=new Uint32Array(16),em=class extends Qi{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:o,h4:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,r){for(let d=0;d<16;d++,r+=4)tm[d]=e.getUint32(r,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,c=a,u=this.h3|0,f=u,l=this.h4|0,p=l;for(let d=0;d<5;d++){let b=4-d,h=HC[d],y=FC[d],x=zA[d],v=DA[d],w=MC[d],S=KC[d];for(let I=0;I<16;I++){let T=Nu(n+RA(d,i,a,u)+tm[x[I]]+h,w[I])+l|0;n=l,l=u,u=Nu(a,10)|0,a=i,i=T}for(let I=0;I<16;I++){let T=Nu(o+RA(b,s,c,f)+tm[v[I]]+y,S[I])+p|0;o=p,p=f,f=Nu(c,10)|0,c=s,s=T}}this.set(this.h1+a+f|0,this.h2+u+p|0,this.h3+l+o|0,this.h4+n+s|0,this.h0+i+c|0)}roundClean(){Qt(tm)}destroy(){this.destroyed=!0,Qt(this.buffer),this.set(0,0,0,0,0)}},MA=fo(()=>new em)});var HA,FA=m(()=>{KA();HA=MA});function qA(t,e){let r=e||"hex",n=HA(J(t,{strict:!1})?Bt(t):t);return r==="bytes"?n:yt(n)}var $A=m(()=>{FA();ve();wt();Y()});var rm,eb=m(()=>{rm=`Ethereum Signed Message:
`});function nm(t){let e=typeof t=="string"?ke(t):typeof t.raw=="string"?t.raw:rt(t.raw),r=ke(`${rm}${at(e)}`);return It([r,e])}var rb=m(()=>{eb();ne();Oe();Y()});function Li(t,e){return ct(nm(t),e)}var Yf=m(()=>{Ne();rb()});async function om({message:t,signature:e}){return Ke({hash:Li(t),signature:e})}var nb=m(()=>{Yf();oi()});async function im(t){let{domain:e,message:r,primaryType:n,signature:o,types:i}=t;return Ke({hash:tu({domain:e,message:r,primaryType:n,types:i}),signature:o})}var ob=m(()=>{Gf();oi()});async function jA({address:t,hash:e,signature:r}){return Vt(re(t),await Ke({hash:e,signature:r}))}var GA=m(()=>{mr();cn();oi()});async function VA({address:t,message:e,signature:r}){return Vt(re(t),await om({message:e,signature:r}))}var WA=m(()=>{mr();cn();nb()});async function YA(t){let{address:e,domain:r,message:n,primaryType:o,signature:i,types:s}=t;return Vt(re(e),await im({domain:r,message:n,primaryType:o,signature:i,types:s}))}var JA=m(()=>{mr();cn();ob()});var sm,ZA,am=m(()=>{sm="0x6492649264926492649264926492649264926492649264926492649264926492",ZA="0x0000000000000000000000000000000000000000000000000000000000000000"});function iu(t){return Zr(t,-32)===sm}var cm=m(()=>{am();hr()});function XA(t){if(!iu(t))return{signature:t};let[e,r,n]=Ee([{type:"address"},{type:"bytes"},{type:"bytes"}],t);return{address:e,data:r,signature:n}}var QA=m(()=>{Co();cm()});function um(t){let{address:e,data:r,signature:n,to:o="hex"}=t,i=Rt([Ht([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,r,n]),sm]);return o==="hex"?i:ft(i)}var ib=m(()=>{am();Nr();ne();wt()});function fm(t){let e=Zr(t,0,1);if(e==="0x04")return"eip7702";if(e==="0x03")return"eip4844";if(e==="0x02")return"eip1559";if(e==="0x01")return"eip2930";if(e!=="0x"&&ot(e)>=192)return"legacy";throw new fc({serializedType:e})}var sb=m(()=>{Le();hr();Ct()});function lm(t){let e=fm(t);return e==="eip1559"?jC(t):e==="eip2930"?GC(t):e==="eip4844"?$C(t):e==="eip7702"?qC(t):VC(t)}function qC(t){let e=pm(t),[r,n,o,i,s,a,c,u,f,l,p,d,b]=e;if(e.length!==10&&e.length!==13)throw new Xr({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:o,maxFeePerGas:i,gas:s,to:a,value:c,data:u,accessList:f,authorizationList:l,...e.length>9?{v:p,r:d,s:b}:{}},serializedTransaction:t,type:"eip7702"});let h={chainId:ot(r),type:"eip7702"};return J(a)&&a!=="0x"&&(h.to=a),J(s)&&s!=="0x"&&(h.gas=tt(s)),J(u)&&u!=="0x"&&(h.data=u),J(n)&&(h.nonce=n==="0x"?0:ot(n)),J(c)&&c!=="0x"&&(h.value=tt(c)),J(i)&&i!=="0x"&&(h.maxFeePerGas=tt(i)),J(o)&&o!=="0x"&&(h.maxPriorityFeePerGas=tt(o)),f.length!==0&&f!=="0x"&&(h.accessList=dm(f)),l.length!==0&&l!=="0x"&&(h.authorizationList=WC(l)),Wd(h),{...e.length===13?Jf(e):void 0,...h}}function $C(t){let e=pm(t),r=e.length===4,n=r?e[0]:e,o=r?e.slice(1):[],[i,s,a,c,u,f,l,p,d,b,h,y,x,v]=n,[w,S,I]=o;if(!(n.length===11||n.length===14))throw new Xr({attributes:{chainId:i,nonce:s,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:u,to:f,value:l,data:p,accessList:d,...n.length>9?{v:y,r:x,s:v}:{}},serializedTransaction:t,type:"eip4844"});let T={blobVersionedHashes:h,chainId:ot(i),type:"eip4844"};return J(f)&&f!=="0x"&&(T.to=f),J(u)&&u!=="0x"&&(T.gas=tt(u)),J(p)&&p!=="0x"&&(T.data=p),J(s)&&(T.nonce=s==="0x"?0:ot(s)),J(l)&&l!=="0x"&&(T.value=tt(l)),J(b)&&b!=="0x"&&(T.maxFeePerBlobGas=tt(b)),J(c)&&c!=="0x"&&(T.maxFeePerGas=tt(c)),J(a)&&a!=="0x"&&(T.maxPriorityFeePerGas=tt(a)),d.length!==0&&d!=="0x"&&(T.accessList=dm(d)),w&&S&&I&&(T.sidecars=wi({blobs:w,commitments:S,proofs:I})),Yd(T),{...n.length===14?Jf(n):void 0,...T}}function jC(t){let e=pm(t),[r,n,o,i,s,a,c,u,f,l,p,d]=e;if(!(e.length===9||e.length===12))throw new Xr({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:o,maxFeePerGas:i,gas:s,to:a,value:c,data:u,accessList:f,...e.length>9?{v:l,r:p,s:d}:{}},serializedTransaction:t,type:"eip1559"});let b={chainId:ot(r),type:"eip1559"};return J(a)&&a!=="0x"&&(b.to=a),J(s)&&s!=="0x"&&(b.gas=tt(s)),J(u)&&u!=="0x"&&(b.data=u),J(n)&&(b.nonce=n==="0x"?0:ot(n)),J(c)&&c!=="0x"&&(b.value=tt(c)),J(i)&&i!=="0x"&&(b.maxFeePerGas=tt(i)),J(o)&&o!=="0x"&&(b.maxPriorityFeePerGas=tt(o)),f.length!==0&&f!=="0x"&&(b.accessList=dm(f)),Di(b),{...e.length===12?Jf(e):void 0,...b}}function GC(t){let e=pm(t),[r,n,o,i,s,a,c,u,f,l,p]=e;if(!(e.length===8||e.length===11))throw new Xr({attributes:{chainId:r,nonce:n,gasPrice:o,gas:i,to:s,value:a,data:c,accessList:u,...e.length>8?{v:f,r:l,s:p}:{}},serializedTransaction:t,type:"eip2930"});let d={chainId:ot(r),type:"eip2930"};return J(s)&&s!=="0x"&&(d.to=s),J(i)&&i!=="0x"&&(d.gas=tt(i)),J(c)&&c!=="0x"&&(d.data=c),J(n)&&(d.nonce=n==="0x"?0:ot(n)),J(a)&&a!=="0x"&&(d.value=tt(a)),J(o)&&o!=="0x"&&(d.gasPrice=tt(o)),u.length!==0&&u!=="0x"&&(d.accessList=dm(u)),ru(d),{...e.length===11?Jf(e):void 0,...d}}function VC(t){let e=Wf(t,"hex"),[r,n,o,i,s,a,c,u,f]=e;if(!(e.length===6||e.length===9))throw new Xr({attributes:{nonce:r,gasPrice:n,gas:o,to:i,value:s,data:a,...e.length>6?{v:c,r:u,s:f}:{}},serializedTransaction:t,type:"legacy"});let l={type:"legacy"};if(J(i)&&i!=="0x"&&(l.to=i),J(o)&&o!=="0x"&&(l.gas=tt(o)),J(a)&&a!=="0x"&&(l.data=a),J(r)&&(l.nonce=r==="0x"?0:ot(r)),J(s)&&s!=="0x"&&(l.value=tt(s)),J(n)&&n!=="0x"&&(l.gasPrice=tt(n)),nu(l),e.length===6)return l;let p=J(c)&&c!=="0x"?tt(c):0n;if(f==="0x"&&u==="0x")return p>0&&(l.chainId=Number(p)),l;let d=p,b=Number((d-35n)/2n);if(b>0)l.chainId=b;else if(d!==27n&&d!==28n)throw new ko({v:d});return l.v=d,l.s=f,l.r=u,l.yParity=d%2n===0n?1:0,l}function pm(t){return Wf(`0x${t.slice(4)}`,"hex")}function dm(t){let e=[];for(let r=0;r<t.length;r++){let[n,o]=t[r];if(!ut(n,{strict:!1}))throw new dt({address:n});e.push({address:n,storageKeys:o.map(i=>Qd(i)?i:Pt(i))})}return e}function WC(t){let e=[];for(let r=0;r<t.length;r++){let[n,o,i,s,a,c]=t[r];e.push({address:o,chainId:ot(n),nonce:ot(i),...Jf([s,a,c])})}return e}function Jf(t){let e=t.slice(-3),r=e[0]==="0x"||tt(e[0])===0n?27n:28n;return{r:Re(e[1],{size:32}),s:Re(e[2],{size:32}),v:r,yParity:r===27n?0:1}}var ab=m(()=>{pr();Le();ze();If();ve();Bo();On();Ct();Q0();tb();Jd();sb()});var su,cb=m(()=>{nt();su=class extends P{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function au(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new su({value:t});let[r,n="0"]=t.split("."),o=r.startsWith("-");if(o&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){let[i,s,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],c=Math.round(+`${s}.${a}`);c>9?n=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):n=`${i}${c}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${o?"-":""}${r}${n}`)}var mm=m(()=>{cb()});function tI(t,e="wei"){return au(t,rc[e])}var eI=m(()=>{oc();mm()});function rI(t,e="wei"){return au(t,nc[e])}var nI=m(()=>{oc();mm()});function ub(t){let{source:e}=t,r=new Map,n=new dr(8192),o=new Map,i=({address:s,chainId:a})=>`${s}.${a}`;return{async consume({address:s,chainId:a,client:c}){let u=i({address:s,chainId:a}),f=this.get({address:s,chainId:a,client:c});this.increment({address:s,chainId:a});let l=await f;return await e.set({address:s,chainId:a},l),n.set(u,l),l},async increment({address:s,chainId:a}){let c=i({address:s,chainId:a}),u=r.get(c)??0;r.set(c,u+1)},async get({address:s,chainId:a,client:c}){let u=i({address:s,chainId:a}),f=o.get(u);return f||(f=(async()=>{try{let p=await e.get({address:s,chainId:a,client:c}),d=n.get(u)??0;return d>0&&p<=d?d+1:(n.delete(u),p)}finally{this.reset({address:s,chainId:a})}})(),o.set(u,f)),(r.get(u)??0)+await f},reset({address:s,chainId:a}){let c=i({address:s,chainId:a});r.delete(c),o.delete(c)}}}function YC(){return{async get(t){let{address:e,client:r}=t;return bi(r,{address:e,blockTag:"pending"})},set(){}}}var oI,iI=m(()=>{vf();Ya();oI=ub({source:YC()})});var hm=m(()=>{De();Ct()});function JC(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function sI(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ot(t.nonce):void 0,storageProof:t.storageProof?JC(t.storageProof):void 0}}var aI=m(()=>{hm()});async function cI(t,{address:e,blockNumber:r,blockTag:n,storageKeys:o}){let i=n??"latest",s=r!==void 0?C(r):void 0,a=await t.request({method:"eth_getProof",params:[e,o,s||i]});return sI(a)}var uI=m(()=>{Y();aI()});async function fI(t,{address:e,blockNumber:r,blockTag:n="latest",slot:o}){let i=r!==void 0?C(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,o,i||n]})}var lI=m(()=>{Y()});async function cu(t,{blockHash:e,blockNumber:r,blockTag:n,hash:o,index:i}){let s=n||"latest",a=r!==void 0?C(r):void 0,c=null;if(o?c=await t.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,C(i)]},{dedupe:!0}):(a||s)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,C(i)]},{dedupe:!!a})),!c)throw new No({blockHash:e,blockNumber:r,blockTag:s,hash:o,index:i});return(t.chain?.formatters?.transaction?.format||zs)(c)}var ym=m(()=>{Le();Y();wf()});async function pI(t,{hash:e,transactionReceipt:r}){let[n,o]=await Promise.all([V(t,dn,"getBlockNumber")({}),e?V(t,cu,"getTransaction")({hash:e}):void 0]),i=r?.blockNumber||o?.blockNumber;return i?n-i+1n:0n}var dI=m(()=>{ht();qc();ym()});async function Zf(t,{hash:e}){let r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new zo({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||Kf)(r)}var fb=m(()=>{Le();Id()});async function mI(t,e){let{account:r,allowFailure:n=!0,batchSize:o,blockNumber:i,blockTag:s,multicallAddress:a,stateOverride:c}=e,u=e.contracts,f=o??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),l=a;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=$e({blockNumber:i,chain:t.chain,contract:"multicall3"})}let p=[[]],d=0,b=0;for(let x=0;x<u.length;x++){let{abi:v,address:w,args:S,functionName:I}=u[x];try{let T=bt({abi:v,args:S,functionName:I});b+=(T.length-2)/2,f>0&&b>f&&p[d].length>0&&(d++,b=(T.length-2)/2,p[d]=[]),p[d]=[...p[d],{allowFailure:!0,callData:T,target:w}]}catch(T){let k=Ae(T,{abi:v,address:w,args:S,docsPath:"/docs/contract/multicall",functionName:I,sender:r});if(!n)throw k;p[d]=[...p[d],{allowFailure:!0,callData:"0x",target:w}]}}let h=await Promise.allSettled(p.map(x=>V(t,Ft,"readContract")({abi:Hs,account:r,address:l,args:[x],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:c}))),y=[];for(let x=0;x<h.length;x++){let v=h[x];if(v.status==="rejected"){if(!n)throw v.reason;for(let S=0;S<p[x].length;S++)y.push({status:"failure",error:v.reason,result:void 0});continue}let w=v.value;for(let S=0;S<w.length;S++){let{returnData:I,success:T}=w[S],{callData:k}=p[x][S],{abi:R,address:E,functionName:N,args:g}=u[y.length];try{if(k==="0x")throw new Ce;if(!T)throw new br({data:I});let _=me({abi:R,args:g,data:I,functionName:N});y.push(n?{result:_,status:"success"}:_)}catch(_){let D=Ae(_,{abi:R,address:E,args:g,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw D;y.push({error:D,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new P("multicall results mismatch");return y}var hI=m(()=>{Wn();Et();nt();Ln();jn();De();Ii();ri();ht();pn()});async function Xf(t,e){let{blockNumber:r,blockTag:n="latest",blocks:o,returnFullTransactions:i,traceTransfers:s,validation:a}=e;try{let c=[];for(let p of o){let d=p.blockOverrides?ed(p.blockOverrides):void 0,b=p.calls.map(y=>{let x=y,v=x.account?it(x.account):void 0,w=x.abi?bt(x):x.data,S={...x,data:x.dataSuffix?It([w||"0x",x.dataSuffix]):w,from:x.from??v?.address};return pe(S),se(S)}),h=p.stateOverrides?_c(p.stateOverrides):void 0;c.push({blockOverrides:d,calls:b,stateOverrides:h})}let f=(typeof r=="bigint"?C(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:s,validation:a},f]})).map((p,d)=>({...Ds(p),calls:p.calls.map((b,h)=>{let{abi:y,args:x,functionName:v,to:w}=o[d].calls[h],S=b.error?.data??b.returnData,I=BigInt(b.gasUsed),T=b.logs?.map(N=>Wt(N)),k=b.status==="0x1"?"success":"failure",R=y&&k==="success"&&S!=="0x"?me({abi:y,data:S,functionName:v}):null,E=(()=>{if(k==="success")return;let N;if(b.error?.data==="0x"?N=new Ce:b.error&&(N=new br(b.error)),!!N)return Ae(N,{abi:y??[],address:w??"0x",args:x,functionName:v??"<unknown>"})})();return{data:S,gasUsed:I,logs:T,status:k,...k==="success"?{result:R}:{error:E}}})}))}catch(c){let u=c,f=di(u,{});throw f instanceof Fe?u:f}}var lb=m(()=>{o0();kt();Et();Ln();on();jn();De();ne();Y();ri();yf();Op();$n();Fn();Pp();qn()});function bm(t,e={}){let{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=up(q_(t));return r==="Bytes"?n:Rc(n)}var pb=m(()=>{xy();Yp();Kr()});var gm,bI=m(()=>{gm=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var ZC,xm,gI=m(()=>{bI();ZC={checksum:new gm(8192)},xm=ZC.checksum});function uu(t,e={}){let{strict:r=!0}=e;if(!QC.test(t))throw new wm({address:t,cause:new db});if(r){if(t.toLowerCase()===t)return;if(xI(t)!==t)throw new wm({address:t,cause:new mb})}}function xI(t){if(xm.has(t))return xm.get(t);uu(t,{strict:!1});let e=t.substring(2).toLowerCase(),r=bm($_(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());let o=`0x${n.join("")}`;return xm.set(t,o),o}function vm(t,e={}){let{strict:r=!0}=e??{};try{return uu(t,{strict:r}),!0}catch{return!1}}var QC,wm,db,mb,_m=m(()=>{Yp();gI();Ai();pb();QC=/^0x[a-fA-F0-9]{40}$/;wm=class extends lt{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},db=class extends lt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},mb=class extends lt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});function Am(t){let e=!0,r="",n=0,o="",i=!1;for(let s=0;s<t.length;s++){let a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){t[s-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}o+=a,r+=a}}if(!i)throw new lt("Unable to normalize signature.");return o}function Em(t,e){let r=typeof t,n=e.type;switch(n){case"address":return vm(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((o,i)=>Em(Object.values(t)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(o=>Em(o,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function yb(t,e,r){for(let n in t){let o=t[n],i=e[n];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return yb(o.components,i.components,r[n]);let s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?vm(r[n],{strict:!1}):s.includes("address")&&s.includes("bytes")?vm(r[n],{strict:!1}):!1)return s}}var wI=m(()=>{_m();Ai()});function Im(t,e={}){let{prepare:r=!0}=e,n=Array.isArray(t)?Ca(t):typeof t=="string"?Ca(t):t;return{...n,...r?{hash:fu(n)}:{}}}function vI(t,e,r){let{args:n=[],prepare:o=!0}=r??{},i=n0(e,{strict:!1}),s=t.filter(u=>i?u.type==="function"||u.type==="error"?gb(u)===Nc(e,0,4):u.type==="event"?fu(u)===e:!1:"name"in u&&u.name===e);if(s.length===0)throw new Ys({name:e});if(s.length===1)return{...s[0],...o?{hash:fu(s[0])}:{}};let a;for(let u of s){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...o?{hash:fu(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((l,p)=>{let d="inputs"in u&&u.inputs[p];return d?Em(l,d):!1})){if(a&&"inputs"in a&&a.inputs){let l=yb(u.inputs,a.inputs,n);if(l)throw new bb({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}let c=(()=>{if(a)return a;let[u,...f]=s;return{...u,overloads:f}})();if(!c)throw new Ys({name:e});return{...c,...o?{hash:fu(c)}:{}}}function gb(t){return Nc(fu(t),0,4)}function eR(t){let e=typeof t=="string"?t:us(t);return Am(e)}function fu(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:bm(kc(eR(t)))}var bb,Ys,xb=m(()=>{Xu();Ai();pb();Kr();wI();bb=class extends lt{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Am(us(e.abiItem))}\`, and`,`\`${r.type}\` in \`${Am(us(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},Ys=class extends lt{constructor({name:e,data:r,type:n="item"}){let o=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${o} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});var EI,AI,Sm,net,oet,iet,set,aet,cet,uet,fet,pet,det,met,het,yet,bet,get,xet,wet,vet,_et,Eet,Aet,Iet,Tet,Pet,Bet,Uet,Oet,Cet,Ret,ket,Net,zet,Det,Let,Met,Ket,Het,Fet,qet,$et,jet,Get,Vet,Wet,Yet,Jet,Zet,Xet,Qet,trt,ert,rrt,nrt,ort,irt,srt,art,crt,urt,frt,lrt,prt,drt,mrt,hrt,yrt,brt,grt,xrt,wrt,vrt,_rt,Ert,Art,Irt,Srt,Trt,Prt,Brt,Urt,Ort,Crt,Rrt,krt,Nrt,zrt,Drt,Lrt,Mrt,Krt,Hrt,Frt,qrt,$rt,jrt,Grt,wb=m(()=>{EI=/^(.*)\[([0-9]*)\]$/,AI=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sm=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,net=2n**(8n-1n)-1n,oet=2n**(16n-1n)-1n,iet=2n**(24n-1n)-1n,set=2n**(32n-1n)-1n,aet=2n**(40n-1n)-1n,cet=2n**(48n-1n)-1n,uet=2n**(56n-1n)-1n,fet=2n**(64n-1n)-1n,pet=2n**(72n-1n)-1n,det=2n**(80n-1n)-1n,met=2n**(88n-1n)-1n,het=2n**(96n-1n)-1n,yet=2n**(104n-1n)-1n,bet=2n**(112n-1n)-1n,get=2n**(120n-1n)-1n,xet=2n**(128n-1n)-1n,wet=2n**(136n-1n)-1n,vet=2n**(144n-1n)-1n,_et=2n**(152n-1n)-1n,Eet=2n**(160n-1n)-1n,Aet=2n**(168n-1n)-1n,Iet=2n**(176n-1n)-1n,Tet=2n**(184n-1n)-1n,Pet=2n**(192n-1n)-1n,Bet=2n**(200n-1n)-1n,Uet=2n**(208n-1n)-1n,Oet=2n**(216n-1n)-1n,Cet=2n**(224n-1n)-1n,Ret=2n**(232n-1n)-1n,ket=2n**(240n-1n)-1n,Net=2n**(248n-1n)-1n,zet=2n**(256n-1n)-1n,Det=-(2n**(8n-1n)),Let=-(2n**(16n-1n)),Met=-(2n**(24n-1n)),Ket=-(2n**(32n-1n)),Het=-(2n**(40n-1n)),Fet=-(2n**(48n-1n)),qet=-(2n**(56n-1n)),$et=-(2n**(64n-1n)),jet=-(2n**(72n-1n)),Get=-(2n**(80n-1n)),Vet=-(2n**(88n-1n)),Wet=-(2n**(96n-1n)),Yet=-(2n**(104n-1n)),Jet=-(2n**(112n-1n)),Zet=-(2n**(120n-1n)),Xet=-(2n**(128n-1n)),Qet=-(2n**(136n-1n)),trt=-(2n**(144n-1n)),ert=-(2n**(152n-1n)),rrt=-(2n**(160n-1n)),nrt=-(2n**(168n-1n)),ort=-(2n**(176n-1n)),irt=-(2n**(184n-1n)),srt=-(2n**(192n-1n)),art=-(2n**(200n-1n)),crt=-(2n**(208n-1n)),urt=-(2n**(216n-1n)),frt=-(2n**(224n-1n)),lrt=-(2n**(232n-1n)),prt=-(2n**(240n-1n)),drt=-(2n**(248n-1n)),mrt=-(2n**(256n-1n)),hrt=2n**8n-1n,yrt=2n**16n-1n,brt=2n**24n-1n,grt=2n**32n-1n,xrt=2n**40n-1n,wrt=2n**48n-1n,vrt=2n**56n-1n,_rt=2n**64n-1n,Ert=2n**72n-1n,Art=2n**80n-1n,Irt=2n**88n-1n,Srt=2n**96n-1n,Trt=2n**104n-1n,Prt=2n**112n-1n,Brt=2n**120n-1n,Urt=2n**128n-1n,Ort=2n**136n-1n,Crt=2n**144n-1n,Rrt=2n**152n-1n,krt=2n**160n-1n,Nrt=2n**168n-1n,zrt=2n**176n-1n,Drt=2n**184n-1n,Lrt=2n**192n-1n,Mrt=2n**200n-1n,Krt=2n**208n-1n,Hrt=2n**216n-1n,Frt=2n**224n-1n,qrt=2n**232n-1n,$rt=2n**240n-1n,jrt=2n**248n-1n,Grt=2n**256n-1n});function II({checksumAddress:t,parameters:e,values:r}){let n=[];for(let o=0;o<e.length;o++)n.push(vb({checksumAddress:t,parameter:e[o],value:r[o]}));return n}function vb({checksumAddress:t=!1,parameter:e,value:r}){let n=e,o=fR(n.type);if(o){let[i,s]=o;return oR(r,{checksumAddress:t,length:i,parameter:{...n,type:s}})}if(n.type==="tuple")return uR(r,{checksumAddress:t,parameter:n});if(n.type==="address")return nR(r,{checksum:t});if(n.type==="bool")return sR(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){let i=n.type.startsWith("int"),[,,s="256"]=Sm.exec(n.type)??[];return aR(r,{signed:i,size:Number(s)})}if(n.type.startsWith("bytes"))return iR(r,{type:n.type});if(n.type==="string")return cR(r);throw new tl(n.type)}function Tm(t){let e=0;for(let i=0;i<t.length;i++){let{dynamic:s,encoded:a}=t[i];s?e+=32:e+=Yt(a)}let r=[],n=[],o=0;for(let i=0;i<t.length;i++){let{dynamic:s,encoded:a}=t[i];s?(r.push(Lt(e+o,{size:32})),n.push(a),o+=Yt(a)):r.push(a)}return qe(...r,...n)}function nR(t,e){let{checksum:r=!1}=e;return uu(t,{strict:r}),{dynamic:!1,encoded:Vn(t.toLowerCase())}}function oR(t,e){let{checksumAddress:r,length:n,parameter:o}=e,i=n===null;if(!Array.isArray(t))throw new Bm(t);if(!i&&t.length!==n)throw new Pm({expectedLength:n,givenLength:t.length,type:`${o.type}[${n}]`});let s=!1,a=[];for(let c=0;c<t.length;c++){let u=vb({checksumAddress:r,parameter:o,value:t[c]});u.dynamic&&(s=!0),a.push(u)}if(i||s){let c=Tm(a);if(i){let u=Lt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?qe(u,c):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:qe(...a.map(({encoded:c})=>c))}}function iR(t,{type:e}){let[,r]=e.split("bytes"),n=Yt(t);if(!r){let o=t;return n%32!==0&&(o=fn(o,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:qe(Vn(Lt(n,{size:32})),o)}}if(n!==Number.parseInt(r))throw new Qf({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:fn(t)}}function sR(t){if(typeof t!="boolean")throw new lt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Vn(td(t))}}function aR(t,{signed:e,size:r}){if(typeof r=="number"){let n=2n**(BigInt(r)-(e?1n:0n))-1n,o=e?-n-1n:0n;if(t>n||t<o)throw new Of({max:n.toString(),min:o.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Lt(t,{size:32,signed:e})}}function cR(t){let e=kc(t),r=Math.ceil(Yt(e)/32),n=[];for(let o=0;o<r;o++)n.push(fn(Nc(e,o*32,(o+1)*32)));return{dynamic:!0,encoded:qe(fn(Lt(Yt(e),{size:32})),...n)}}function uR(t,e){let{checksumAddress:r,parameter:n}=e,o=!1,i=[];for(let s=0;s<n.components.length;s++){let a=n.components[s],c=Array.isArray(t)?s:a.name,u=vb({checksumAddress:r,parameter:a,value:t[c]});i.push(u),u.dynamic&&(o=!0)}return{dynamic:o,encoded:o?Tm(i):qe(...i.map(({encoded:s})=>s))}}function fR(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var SI=m(()=>{Um();_m();Ai();Kr();wb()});function Cm(t,e,r){let{checksumAddress:n=!1}=r??{};if(t.length!==e.length)throw new Om({expectedLength:t.length,givenLength:e.length});let o=II({checksumAddress:n,parameters:t,values:e}),i=Tm(o);return i.length===0?"0x":i}function Eb(t,e){if(t.length!==e.length)throw new Om({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let o=t[n],i=e[n];r.push(Eb.encode(o,i))}return qe(...r)}var Pm,Qf,Om,Bm,tl,Um=m(()=>{_m();Ai();Kr();wb();SI();(function(t){function e(r,n,o=!1){if(r==="address"){let c=n;return uu(c),Vn(c.toLowerCase(),o?32:0)}if(r==="string")return kc(n);if(r==="bytes")return n;if(r==="bool")return Vn(td(n),o?32:1);let i=r.match(Sm);if(i){let[c,u,f="256"]=i,l=Number.parseInt(f)/8;return Lt(n,{size:o?32:l,signed:u==="int"})}let s=r.match(AI);if(s){let[c,u]=s;if(Number.parseInt(u)!==(n.length-2)/2)throw new Qf({expectedSize:Number.parseInt(u),value:n});return fn(n,o?32:0)}let a=r.match(EI);if(a&&Array.isArray(n)){let[c,u]=a,f=[];for(let l=0;l<n.length;l++)f.push(e(u,n[l],!0));return f.length===0?"0x":qe(...f)}throw new tl(r)}t.encode=e})(Eb||(Eb={}));Pm=class extends lt{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},Qf=class extends lt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Yt(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},Om=class extends lt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},Bm=class extends lt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},tl=class extends lt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function TI(t,e){let{bytecode:r,args:n}=e;return qe(r,t.inputs?.length&&n?.length?Cm(t.inputs,n):"0x")}function PI(t){return Im(t)}var BI=m(()=>{xb();Um();Kr()});function UI(t,...e){let{overloads:r}=t,n=r?mR([t,...r],t.name,{args:e[0]}):t,o=hR(n),i=e.length>0?Cm(n.inputs,e[0]):void 0;return i?qe(o,i):o}function Js(t,e={}){return Im(t,e)}function mR(t,e,r){let n=vI(t,e,r);if(n.type!=="function")throw new Ys({name:e,type:"function"});return n}function hR(t){return gb(t)}var OI=m(()=>{xb();Um();Kr()});var Rm,ir,Ab=m(()=>{Rm="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ir="0x0000000000000000000000000000000000000000"});async function CI(t,e){let{blockNumber:r,blockTag:n,calls:o,stateOverrides:i,traceAssetChanges:s,traceTransfers:a,validation:c}=e,u=e.account?it(e.account):void 0;if(s&&!u)throw new P("`account` is required when `traceAssetChanges` is true");let f=u?TI(PI("constructor(bytes, bytes)"),{bytecode:zc,args:[bR,UI(Js("function getBalance(address)"),[u.address])]}):void 0,l=s?await Promise.all(e.calls.map(async A=>{if(!A.data&&!A.abi)return;let{accessList:M}=await Hd(t,{account:u.address,...A,data:A.abi?bt(A):A.data});return M.map(({address:K,storageKeys:H})=>H.length>0?K:null)})).then(A=>A.flat().filter(Boolean)):[],p=await Xf(t,{blockNumber:r,blockTag:n,blocks:[...s?[{calls:[{data:f}],stateOverrides:i},{calls:l.map((A,M)=>({abi:[Js("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:ir,nonce:M})),stateOverrides:[{address:ir,nonce:0}]}]:[],{calls:[...o,{}].map(A=>({...A,from:u?.address})),stateOverrides:i},...s?[{calls:[{data:f}]},{calls:l.map((A,M)=>({abi:[Js("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:ir,nonce:M})),stateOverrides:[{address:ir,nonce:0}]},{calls:l.map((A,M)=>({to:A,abi:[Js("function decimals() returns (uint256)")],functionName:"decimals",from:ir,nonce:M})),stateOverrides:[{address:ir,nonce:0}]},{calls:l.map((A,M)=>({to:A,abi:[Js("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ir,nonce:M})),stateOverrides:[{address:ir,nonce:0}]},{calls:l.map((A,M)=>({to:A,abi:[Js("function symbol() returns (string)")],functionName:"symbol",from:ir,nonce:M})),stateOverrides:[{address:ir,nonce:0}]}]:[]],traceTransfers:a,validation:c}),d=s?p[2]:p[0],[b,h,,y,x,v,w,S]=s?p:[],{calls:I,...T}=d,k=I.slice(0,-1)??[],R=b?.calls??[],E=h?.calls??[],N=[...R,...E].map(A=>A.status==="success"?tt(A.data):null),g=y?.calls??[],_=x?.calls??[],D=[...g,..._].map(A=>A.status==="success"?tt(A.data):null),B=(v?.calls??[]).map(A=>A.status==="success"?A.result:null),O=(S?.calls??[]).map(A=>A.status==="success"?A.result:null),U=(w?.calls??[]).map(A=>A.status==="success"?A.result:null),z=[];for(let[A,M]of D.entries()){let K=N[A];if(typeof M!="bigint"||typeof K!="bigint")continue;let H=B[A-1],W=O[A-1],X=U[A-1],Q=A===0?{address:Rm,decimals:18,symbol:"ETH"}:{address:l[A-1],decimals:X||H?Number(H??1):void 0,symbol:W??void 0};z.some(Z=>Z.token.address===Q.address)||z.push({token:Q,value:{pre:K,post:M,diff:M-K}})}return{assetChanges:z,block:T,results:k}}var bR,RI=m(()=>{BI();OI();kt();Ab();Rf();nt();De();hm();F0();lb();bR="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});function el({r:t,s:e,to:r="hex",v:n,yParity:o}){let i=(()=>{if(o===0||o===1)return o;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new rr.Signature(tt(t),tt(e)).toCompactHex()}${i===0?"1b":"1c"}`;return r==="hex"?s:ft(s)}var Ib=m(()=>{xc();Ct();wt()});async function lu(t,e){let{address:r,factory:n,factoryData:o,hash:i,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...c}=e,u=J(s)?s:typeof s=="object"&&"r"in s&&"s"in s?el(s):rt(s),f=await(async()=>!n&&!o||iu(u)?u:um({address:n,data:o,signature:u}))();try{let l=a?{to:a,data:bt({abi:Cf,functionName:"isValidSig",args:[r,i,f]}),...c}:{data:Zn({abi:Cf,args:[r,i,f],bytecode:id}),...c},{data:p}=await V(t,ln,"call")(l);return Va(p??"0x0")}catch(l){try{if(Vt(re(r),await Ke({hash:i,signature:s})))return!0}catch{}if(l instanceof Do)return!1;throw l}}var km=m(()=>{Wn();Rf();Ln();kf();mr();cn();ve();Y();ht();hm();cm();oi();ib();Ib();Fc()});async function kI(t,{address:e,message:r,factory:n,factoryData:o,signature:i,...s}){let a=Li(r);return lu(t,{address:e,factory:n,factoryData:o,hash:a,signature:i,...s})}var NI=m(()=>{Yf();km()});async function zI(t,e){let{address:r,factory:n,factoryData:o,signature:i,message:s,primaryType:a,types:c,domain:u,...f}=e,l=tu({message:s,primaryType:a,types:c,domain:u});return lu(t,{address:r,factory:n,factoryData:o,hash:l,signature:i,...f})}var DI=m(()=>{Gf();km()});function Nm(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:o,poll:i,pollingInterval:s=t.pollingInterval}){let a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c;return a?(()=>{let l=st(["watchBlockNumber",t.uid,e,r,s]);return he(l,{onBlockNumber:n,onError:o},p=>_r(async()=>{try{let d=await V(t,dn,"getBlockNumber")({cacheTime:0});if(c){if(d===c)return;if(d-c>1&&r)for(let b=c+1n;b<d;b++)p.onBlockNumber(b,c),c=b}(!c||d>c)&&(p.onBlockNumber(d,c),c=d)}catch(d){p.onError?.(d)}},{emitOnBegin:e,interval:s}))})():(()=>{let l=st(["watchBlockNumber",t.uid,e,r]);return he(l,{onBlockNumber:n,onError:o},p=>{let d=!0,b=()=>d=!1;return(async()=>{try{let h=(()=>{if(t.transport.type==="fallback"){let x=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:y}=await h.subscribe({params:["newHeads"],onData(x){if(!d)return;let v=tt(x.result?.number);p.onBlockNumber(v,c),c=v},onError(x){p.onError?.(x)}});b=y,d||b()}catch(h){o?.(h)}})(),()=>b()})})()}var Sb=m(()=>{Ct();ht();Si();js();oe();qc()});async function LI(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:o=t.pollingInterval,retryCount:i=6,retryDelay:s=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){let c=st(["waitForTransactionReceipt",t.uid,r]),u,f,l,p=!1,d,b,{promise:h,resolve:y,reject:x}=Kc(),v=a?setTimeout(()=>{b(),d(),x(new dc({hash:r}))},a):void 0;return d=he(c,{onReplaced:n,resolve:y,reject:x},w=>{b=V(t,Nm,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(S){let I=k=>{clearTimeout(v),b(),k(),d()},T=S;if(!p)try{if(l){if(e>1&&(!l.blockNumber||T-l.blockNumber+1n<e))return;I(()=>w.resolve(l));return}if(u||(p=!0,await Gs(async()=>{u=await V(t,cu,"getTransaction")({hash:r}),u.blockNumber&&(T=u.blockNumber)},{delay:s,retryCount:i}),p=!1),l=await V(t,Zf,"getTransactionReceipt")({hash:r}),e>1&&(!l.blockNumber||T-l.blockNumber+1n<e))return;I(()=>w.resolve(l))}catch(k){if(k instanceof No||k instanceof zo){if(!u){p=!1;return}try{f=u,p=!0;let R=await Gs(()=>V(t,de,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:s,retryCount:i,shouldRetry:({error:g})=>g instanceof yi});p=!1;let E=R.transactions.find(({from:g,nonce:_})=>g===f.from&&_===f.nonce);if(!E||(l=await V(t,Zf,"getTransactionReceipt")({hash:E.hash}),e>1&&(!l.blockNumber||T-l.blockNumber+1n<e)))return;let N="replaced";E.to===f.to&&E.value===f.value&&E.input===f.input?N="repriced":E.from===E.to&&E.value===0n&&(N="cancelled"),I(()=>{w.onReplaced?.({reason:N,replacedTransaction:f,transaction:E,transactionReceipt:l}),w.resolve(l)})}catch(R){I(()=>w.reject(R))}}else I(()=>w.reject(k))}}})}),h}var MI=m(()=>{Up();Le();ht();Si();ad();Od();oe();Ls();ym();fb();Sb()});function KI(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:o,onError:i,includeTransactions:s,poll:a,pollingInterval:c=t.pollingInterval}){let u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=s??!1,l;return u?(()=>{let b=st(["watchBlocks",t.uid,e,r,n,f,c]);return he(b,{onBlock:o,onError:i},h=>_r(async()=>{try{let y=await V(t,de,"getBlock")({blockTag:e,includeTransactions:f});if(y.number!==null&&l?.number!=null){if(y.number===l.number)return;if(y.number-l.number>1&&r)for(let x=l?.number+1n;x<y.number;x++){let v=await V(t,de,"getBlock")({blockNumber:x,includeTransactions:f});h.onBlock(v,l),l=v}}(l?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>l.number)&&(h.onBlock(y,l),l=y)}catch(y){h.onError?.(y)}},{emitOnBegin:n,interval:c}))})():(()=>{let b=!0,h=!0,y=()=>b=!1;return(async()=>{try{n&&V(t,de,"getBlock")({blockTag:e,includeTransactions:f}).then(w=>{b&&h&&(o(w,void 0),h=!1)}).catch(i);let x=(()=>{if(t.transport.type==="fallback"){let w=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:v}=await x.subscribe({params:["newHeads"],async onData(w){if(!b)return;let S=await V(t,de,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});b&&(o(S,l),h=!1,l=S)},onError(w){i?.(w)}});y=v,b||y()}catch(x){i?.(x)}})(),()=>y()})()}var HI=m(()=>{ht();Si();js();oe();Ls()});function FI(t,{address:e,args:r,batch:n=!0,event:o,events:i,fromBlock:s,onError:a,onLogs:c,poll:u,pollingInterval:f=t.pollingInterval,strict:l}){let p=typeof u<"u"?u:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=l??!1;return p?(()=>{let y=st(["watchEvent",e,r,n,t.uid,o,f,s]);return he(y,{onLogs:c,onError:a},x=>{let v;s!==void 0&&(v=s-1n);let w,S=!1,I=_r(async()=>{if(!S){try{w=await V(t,Fd,"createEventFilter")({address:e,args:r,event:o,events:i,strict:d,fromBlock:s})}catch{}S=!0;return}try{let T;if(w)T=await V(t,Ti,"getFilterChanges")({filter:w});else{let k=await V(t,dn,"getBlockNumber")({});v&&v!==k?T=await V(t,Oc,"getLogs")({address:e,args:r,event:o,events:i,fromBlock:v+1n,toBlock:k}):T=[],v=k}if(T.length===0)return;if(n)x.onLogs(T);else for(let k of T)x.onLogs([k])}catch(T){w&&T instanceof xr&&(S=!1),x.onError?.(T)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await V(t,Pi,"uninstallFilter")({filter:w}),I()}})})():(()=>{let y=!0,x=()=>y=!1;return(async()=>{try{let v=(()=>{if(t.transport.type==="fallback"){let T=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),w=i??(o?[o]:void 0),S=[];w&&(S=[w.flatMap(k=>yr({abi:[k],eventName:k.name,args:r}))],o&&(S=S[0]));let{unsubscribe:I}=await v.subscribe({params:["logs",{address:e,topics:S}],onData(T){if(!y)return;let k=T.result;try{let{eventName:R,args:E}=_i({abi:w??[],data:k.data,topics:k.topics,strict:d}),N=Wt(k,{args:E,eventName:R});c([N])}catch(R){let E,N;if(R instanceof Xe||R instanceof lr){if(l)return;E=R.abiItem.name,N=R.abiItem.inputs?.some(_=>!("name"in _&&_.name))}let g=Wt(k,{args:N?[]:{},eventName:E});c([g])}},onError(T){a?.(T)}});x=I,y||x()}catch(v){a?.(v)}})(),()=>x()})()}var qI=m(()=>{Cs();Si();js();oe();Et();ei();Tf();$n();ht();q0();qc();Df();jp();Lf()});function $I(t,{batch:e=!0,onError:r,onTransactions:n,poll:o,pollingInterval:i=t.pollingInterval}){return(typeof o<"u"?o:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{let u=st(["watchPendingTransactions",t.uid,e,i]);return he(u,{onTransactions:n,onError:r},f=>{let l,p=_r(async()=>{try{if(!l)try{l=await V(t,qd,"createPendingTransactionFilter")({});return}catch(b){throw p(),b}let d=await V(t,Ti,"getFilterChanges")({filter:l});if(d.length===0)return;if(e)f.onTransactions(d);else for(let b of d)f.onTransactions([b])}catch(d){f.onError?.(d)}},{emitOnBegin:!0,interval:i});return async()=>{l&&await V(t,Pi,"uninstallFilter")({filter:l}),p()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{let{unsubscribe:l}=await t.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;let d=p.result;n([d])},onError(p){r?.(p)}});f=l,u||f()}catch(l){r?.(l)}})(),()=>f()})()}var jI=m(()=>{ht();Si();js();oe();$0();Df();Lf()});function GI(t){let{scheme:e,statement:r,...n}=t.match(gR)?.groups??{},{chainId:o,expirationTime:i,issuedAt:s,notBefore:a,requestId:c,...u}=t.match(xR)?.groups??{},f=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...u,...o?{chainId:Number(o)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}var gR,xR,VI=m(()=>{gR=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,xR=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/});function WI(t){let{address:e,domain:r,message:n,nonce:o,scheme:i,time:s=new Date}=t;if(r&&n.domain!==r||o&&n.nonce!==o||i&&n.scheme!==i||n.expirationTime&&s>=n.expirationTime||n.notBefore&&s<n.notBefore)return!1;try{if(!n.address||!ut(n.address,{strict:!1})||e&&!Vt(n.address,e))return!1}catch{return!1}return!0}var YI=m(()=>{ze();cn()});async function JI(t,e){let{address:r,domain:n,message:o,nonce:i,scheme:s,signature:a,time:c=new Date,...u}=e,f=GI(o);if(!f.address||!WI({address:r,domain:n,message:f,nonce:i,scheme:s,time:c}))return!1;let p=Li(o);return lu(t,{address:f.address,hash:p,signature:a,...u})}var ZI=m(()=>{Yf();VI();YI();km()});function zm(t){return{call:e=>ln(t,e),createAccessList:e=>Hd(t,e),createBlockFilter:()=>FE(t),createContractEventFilter:e=>Za(t,e),createEventFilter:e=>Fd(t,e),createPendingTransactionFilter:()=>qd(t),estimateContractGas:e=>$p(t,e),estimateGas:e=>Uc(t,e),getBalance:e=>qp(t,e),getBlobBaseFee:()=>$E(t),getBlock:e=>de(t,e),getBlockNumber:e=>dn(t,e),getBlockTransactionCount:e=>GE(t,e),getBytecode:e=>j0(t,e),getChainId:()=>vr(t),getCode:e=>j0(t,e),getContractEvents:e=>Cc(t,e),getEip712Domain:e=>JE(t,e),getEnsAddress:e=>TE(t,e),getEnsAvatar:e=>zE(t,e),getEnsName:e=>LE(t,e),getEnsResolver:e=>KE(t,e),getEnsText:e=>Kd(t,e),getFeeHistory:e=>tA(t,e),estimateFeesPerGas:e=>T_(t,e),getFilterChanges:e=>Ti(t,e),getFilterLogs:e=>rA(t,e),getGasPrice:()=>Ic(t),getLogs:e=>Oc(t,e),getProof:e=>cI(t,e),estimateMaxPriorityFeePerGas:e=>S_(t,e),getStorageAt:e=>fI(t,e),getTransaction:e=>cu(t,e),getTransactionConfirmations:e=>pI(t,e),getTransactionCount:e=>bi(t,e),getTransactionReceipt:e=>Zf(t,e),multicall:e=>mI(t,e),prepareTransactionRequest:e=>vi(t,e),readContract:e=>Ft(t,e),sendRawTransaction:e=>jc(t,e),simulate:e=>Xf(t,e),simulateBlocks:e=>Xf(t,e),simulateCalls:e=>CI(t,e),simulateContract:e=>yd(t,e),verifyMessage:e=>kI(t,e),verifySiweMessage:e=>JI(t,e),verifyTypedData:e=>zI(t,e),uninstallFilter:e=>Pi(t,e),waitForTransactionReceipt:e=>LI(t,e),watchBlocks:e=>KI(t,e),watchBlockNumber:e=>Nm(t,e),watchContractEvent:e=>xd(t,e),watchEvent:e=>FI(t,e),watchPendingTransactions:e=>$I(t,e)}}var Tb=m(()=>{PE();DE();ME();HE();H0();Fc();F0();qE();mp();q0();$0();Jy();$y();Fp();qy();Yy();jE();Ls();qc();VE();Ms();WE();Gp();ZE();eA();Df();nA();Cp();jp();uI();lI();ym();dI();vf();fb();hI();pn();lb();RI();x0();Lf();NI();DI();MI();Sb();HI();_0();qI();jI();ZI();Sf();_d()});function XI(t){let{key:e="public",name:r="Public Client"}=t;return Ci({...t,key:e,name:r,type:"publicClient"}).extend(zm)}var QI=m(()=>{Ff();Tb()});async function tS(t,{hash:e}){await t.request({method:`${t.mode}_dropTransaction`,params:[e]})}var eS=m(()=>{});async function rS(t){return t.request({method:`${t.mode}_dumpState`})}var nS=m(()=>{});async function oS(t){return t.mode==="ganache"?await t.request({method:"eth_mining"}):await t.request({method:`${t.mode}_getAutomine`})}var iS=m(()=>{});async function sS(t){return await t.request({method:"txpool_content"})}var aS=m(()=>{});async function cS(t){let{pending:e,queued:r}=await t.request({method:"txpool_status"});return{pending:ot(e),queued:ot(r)}}var uS=m(()=>{Ct()});async function fS(t,{address:e}){await t.request({method:`${t.mode}_impersonateAccount`,params:[e]})}var lS=m(()=>{});async function pS(t,{seconds:e}){return await t.request({method:"evm_increaseTime",params:[C(e)]})}var dS=m(()=>{Y()});async function mS(t){return await t.request({method:"txpool_inspect"})}var hS=m(()=>{});async function yS(t,{state:e}){await t.request({method:`${t.mode}_loadState`,params:[e]})}var bS=m(()=>{});async function gS(t,{blocks:e,interval:r}){t.mode==="ganache"?await t.request({method:"evm_mine",params:[{blocks:C(e)}]}):await t.request({method:`${t.mode}_mine`,params:[C(e),C(r||0)]})}var xS=m(()=>{Y()});async function wS(t){await t.request({method:`${t.mode}_removeBlockTimestampInterval`})}var vS=m(()=>{});async function _S(t,{blockNumber:e,jsonRpcUrl:r}={}){await t.request({method:`${t.mode}_reset`,params:[{forking:{blockNumber:Number(e),jsonRpcUrl:r}}]})}var ES=m(()=>{});async function AS(t,{id:e}){await t.request({method:"evm_revert",params:[e]})}var IS=m(()=>{});async function SS(t,e){let{accessList:r,data:n,from:o,gas:i,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:f,value:l,...p}=e,d=t.chain?.formatters?.transactionRequest?.format,h=(d||se)({...sn(p,{format:d}),accessList:r,data:n,from:o,gas:i,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:f,value:l});return await t.request({method:"eth_sendUnsignedTransaction",params:[h]})}var TS=m(()=>{vc();Fn()});async function PS(t,e){t.mode==="ganache"?e?await t.request({method:"miner_start"}):await t.request({method:"miner_stop"}):await t.request({method:"evm_setAutomine",params:[e]})}var BS=m(()=>{});async function US(t,{address:e,value:r}){t.mode==="ganache"?await t.request({method:"evm_setAccountBalance",params:[e,C(r)]}):await t.request({method:`${t.mode}_setBalance`,params:[e,C(r)]})}var OS=m(()=>{Y()});async function CS(t,{gasLimit:e}){await t.request({method:"evm_setBlockGasLimit",params:[C(e)]})}var RS=m(()=>{Y()});async function kS(t,{interval:e}){let r=t.mode==="hardhat"?e*1e3:e;await t.request({method:`${t.mode}_setBlockTimestampInterval`,params:[r]})}var NS=m(()=>{});async function zS(t,{address:e,bytecode:r}){t.mode==="ganache"?await t.request({method:"evm_setAccountCode",params:[e,r]}):await t.request({method:`${t.mode}_setCode`,params:[e,r]})}var DS=m(()=>{});async function LS(t,{address:e}){await t.request({method:`${t.mode}_setCoinbase`,params:[e]})}var MS=m(()=>{});async function KS(t,{interval:e}){let r=t.mode==="hardhat"?e*1e3:e;await t.request({method:"evm_setIntervalMining",params:[r]})}var HS=m(()=>{});async function FS(t,e){await t.request({method:`${t.mode}_setLoggingEnabled`,params:[e]})}var qS=m(()=>{});async function $S(t,{gasPrice:e}){await t.request({method:`${t.mode}_setMinGasPrice`,params:[C(e)]})}var jS=m(()=>{Y()});async function GS(t,{baseFeePerGas:e}){await t.request({method:`${t.mode}_setNextBlockBaseFeePerGas`,params:[C(e)]})}var VS=m(()=>{Y()});async function WS(t,{timestamp:e}){await t.request({method:"evm_setNextBlockTimestamp",params:[C(e)]})}var YS=m(()=>{Y()});async function JS(t,{address:e,nonce:r}){await t.request({method:`${t.mode}_setNonce`,params:[e,C(r)]})}var ZS=m(()=>{Y()});async function XS(t,e){await t.request({method:`${t.mode}_setRpcUrl`,params:[e]})}var QS=m(()=>{});async function tT(t,{address:e,index:r,value:n}){await t.request({method:`${t.mode}_setStorageAt`,params:[e,typeof r=="number"?C(r):r,n]})}var eT=m(()=>{Y()});async function rT(t){return await t.request({method:"evm_snapshot"})}var nT=m(()=>{});async function oT(t,{address:e}){await t.request({method:`${t.mode}_stopImpersonatingAccount`,params:[e]})}var iT=m(()=>{});function Dm({mode:t}){return e=>{let r=e.extend(()=>({mode:t}));return{dropTransaction:n=>tS(r,n),dumpState:()=>rS(r),getAutomine:()=>oS(r),getTxpoolContent:()=>sS(r),getTxpoolStatus:()=>cS(r),impersonateAccount:n=>fS(r,n),increaseTime:n=>pS(r,n),inspectTxpool:()=>mS(r),loadState:n=>yS(r,n),mine:n=>gS(r,n),removeBlockTimestampInterval:()=>wS(r),reset:n=>_S(r,n),revert:n=>AS(r,n),sendUnsignedTransaction:n=>SS(r,n),setAutomine:n=>PS(r,n),setBalance:n=>US(r,n),setBlockGasLimit:n=>CS(r,n),setBlockTimestampInterval:n=>kS(r,n),setCode:n=>zS(r,n),setCoinbase:n=>LS(r,n),setIntervalMining:n=>KS(r,n),setLoggingEnabled:n=>FS(r,n),setMinGasPrice:n=>$S(r,n),setNextBlockBaseFeePerGas:n=>GS(r,n),setNextBlockTimestamp:n=>WS(r,n),setNonce:n=>JS(r,n),setRpcUrl:n=>XS(r,n),setStorageAt:n=>tT(r,n),snapshot:()=>rT(r),stopImpersonatingAccount:n=>oT(r,n)}}}var Pb=m(()=>{eS();nS();iS();aS();uS();lS();dS();hS();bS();xS();vS();ES();IS();TS();BS();OS();RS();NS();DS();MS();HS();qS();jS();VS();YS();ZS();QS();eT();nT();iT()});function sT(t){let{key:e="test",name:r="Test Client",mode:n}=t;return Ci({...t,key:e,name:r,type:"testClient"}).extend(i=>({mode:n,...Dm({mode:n})(i)}))}var aT=m(()=>{Ff();Pb()});async function cT(t,{chain:e}){let{id:r,name:n,nativeCurrency:o,rpcUrls:i,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:C(r),chainName:n,nativeCurrency:o,rpcUrls:i.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var uT=m(()=>{Y()});function fT(t,e){let{abi:r,args:n,bytecode:o,...i}=e,s=Zn({abi:r,args:n,bytecode:o});return Oi(t,{...i,...i.authorizationList?{to:null}:{},data:s})}var lT=m(()=>{kf();Mf()});async function pT(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>kr(r))}var dT=m(()=>{mr()});async function mT(t,e={}){let{account:r=t.account,chainId:n}=e,o=r?it(r):void 0,i=n?[o?.address,[C(n)]]:[o?.address],s=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(let[c,u]of Object.entries(s)){a[Number(c)]={};for(let[f,l]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=l}return typeof n=="number"?a[n]:a}var hT=m(()=>{kt();Y()});async function yT(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}var bT=m(()=>{});async function Lm(t,e){let{account:r=t.account,chainId:n,nonce:o}=e;if(!r)throw new ye({docsPath:"/docs/eip7702/prepareAuthorization"});let i=it(r),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:it(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:o};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await V(t,vr,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await V(t,bi,"getTransactionCount")({address:i.address,blockTag:"pending"}),(s==="self"||s?.address&&Vt(s.address,i.address))&&(a.nonce+=1)),a}var Bb=m(()=>{kt();Ui();cn();ht();Ms();vf()});async function gT(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>re(r))}var xT=m(()=>{mr()});async function wT(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var vT=m(()=>{});async function _T(t,e){let{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}var ET=m(()=>{});async function AT(t,e){let{account:r=t.account}=e;if(!r)throw new ye({docsPath:"/docs/eip7702/signAuthorization"});let n=it(r);if(!n.signAuthorization)throw new Bi({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let o=await Lm(t,e);return n.signAuthorization(o)}var IT=m(()=>{kt();Ui();Bb()});async function ST(t,{account:e=t.account,message:r}){if(!e)throw new ye({docsPath:"/docs/actions/wallet/signMessage"});let n=it(e);if(n.signMessage)return n.signMessage({message:r});let o=typeof r=="string"?ke(r):r.raw instanceof Uint8Array?yt(r.raw):r.raw;return t.request({method:"personal_sign",params:[o,n.address]},{retryCount:0})}var TT=m(()=>{kt();Ui();Y()});async function PT(t,e){let{account:r=t.account,chain:n=t.chain,...o}=e;if(!r)throw new ye({docsPath:"/docs/actions/wallet/signTransaction"});let i=it(r);pe({account:i,...e});let s=await V(t,vr,"getChainId")({});n!==null&&$c({currentChainId:s,chain:n});let c=(n?.formatters||t.chain?.formatters)?.transactionRequest?.format||se;return i.signTransaction?i.signTransaction({...o,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(o),chainId:C(s),from:i.address}]},{retryCount:0})}var BT=m(()=>{kt();Ui();wd();Y();Fn();ht();qn();Ms()});async function UT(t,e){let{account:r=t.account,domain:n,message:o,primaryType:i}=e;if(!r)throw new ye({docsPath:"/docs/actions/wallet/signTypedData"});let s=it(r),a={EIP712Domain:Vs({domain:n}),...e.types};if(eu({domain:n,message:o,primaryType:i,types:a}),s.signTypedData)return s.signTypedData({domain:n,message:o,primaryType:i,types:a});let c=Vd({domain:n,message:o,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,c]},{retryCount:0})}var OT=m(()=>{kt();Ui();Gd()});async function CT(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:C(e)}]},{retryCount:0})}var RT=m(()=>{Y()});async function kT(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}var NT=m(()=>{});function Mm(t){return{addChain:e=>cT(t,e),deployContract:e=>fT(t,e),getAddresses:()=>pT(t),getCallsStatus:e=>Sd(t,e),getCapabilities:e=>mT(t,e),getChainId:()=>vr(t),getPermissions:()=>yT(t),prepareAuthorization:e=>Lm(t,e),prepareTransactionRequest:e=>vi(t,e),requestAddresses:()=>gT(t),requestPermissions:e=>wT(t,e),sendCalls:e=>fE(t,e),sendRawTransaction:e=>jc(t,e),sendTransaction:e=>Oi(t,e),showCallsStatus:e=>_T(t,e),signAuthorization:e=>AT(t,e),signMessage:e=>ST(t,e),signTransaction:e=>PT(t,e),signTypedData:e=>UT(t,e),switchChain:e=>CT(t,e),waitForCallsStatus:e=>lE(t,e),watchAsset:e=>kT(t,e),writeContract:e=>Ed(t,e)}}var Ub=m(()=>{Ms();uT();lT();dT();O0();hT();bT();Bb();Sf();xT();vT();U0();_d();Mf();ET();IT();TT();BT();OT();RT();C0();NT();I0()});function zT(t){let{key:e="wallet",name:r="Wallet Client",transport:n}=t;return Ci({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(Mm)}var DT=m(()=>{Ff();Ub()});function LT(t,e={}){let{keepAlive:r,key:n="webSocket",methods:o,name:i="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=e;return({chain:c,retryCount:u,timeout:f})=>{let l=e.retryCount??u,p=f??e.timeout??1e4,d=t||c?.rpcUrls.default.webSocket?.[0],b={keepAlive:r,reconnect:s};if(!d)throw new Ri;return mn({key:n,methods:o,name:i,async request({method:h,params:y}){let x={method:h,params:y},v=await Jc(d,b),{error:w,result:S}=await v.requestAsync({body:x,timeout:p});if(w)throw new gr({body:x,error:w,url:d});return S},retryCount:l,retryDelay:a,timeout:p,type:"webSocket"},{getSocket(){return mA(d)},getRpcClient(){return Jc(d,b)},async subscribe({params:h,onData:y,onError:x}){let v=await Jc(d,b),{result:w}=await new Promise((S,I)=>v.request({body:{method:"eth_subscribe",params:h},onError(T){I(T),x?.(T)},onResponse(T){if(T.error){I(T.error),x?.(T.error);return}if(typeof T.id=="number"){S(T);return}T.method==="eth_subscription"&&y(T.params)}}));return{subscriptionId:w,async unsubscribe(){return new Promise(S=>v.request({body:{method:"eth_unsubscribe",params:[w]},onResponse:S}))}}}})}}var MT=m(()=>{Dr();Cd();hA();V0();Gc()});var Km,KT=m(()=>{Km=class extends Error{constructor(e,r){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=r}}});function HT(t){let{abi:e,bytecode:r,data:n}=t;if(n===r)return{bytecode:r};let o=e.find(s=>"type"in s&&s.type==="constructor");if(!o)throw new vo({docsPath:Ob});if(!("inputs"in o))throw new Jr({docsPath:Ob});if(!o.inputs||o.inputs.length===0)throw new Jr({docsPath:Ob});return{args:Ee(o.inputs,`0x${n.replace(r,"")}`),bytecode:r}}var Ob,FT=m(()=>{Et();Co();Ob="/docs/contract/decodeDeployData"});function qT({r:t,yParityAndS:e}){let r=ft(e),n=r[0]&128?1:0,o=r;return n===1&&(o[0]&=127),{r:t,s:rt(o),yParity:n}}var $T=m(()=>{wt();Y()});function Cb(t){let{r:e,s:r}=rr.Signature.fromCompact(t.slice(2,130));return{r:C(e,{size:32}),yParityAndS:C(r,{size:32})}}var jT=m(()=>{xc();Y()});function Rb(t){let{r:e,s:r}=rr.Signature.fromCompact(t.slice(2,130)),n=+`0x${t.slice(130)}`,[o,i]=(()=>{if(n===0||n===1)return[void 0,n];if(n===27)return[BigInt(n),0];if(n===28)return[BigInt(n),1];throw new Error("Invalid yParityOrV value")})();return typeof o<"u"?{r:C(e,{size:32}),s:C(r,{size:32}),v:o,yParity:i}:{r:C(e,{size:32}),s:C(r,{size:32}),yParity:i}}var GT=m(()=>{xc();Y()});async function VT(t){let{serializedTransaction:e,signature:r}=t,n=lm(e),o=r??{r:n.r,s:n.s,v:n.v,yParity:n.yParity},i=Zd({...n,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Ke({hash:ct(i),signature:o})}var WT=m(()=>{Ne();ab();Xd();oi()});function YT(t){let{r:e,s:r,v:n,yParity:o}=t,i=Number(o??n-27n),s=r;if(i===1){let a=ft(r);a[0]|=128,s=rt(a)}return{r:e,yParityAndS:s}}var JT=m(()=>{wt();Y()});function kb({r:t,yParityAndS:e}){return`0x${new rr.Signature(tt(t),tt(e)).toCompactHex()}`}var ZT=m(()=>{xc();Ct()});function XT(t){let{sidecars:e,version:r}=t,n=t.to??(typeof e[0].blob=="string"?"hex":"bytes"),o=[];for(let{commitment:i}of e)o.push(Sc({commitment:i,to:n,version:r}));return o}var QT=m(()=>{Np()});function t6(t){let e=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>ft(a)):t.blobs,n=r.reduce((a,c)=>a+c.length,0),o=zr(new Uint8Array(n)),i=!0;for(let a of r){let c=zr(a);for(;i&&c.position<a.length;){c.incrementPosition(1);let u=31;a.length-c.position<31&&(u=a.length-c.position);for(let f in Array.from({length:u})){let l=c.readByte();if(l===128&&!c.inspectBytes(c.remaining).includes(128)){i=!1;break}o.pushByte(l)}}}let s=o.bytes.slice(0,o.position);return e==="hex"?rt(s):s}var e6=m(()=>{Qa();wt();Y()});function Hm({blobToKzgCommitment:t,computeBlobKzgProof:e}){return{blobToKzgCommitment:t,computeBlobKzgProof:e}}var Nb=m(()=>{});function r6(t,e){try{t.loadTrustedSetup(e)}catch(r){let n=r;if(!n.message.includes("trusted setup is already loaded"))throw n}return Hm(t)}var n6=m(()=>{Nb()});var o6={};ar(o6,{AbiConstructorNotFoundError:()=>vo,AbiConstructorParamsNotFoundError:()=>Jr,AbiDecodingDataSizeInvalidError:()=>sp,AbiDecodingDataSizeTooSmallError:()=>_o,AbiDecodingZeroDataError:()=>Ce,AbiEncodingArrayLengthMismatchError:()=>ka,AbiEncodingBytesSizeMismatchError:()=>Na,AbiEncodingLengthMismatchError:()=>Eo,AbiErrorInputsNotFoundError:()=>za,AbiErrorNotFoundError:()=>Is,AbiErrorSignatureNotFoundError:()=>Ao,AbiEventNotFoundError:()=>Ss,AbiEventSignatureEmptyTopicsError:()=>Da,AbiEventSignatureNotFoundError:()=>Io,AbiFunctionNotFoundError:()=>Ze,AbiFunctionOutputsNotFoundError:()=>So,AbiFunctionSignatureNotFoundError:()=>La,AccountStateConflictError:()=>sc,AtomicReadyWalletRejectedUpgradeError:()=>ti,AtomicityNotSupportedError:()=>nn,BaseError:()=>P,BaseFeeScalarError:()=>Ec,BlockNotFoundError:()=>yi,BundleTooLargeError:()=>Qo,BytesSizeMismatchError:()=>To,CallExecutionError:()=>Do,ChainDisconnectedError:()=>Wo,ChainDoesNotSupportContract:()=>Yn,ChainMismatchError:()=>Dc,ChainNotFoundError:()=>Lc,CircularReferenceError:()=>_s,ClientChainNotConfiguredError:()=>Fs,ContractFunctionExecutionError:()=>mc,ContractFunctionRevertedError:()=>Dn,ContractFunctionZeroDataError:()=>hc,CounterfactualDeploymentFailedError:()=>yc,DecodeLogDataMismatch:()=>Xe,DecodeLogTopicsMismatch:()=>lr,DuplicateIdError:()=>Zo,EIP1193ProviderRpcError:()=>Km,Eip1559FeesNotSupportedError:()=>an,EnsAvatarInvalidNftUriError:()=>hn,EnsAvatarUnsupportedNamespaceError:()=>Yc,EnsAvatarUriResolutionError:()=>zi,EstimateGasExecutionError:()=>wc,ExecutionRevertedError:()=>nr,FeeCapTooHighError:()=>He,FeeCapTooLowError:()=>ii,FeeConflictError:()=>cc,FilterTypeNotSupportedError:()=>Fa,HttpRequestError:()=>Me,InsufficientFundsError:()=>ui,IntegerOutOfRangeError:()=>Uo,InternalRpcError:()=>Lr,IntrinsicGasTooHighError:()=>fi,IntrinsicGasTooLowError:()=>li,InvalidAbiDecodingTypeError:()=>Ka,InvalidAbiEncodingTypeError:()=>Ma,InvalidAbiItemError:()=>ls,InvalidAbiParameterError:()=>ds,InvalidAbiParametersError:()=>ms,InvalidAbiTypeParameterError:()=>xs,InvalidAddressError:()=>dt,InvalidArrayError:()=>Po,InvalidBytesBooleanError:()=>qa,InvalidChainIdError:()=>Jn,InvalidDecimalNumberError:()=>su,InvalidDefinitionTypeError:()=>Ra,InvalidDomainError:()=>Zc,InvalidFunctionModifierError:()=>gs,InvalidHexBooleanError:()=>$a,InvalidHexValueError:()=>ja,InvalidInputRpcError:()=>xr,InvalidLegacyVError:()=>ko,InvalidModifierError:()=>bs,InvalidParameterError:()=>hs,InvalidParamsRpcError:()=>Ho,InvalidParenthesisError:()=>Es,InvalidPrimaryTypeError:()=>Xc,InvalidRequestRpcError:()=>Mo,InvalidSerializableTransactionError:()=>uc,InvalidSerializedTransactionError:()=>Xr,InvalidSerializedTransactionTypeError:()=>fc,InvalidSignatureError:()=>Je,InvalidStorageKeySizeError:()=>lc,InvalidStructSignatureError:()=>vs,InvalidStructTypeError:()=>Qc,JsonRpcVersionUnsupportedError:()=>$o,LimitExceededRpcError:()=>Kn,MaxFeePerGasTooLowError:()=>Ac,MethodNotFoundRpcError:()=>Ko,MethodNotSupportedRpcError:()=>en,NonceMaxValueError:()=>ci,NonceTooHighError:()=>si,NonceTooLowError:()=>ai,ParseRpcError:()=>Lo,ProviderDisconnectedError:()=>Vo,ProviderRpcError:()=>ie,RawContractError:()=>br,ResourceNotFoundRpcError:()=>Fo,ResourceUnavailableRpcError:()=>qo,RpcError:()=>Gt,RpcRequestError:()=>gr,SizeExceedsPaddingSizeError:()=>Ps,SizeOverflowError:()=>Ga,SliceOffsetOutOfBoundsError:()=>Ts,SocketClosedError:()=>Qr,SolidityProtectedKeywordError:()=>ys,StateAssignmentConflictError:()=>ac,SwitchChainError:()=>Yo,TimeoutError:()=>Mn,TipAboveFeeCapError:()=>wr,TransactionExecutionError:()=>pc,TransactionNotFoundError:()=>No,TransactionReceiptNotFoundError:()=>zo,TransactionRejectedRpcError:()=>tn,TransactionTypeNotSupportedError:()=>pi,UnauthorizedProviderError:()=>jo,UnknownBundleIdError:()=>Xo,UnknownNodeError:()=>Fe,UnknownRpcError:()=>bc,UnknownSignatureError:()=>ws,UnknownTypeError:()=>ps,UnsupportedChainIdError:()=>Jo,UnsupportedNonOptionalCapabilityError:()=>rn,UnsupportedPackedAbiType:()=>Ha,UnsupportedProviderMethodError:()=>Go,UrlRequiredError:()=>Ri,UserRejectedRequestError:()=>Mr,WaitForCallsStatusTimeoutError:()=>Hf,WaitForTransactionReceiptTimeoutError:()=>dc,WebSocketRequestError:()=>Ns,assertCurrentChain:()=>$c,assertRequest:()=>pe,assertTransactionEIP1559:()=>Di,assertTransactionEIP2930:()=>ru,assertTransactionLegacy:()=>nu,blobsToCommitments:()=>gi,blobsToProofs:()=>xi,boolToBytes:()=>yy,boolToHex:()=>Us,bytesToBigInt:()=>uf,bytesToBool:()=>ff,bytesToHex:()=>rt,bytesToNumber:()=>er,bytesToRlp:()=>T2,bytesToString:()=>lf,ccipFetch:()=>zf,ccipRequest:()=>zf,checksumAddress:()=>kr,commitmentToVersionedHash:()=>Sc,commitmentsToVersionedHashes:()=>Tc,compactSignatureToHex:()=>kb,compactSignatureToSignature:()=>qT,concat:()=>It,concatBytes:()=>_y,concatHex:()=>Rt,createClient:()=>Ci,createNonceManager:()=>ub,createPublicClient:()=>XI,createTestClient:()=>sT,createTransport:()=>mn,createWalletClient:()=>zT,custom:()=>bE,decodeAbiParameters:()=>Ee,decodeDeployData:()=>HT,decodeErrorResult:()=>ec,decodeEventLog:()=>_i,decodeFunctionData:()=>pd,decodeFunctionResult:()=>me,defineBlock:()=>I_,defineChain:()=>oA,defineKzg:()=>Hm,defineTransaction:()=>A_,defineTransactionReceipt:()=>uE,defineTransactionRequest:()=>N2,deploylessCallViaBytecodeBytecode:()=>zc,deploylessCallViaFactoryBytecode:()=>od,domainSeparator:()=>xA,encodeAbiParameters:()=>Ht,encodeDeployData:()=>Zn,encodeErrorResult:()=>Nf,encodeEventTopics:()=>yr,encodeFunctionData:()=>bt,encodeFunctionResult:()=>dd,encodePacked:()=>wA,erc1155Abi:()=>X_,erc20Abi:()=>J_,erc20Abi_bytes32:()=>Z_,erc4626Abi:()=>tE,erc721Abi:()=>Q_,ethAddress:()=>Rm,etherUnits:()=>rc,extractChain:()=>sA,fallback:()=>xE,formatBlock:()=>Ds,formatEther:()=>Ro,formatGwei:()=>Nt,formatLog:()=>Wt,formatTransaction:()=>zs,formatTransactionReceipt:()=>Kf,formatTransactionRequest:()=>se,formatUnits:()=>ic,fromBlobs:()=>t6,fromBytes:()=>u2,fromHex:()=>hy,fromRlp:()=>Wf,getAbiItem:()=>le,getAddress:()=>re,getChainContractAddress:()=>$e,getContract:()=>aE,getContractAddress:()=>IA,getContractError:()=>Ae,getCreate2Address:()=>X0,getCreateAddress:()=>Z0,getEventSelector:()=>Rr,getEventSignature:()=>Rn,getFunctionSelector:()=>tr,getFunctionSignature:()=>Rn,getSerializedTransactionType:()=>fm,getTransactionType:()=>Bc,getTypesForEIP712Domain:()=>Vs,gweiUnits:()=>nc,hashDomain:()=>jf,hashMessage:()=>Li,hashStruct:()=>jd,hashTypedData:()=>tu,hexToBigInt:()=>tt,hexToBool:()=>Va,hexToBytes:()=>ft,hexToCompactSignature:()=>Cb,hexToNumber:()=>ot,hexToRlp:()=>P2,hexToSignature:()=>Rb,hexToString:()=>cp,http:()=>EE,isAddress:()=>ut,isAddressEqual:()=>Vt,isBytes:()=>Vf,isErc6492Signature:()=>iu,isHash:()=>Qd,isHex:()=>J,keccak256:()=>ct,labelhash:()=>Dd,maxInt104:()=>Y2,maxInt112:()=>J2,maxInt120:()=>Z2,maxInt128:()=>X2,maxInt136:()=>Q2,maxInt144:()=>tv,maxInt152:()=>ev,maxInt16:()=>L2,maxInt160:()=>rv,maxInt168:()=>nv,maxInt176:()=>ov,maxInt184:()=>iv,maxInt192:()=>sv,maxInt200:()=>av,maxInt208:()=>cv,maxInt216:()=>uv,maxInt224:()=>fv,maxInt232:()=>lv,maxInt24:()=>M2,maxInt240:()=>pv,maxInt248:()=>dv,maxInt256:()=>mv,maxInt32:()=>K2,maxInt40:()=>H2,maxInt48:()=>F2,maxInt56:()=>q2,maxInt64:()=>$2,maxInt72:()=>j2,maxInt8:()=>D2,maxInt80:()=>G2,maxInt88:()=>V2,maxInt96:()=>W2,maxUint104:()=>i_,maxUint112:()=>s_,maxUint120:()=>a_,maxUint128:()=>c_,maxUint136:()=>u_,maxUint144:()=>f_,maxUint152:()=>l_,maxUint16:()=>Wv,maxUint160:()=>p_,maxUint168:()=>d_,maxUint176:()=>m_,maxUint184:()=>h_,maxUint192:()=>y_,maxUint200:()=>b_,maxUint208:()=>g_,maxUint216:()=>x_,maxUint224:()=>w_,maxUint232:()=>v_,maxUint24:()=>Yv,maxUint240:()=>__,maxUint248:()=>E_,maxUint256:()=>hi,maxUint32:()=>Jv,maxUint40:()=>Zv,maxUint48:()=>Xv,maxUint56:()=>Qv,maxUint64:()=>t_,maxUint72:()=>e_,maxUint8:()=>Vv,maxUint80:()=>r_,maxUint88:()=>n_,maxUint96:()=>o_,minInt104:()=>Tv,minInt112:()=>Pv,minInt120:()=>Bv,minInt128:()=>Uv,minInt136:()=>Ov,minInt144:()=>Cv,minInt152:()=>Rv,minInt16:()=>yv,minInt160:()=>kv,minInt168:()=>Nv,minInt176:()=>zv,minInt184:()=>Dv,minInt192:()=>Lv,minInt200:()=>Mv,minInt208:()=>Kv,minInt216:()=>Hv,minInt224:()=>Fv,minInt232:()=>qv,minInt24:()=>bv,minInt240:()=>$v,minInt248:()=>jv,minInt256:()=>Gv,minInt32:()=>gv,minInt40:()=>xv,minInt48:()=>wv,minInt56:()=>vv,minInt64:()=>_v,minInt72:()=>Ev,minInt8:()=>hv,minInt80:()=>Av,minInt88:()=>Iv,minInt96:()=>Sv,multicall3Abi:()=>Hs,namehash:()=>ki,nonceManager:()=>oI,numberToBytes:()=>by,numberToHex:()=>C,offchainLookup:()=>b0,offchainLookupAbiItem:()=>hd,offchainLookupSignature:()=>y0,pad:()=>ue,padBytes:()=>my,padHex:()=>Re,parseAbi:()=>Oa,parseAbiItem:()=>Ca,parseAbiParameter:()=>fy,parseAbiParameters:()=>ly,parseCompactSignature:()=>Cb,parseErc6492Signature:()=>XA,parseEther:()=>tI,parseEventLogs:()=>Ei,parseGwei:()=>rI,parseSignature:()=>Rb,parseTransaction:()=>lm,parseUnits:()=>au,prepareEncodeFunctionData:()=>hp,presignMessagePrefix:()=>rm,publicActions:()=>zm,recoverAddress:()=>Ke,recoverMessageAddress:()=>om,recoverPublicKey:()=>Sp,recoverTransactionAddress:()=>VT,recoverTypedDataAddress:()=>im,ripemd160:()=>qA,rpcSchema:()=>pE,rpcTransactionType:()=>Hy,serializeAccessList:()=>Ws,serializeCompactSignature:()=>kb,serializeErc6492Signature:()=>um,serializeSignature:()=>el,serializeTransaction:()=>Zd,serializeTypedData:()=>Vd,setErrorConfig:()=>F1,setupKzg:()=>r6,sha256:()=>kp,shouldThrow:()=>k0,sidecarsToVersionedHashes:()=>XT,signatureToCompactSignature:()=>YT,signatureToHex:()=>el,size:()=>at,slice:()=>fe,sliceBytes:()=>of,sliceHex:()=>Zr,stringToBytes:()=>Qe,stringToHex:()=>ke,stringify:()=>st,testActions:()=>Dm,toBlobSidecars:()=>wi,toBlobs:()=>Kp,toBytes:()=>Bt,toEventHash:()=>kn,toEventSelector:()=>Rr,toEventSignature:()=>Rn,toFunctionHash:()=>kn,toFunctionSelector:()=>tr,toFunctionSignature:()=>Rn,toHex:()=>yt,toPrefixedMessage:()=>nm,toRlp:()=>Ie,transactionType:()=>xf,trim:()=>Pt,universalSignatureValidatorAbi:()=>Cf,universalSignatureValidatorByteCode:()=>id,validateTypedData:()=>eu,verifyHash:()=>jA,verifyMessage:()=>VA,verifyTypedData:()=>YA,walletActions:()=>Mm,webSocket:()=>LT,weiUnits:()=>p2,withCache:()=>gd,withRetry:()=>Gs,withTimeout:()=>Vc,zeroAddress:()=>ir,zeroHash:()=>ZA});var i6=m(()=>{Xu();cE();C0();Ff();gE();wE();AE();QI();aT();Tb();Pb();Ub();Gc();DT();MT();Wn();Ab();Rf();oc();Bp();am();eb();Et();nt();Up();Ln();gf();ei();Mc();Bs();L0();cb();Ky();on();dy();Dr();pr();Le();ef();Cd();vp();W0();KT();D0();zd();Op();$n();Co();FT();xp();Tf();f0();jn();Nr();kf();p0();Cs();De();Sy();m0();Pf();wf();Id();Fn();Nn();SA();sb();Hp();Gf();$T();jT();GT();oi();nb();Ly();WT();ob();JT();ZT();Ib();hf();GA();WA();JA();QA();cm();ib();qn();Jd();wt();Y();Py();g0();_f();Np();zp();QT();Ef();e6();If();Vy();Nb();n6();ne();wd();iA();aA();Ii();_A();v0();Od();Rd();df();Rs();wp();Ct();Q0();mr();ri();Wa();Os();BA();UA();OA();CA();Yf();rb();ze();cn();J0();tb();ve();Ne();jy();$A();Bo();eI();nI();ab();mm();Y0();Xd();Oe();hr();oe();On();Gd();iI()});function Zs(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Kb(t){if(!Zs(t))throw new Error("Uint8Array expected")}function yn(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function rl(t){let e=t.toString(16);return e.length&1?"0"+e:e}function c6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Mb:BigInt("0x"+t)}function Mi(t){if(Kb(t),u6)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=wR[t[r]];return e}function s6(t){if(t>=Xn._0&&t<=Xn._9)return t-Xn._0;if(t>=Xn.A&&t<=Xn.F)return t-(Xn.A-10);if(t>=Xn.a&&t<=Xn.f)return t-(Xn.a-10)}function nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(u6)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let s=s6(t.charCodeAt(i)),a=s6(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function Qn(t){return c6(Mi(t))}function Xs(t){return Kb(t),c6(Mi(Uint8Array.from(t).reverse()))}function Qs(t,e){return nl(t.toString(16).padStart(e*2,"0"))}function pu(t,e){return Qs(t,e).reverse()}function Ut(t,e,r){let n;if(typeof e=="string")try{n=nl(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Zs(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(t+" of length "+r+" expected, got "+o);return n}function Ki(...t){let e=0;for(let n=0;n<t.length;n++){let o=t[n];Kb(o),e+=o.length}let r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}function Fm(t,e,r){return zb(t)&&zb(e)&&zb(r)&&e<=t&&t<r}function sr(t,e,r,n){if(!Fm(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function f6(t){let e;for(e=0;t>Mb;t>>=Lb,e+=1);return e}function l6(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Db(t),o=Db(t),i=0,s=()=>{n.fill(1),o.fill(0),i=0},a=(...l)=>r(o,n,...l),c=(l=Db(0))=>{o=a(a6([0]),l),n=a(),l.length!==0&&(o=a(a6([1]),l),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,p=[];for(;l<e;){n=a();let d=n.slice();p.push(d),l+=n.length}return Ki(...p)};return(l,p)=>{s(),c(l);let d;for(;!(d=p(u()));)c();return s(),d}}function to(t,e,r={}){let n=(o,i,s)=>{let a=vR[i];if(typeof a!="function")throw new Error("invalid validator function");let c=t[o];if(!(s&&c===void 0)&&!a(c,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+c)};for(let[o,i]of Object.entries(e))n(o,i,!1);for(let[o,i]of Object.entries(r))n(o,i,!0);return t}function du(t){let e=new WeakMap;return(r,...n)=>{let o=e.get(r);if(o!==void 0)return o;let i=t(r,...n);return e.set(r,i),i}}var Mb,Lb,u6,wR,Xn,zb,ta,Db,a6,vR,ol=m(()=>{Mb=BigInt(0),Lb=BigInt(1);u6=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Xn={_0:48,_9:57,A:65,F:70,a:97,f:102};zb=t=>typeof t=="bigint"&&Mb<=t;ta=t=>(Lb<<BigInt(t))-Lb,Db=t=>new Uint8Array(t),a6=t=>Uint8Array.from(t);vR={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Zs(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function At(t,e){let r=t%e;return r>=Se?r:e+r}function Hr(t,e,r){let n=t;for(;e-- >Se;)n*=n,n%=r;return n}function qm(t,e){if(t===Se)throw new Error("invert: expected non-zero number");if(e<=Se)throw new Error("invert: expected positive modulus, got "+e);let r=At(t,e),n=e,o=Se,i=qt,s=qt,a=Se;for(;r!==Se;){let u=n/r,f=n%r,l=o-s*u,p=i-a*u;n=r,r=f,o=s,i=a,s=l,a=p}if(n!==qt)throw new Error("invert: does not exist");return At(o,e)}function IR(t){let e=t-qt,r=0;for(;e%ea===Se;)e/=ea,r++;let n=ea,o=Fr(t);for(;n<t&&m6(o,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1){let s=(t+qt)/Hb;return function(c,u){let f=c.pow(u,s);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}let i=(e+qt)/ea;return function(a,c){if(!m6(a,c))throw new Error("Cannot find square root");let u=r,f=a.pow(a.mul(a.ONE,n),e),l=a.pow(c,i),p=a.pow(c,e);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let d=1;for(let h=a.sqr(p);d<u&&!a.eql(h,a.ONE);d++)h=a.sqr(h);let b=a.pow(f,qt<<BigInt(u-d-1));f=a.sqr(b),l=a.mul(l,b),p=a.mul(p,f),u=d}return l}}function SR(t){return t%Hb===_R?function(r,n){let o=(t+qt)/Hb,i=r.pow(n,o);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}:t%d6===p6?function(r,n){let o=r.mul(n,ea),i=(t-p6)/d6,s=r.pow(o,i),a=r.mul(n,s),c=r.mul(r.mul(a,ea),s),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}:(t%AR,IR(t))}function Fb(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=TR.reduce((n,o)=>(n[o]="function",n),e);return to(t,r)}function PR(t,e,r){if(r<Se)throw new Error("invalid exponent, negatives unsupported");if(r===Se)return t.ONE;if(r===qt)return e;let n=t.ONE,o=e;for(;r>Se;)r&qt&&(n=t.mul(n,o)),o=t.sqr(o),r>>=qt;return n}function mu(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(o);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function BR(t,e){let r=(t.ORDER-qt)/ea,n=t.pow(e,r),o=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!o&&!i&&!s)throw new Error("Cannot find square root: probably non-prime P");return o?1:i?0:-1}function m6(t,e){let r=BR(t,e);return r===0||r===1}function qb(t,e){e!==void 0&&ur(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Fr(t,e,r=!1,n={}){if(t<=Se)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:o,nByteLength:i}=qb(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s,a=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:i,MASK:ta(o),ZERO:Se,ONE:qt,create:c=>At(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Se<=c&&c<t},is0:c=>c===Se,isOdd:c=>(c&qt)===qt,neg:c=>At(-c,t),eql:(c,u)=>c===u,sqr:c=>At(c*c,t),add:(c,u)=>At(c+u,t),sub:(c,u)=>At(c-u,t),mul:(c,u)=>At(c*u,t),pow:(c,u)=>PR(a,c,u),div:(c,u)=>At(c*qm(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>qm(c,t),sqrt:n.sqrt||(c=>(s||(s=SR(t)),s(a,c))),toBytes:c=>r?pu(c,i):Qs(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?Xs(c):Qn(c)},invertBatch:c=>mu(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function y6(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function $b(t){let e=y6(t);return e+Math.ceil(e/2)}function b6(t,e,r=!1){let n=t.length,o=y6(e),i=$b(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let s=r?Xs(t):Qn(t),a=At(s,e-qt)+qt;return r?pu(a,o):Qs(a,o)}var Se,qt,ea,_R,Hb,p6,d6,ER,AR,h6,TR,hu=m(()=>{Pe();ol();Se=BigInt(0),qt=BigInt(1),ea=BigInt(2),_R=BigInt(3),Hb=BigInt(4),p6=BigInt(5),d6=BigInt(8),ER=BigInt(9),AR=BigInt(16);h6=(t,e)=>(At(t,e)&qt)===qt,TR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function jb(t,e){let r=e.negate();return t?r:e}function w6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Gb(t,e){w6(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),o=2**t,i=ta(t),s=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:o,shiftBy:s}}function x6(t,e,r){let{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r,a=Number(t&o),c=t>>s;a>n&&(a-=i,c+=Yb);let u=e*n,f=u+Math.abs(a)-1,l=a===0,p=a<0,d=e%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:u}}function UR(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function OR(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Wb(t){return v6.get(t)||1}function $m(t,e){return{constTimeNegate:jb,hasPrecomputes(r){return Wb(r)!==1},unsafeLadder(r,n,o=t.ZERO){let i=r;for(;n>g6;)n&Yb&&(o=o.add(i)),i=i.double(),n>>=Yb;return o},precomputeWindow(r,n){let{windows:o,windowSize:i}=Gb(n,e),s=[],a=r,c=a;for(let u=0;u<o;u++){c=a,s.push(c);for(let f=1;f<i;f++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(r,n,o){let i=t.ZERO,s=t.BASE,a=Gb(r,e);for(let c=0;c<a.windows;c++){let{nextN:u,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:b}=x6(o,c,a);o=u,l?s=s.add(jb(d,n[b])):i=i.add(jb(p,n[f]))}return{p:i,f:s}},wNAFUnsafe(r,n,o,i=t.ZERO){let s=Gb(r,e);for(let a=0;a<s.windows&&o!==g6;a++){let{nextN:c,offset:u,isZero:f,isNeg:l}=x6(o,a,s);if(o=c,!f){let p=n[u];i=i.add(l?p.negate():p)}}return i},getPrecomputes(r,n,o){let i=Vb.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Vb.set(n,o(i))),i},wNAFCached(r,n,o){let i=Wb(r);return this.wNAF(i,this.getPrecomputes(i,r,o),n)},wNAFCachedUnsafe(r,n,o,i){let s=Wb(r);return s===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,r,o),n,i)},setWindowSize(r,n){w6(n,e),v6.set(r,n),Vb.delete(r)}}}function jm(t,e,r,n){if(UR(r,t),OR(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,i=f6(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=ta(s),c=new Array(Number(a)+1).fill(o),u=Math.floor((e.BITS-1)/s)*s,f=o;for(let l=u;l>=0;l-=s){c.fill(o);for(let d=0;d<n.length;d++){let b=n[d],h=Number(b>>BigInt(l)&a);c[h]=c[h].add(r[d])}let p=o;for(let d=c.length-1,b=o;d>0;d--)b=b.add(c[d]),p=p.add(b);if(f=f.add(p),l!==0)for(let d=0;d<s;d++)f=f.double()}return f}function il(t){return Fb(t.Fp),to(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var g6,Yb,Vb,v6,Jb=m(()=>{hu();ol();g6=BigInt(0),Yb=BigInt(1);Vb=new WeakMap,v6=new WeakMap});function _6(t){t.lowS!==void 0&&yn("lowS",t.lowS),t.prehash!==void 0&&yn("prehash",t.prehash)}function CR(t){let e=il(t);to(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}function RR(t){let e=CR(t),{Fp:r}=e,n=Fr(e.n,e.nBitLength),o=e.toBytes||((h,y,x)=>{let v=y.toAffine();return Ki(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),i=e.fromBytes||(h=>{let y=h.subarray(1),x=r.fromBytes(y.subarray(0,r.BYTES)),v=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x,y:v}});function s(h){let{a:y,b:x}=e,v=r.sqr(h),w=r.mul(v,h);return r.add(r.add(w,r.mul(h,y)),x)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(h){return Fm(h,Jt,e.n)}function c(h){let{allowedPrivateKeyLengths:y,nByteLength:x,wrapPrivateKey:v,n:w}=e;if(y&&typeof h!="bigint"){if(Zs(h)&&(h=Mi(h)),typeof h!="string"||!y.includes(h.length))throw new Error("invalid private key");h=h.padStart(x*2,"0")}let S;try{S=typeof h=="bigint"?h:Qn(Ut("private key",h,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof h)}return v&&(S=At(S,w)),sr("private key",S,Jt,w),S}function u(h){if(!(h instanceof p))throw new Error("ProjectivePoint expected")}let f=du((h,y)=>{let{px:x,py:v,pz:w}=h;if(r.eql(w,r.ONE))return{x,y:v};let S=h.is0();y==null&&(y=S?r.ONE:r.inv(w));let I=r.mul(x,y),T=r.mul(v,y),k=r.mul(w,y);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),l=du(h=>{if(h.is0()){if(e.allowInfinityPoint&&!r.is0(h.py))return;throw new Error("bad point: ZERO")}let{x:y,y:x}=h.toAffine();if(!r.isValid(y)||!r.isValid(x))throw new Error("bad point: x or y not FE");let v=r.sqr(x),w=s(y);if(!r.eql(v,w))throw new Error("bad point: equation left != right");if(!h.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(y,x,v){if(y==null||!r.isValid(y))throw new Error("x required");if(x==null||!r.isValid(x)||r.is0(x))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required");this.px=y,this.py=x,this.pz=v,Object.freeze(this)}static fromAffine(y){let{x,y:v}=y||{};if(!y||!r.isValid(x)||!r.isValid(v))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");let w=S=>r.eql(S,r.ZERO);return w(x)&&w(v)?p.ZERO:new p(x,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let x=mu(r,y.map(v=>v.pz));return y.map((v,w)=>v.toAffine(x[w])).map(p.fromAffine)}static fromHex(y){let x=p.fromAffine(i(Ut("pointHex",y)));return x.assertValidity(),x}static fromPrivateKey(y){return p.BASE.multiply(c(y))}static msm(y,x){return jm(p,n,y,x)}_setWindowSize(y){b.setWindowSize(this,y)}assertValidity(){l(this)}hasEvenY(){let{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);let{px:x,py:v,pz:w}=this,{px:S,py:I,pz:T}=y,k=r.eql(r.mul(x,T),r.mul(S,w)),R=r.eql(r.mul(v,T),r.mul(I,w));return k&&R}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){let{a:y,b:x}=e,v=r.mul(x,E6),{px:w,py:S,pz:I}=this,T=r.ZERO,k=r.ZERO,R=r.ZERO,E=r.mul(w,w),N=r.mul(S,S),g=r.mul(I,I),_=r.mul(w,S);return _=r.add(_,_),R=r.mul(w,I),R=r.add(R,R),T=r.mul(y,R),k=r.mul(v,g),k=r.add(T,k),T=r.sub(N,k),k=r.add(N,k),k=r.mul(T,k),T=r.mul(_,T),R=r.mul(v,R),g=r.mul(y,g),_=r.sub(E,g),_=r.mul(y,_),_=r.add(_,R),R=r.add(E,E),E=r.add(R,E),E=r.add(E,g),E=r.mul(E,_),k=r.add(k,E),g=r.mul(S,I),g=r.add(g,g),E=r.mul(g,_),T=r.sub(T,E),R=r.mul(g,N),R=r.add(R,R),R=r.add(R,R),new p(T,k,R)}add(y){u(y);let{px:x,py:v,pz:w}=this,{px:S,py:I,pz:T}=y,k=r.ZERO,R=r.ZERO,E=r.ZERO,N=e.a,g=r.mul(e.b,E6),_=r.mul(x,S),D=r.mul(v,I),B=r.mul(w,T),O=r.add(x,v),U=r.add(S,I);O=r.mul(O,U),U=r.add(_,D),O=r.sub(O,U),U=r.add(x,w);let z=r.add(S,T);return U=r.mul(U,z),z=r.add(_,B),U=r.sub(U,z),z=r.add(v,w),k=r.add(I,T),z=r.mul(z,k),k=r.add(D,B),z=r.sub(z,k),E=r.mul(N,U),k=r.mul(g,B),E=r.add(k,E),k=r.sub(D,E),E=r.add(D,E),R=r.mul(k,E),D=r.add(_,_),D=r.add(D,_),B=r.mul(N,B),U=r.mul(g,U),D=r.add(D,B),B=r.sub(_,B),B=r.mul(N,B),U=r.add(U,B),_=r.mul(D,U),R=r.add(R,_),_=r.mul(z,U),k=r.mul(O,k),k=r.sub(k,_),_=r.mul(O,D),E=r.mul(z,E),E=r.add(E,_),new p(k,R,E)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return b.wNAFCached(this,y,p.normalizeZ)}multiplyUnsafe(y){let{endo:x,n:v}=e;sr("scalar",y,ro,v);let w=p.ZERO;if(y===ro)return w;if(this.is0()||y===Jt)return this;if(!x||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,y,p.normalizeZ);let{k1neg:S,k1:I,k2neg:T,k2:k}=x.splitScalar(y),R=w,E=w,N=this;for(;I>ro||k>ro;)I&Jt&&(R=R.add(N)),k&Jt&&(E=E.add(N)),N=N.double(),I>>=Jt,k>>=Jt;return S&&(R=R.negate()),T&&(E=E.negate()),E=new p(r.mul(E.px,x.beta),E.py,E.pz),R.add(E)}multiply(y){let{endo:x,n:v}=e;sr("scalar",y,Jt,v);let w,S;if(x){let{k1neg:I,k1:T,k2neg:k,k2:R}=x.splitScalar(y),{p:E,f:N}=this.wNAF(T),{p:g,f:_}=this.wNAF(R);E=b.constTimeNegate(I,E),g=b.constTimeNegate(k,g),g=new p(r.mul(g.px,x.beta),g.py,g.pz),w=E.add(g),S=N.add(_)}else{let{p:I,f:T}=this.wNAF(y);w=I,S=T}return p.normalizeZ([w,S])[0]}multiplyAndAddUnsafe(y,x,v){let w=p.BASE,S=(T,k)=>k===ro||k===Jt||!T.equals(w)?T.multiplyUnsafe(k):T.multiply(k),I=S(this,x).add(S(y,v));return I.is0()?void 0:I}toAffine(y){return f(this,y)}isTorsionFree(){let{h:y,isTorsionFree:x}=e;if(y===Jt)return!0;if(x)return x(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:x}=e;return y===Jt?this:x?x(p,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return yn("isCompressed",y),this.assertValidity(),o(p,this,y)}toHex(y=!0){return yn("isCompressed",y),Mi(this.toRawBytes(y))}}p.BASE=new p(e.Gx,e.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,b=$m(p,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function kR(t){let e=il(t);return to(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function A6(t){let e=kR(t),{Fp:r,n}=e,o=r.BYTES+1,i=2*r.BYTES+1;function s(B){return At(B,n)}function a(B){return qm(B,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:l}=RR({...e,toBytes(B,O,U){let z=O.toAffine(),A=r.toBytes(z.x),M=Ki;return yn("isCompressed",U),U?M(Uint8Array.from([O.hasEvenY()?2:3]),A):M(Uint8Array.from([4]),A,r.toBytes(z.y))},fromBytes(B){let O=B.length,U=B[0],z=B.subarray(1);if(O===o&&(U===2||U===3)){let A=Qn(z);if(!Fm(A,Jt,r.ORDER))throw new Error("Point is not on curve");let M=f(A),K;try{K=r.sqrt(M)}catch(X){let Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}let H=(K&Jt)===Jt;return(U&1)===1!==H&&(K=r.neg(K)),{x:A,y:K}}else if(O===i&&U===4){let A=r.fromBytes(z.subarray(0,r.BYTES)),M=r.fromBytes(z.subarray(r.BYTES,2*r.BYTES));return{x:A,y:M}}else{let A=o,M=i;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+M+", got "+O)}}}),p=B=>Mi(Qs(B,e.nByteLength));function d(B){let O=n>>Jt;return B>O}function b(B){return d(B)?s(-B):B}let h=(B,O,U)=>Qn(B.slice(O,U));class y{constructor(O,U,z){sr("r",O,Jt,n),sr("s",U,Jt,n),this.r=O,this.s=U,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact(O){let U=e.nByteLength;return O=Ut("compactSignature",O,U*2),new y(h(O,0,U),h(O,U,2*U))}static fromDER(O){let{r:U,s:z}=eo.toSig(Ut("DER",O));return new y(U,z)}assertValidity(){}addRecoveryBit(O){return new y(this.r,this.s,O)}recoverPublicKey(O){let{r:U,s:z,recovery:A}=this,M=T(Ut("msgHash",O));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");let K=A===2||A===3?U+e.n:U;if(K>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let H=(A&1)===0?"02":"03",W=c.fromHex(H+p(K)),X=a(K),Q=s(-M*X),Z=s(z*X),et=c.BASE.multiplyAndAddUnsafe(W,Q,Z);if(!et)throw new Error("point at infinify");return et.assertValidity(),et}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return nl(this.toDERHex())}toDERHex(){return eo.hexFromSig(this)}toCompactRawBytes(){return nl(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let x={isValidPrivateKey(B){try{return u(B),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let B=$b(e.n);return b6(e.randomBytes(B),e.n)},precompute(B=8,O=c.BASE){return O._setWindowSize(B),O.multiply(BigInt(3)),O}};function v(B,O=!0){return c.fromPrivateKey(B).toRawBytes(O)}function w(B){let O=Zs(B),U=typeof B=="string",z=(O||U)&&B.length;return O?z===o||z===i:U?z===2*o||z===2*i:B instanceof c}function S(B,O,U=!0){if(w(B))throw new Error("first arg must be private key");if(!w(O))throw new Error("second arg must be public key");return c.fromHex(O).multiply(u(B)).toRawBytes(U)}let I=e.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");let O=Qn(B),U=B.length*8-e.nBitLength;return U>0?O>>BigInt(U):O},T=e.bits2int_modN||function(B){return s(I(B))},k=ta(e.nBitLength);function R(B){return sr("num < 2^"+e.nBitLength,B,ro,k),Qs(B,e.nByteLength)}function E(B,O,U=N){if(["recovered","canonical"].some(mt=>mt in U))throw new Error("sign() legacy options not supported");let{hash:z,randomBytes:A}=e,{lowS:M,prehash:K,extraEntropy:H}=U;M==null&&(M=!0),B=Ut("msgHash",B),_6(U),K&&(B=Ut("prehashed msgHash",z(B)));let W=T(B),X=u(O),Q=[R(X),R(W)];if(H!=null&&H!==!1){let mt=H===!0?A(r.BYTES):H;Q.push(Ut("extraEntropy",mt))}let Z=Ki(...Q),et=W;function gt(mt){let vt=I(mt);if(!l(vt))return;let $t=a(vt),_t=c.BASE.multiply(vt).toAffine(),ae=s(_t.x);if(ae===ro)return;let Ve=s($t*s(et+ae*X));if(Ve===ro)return;let Sr=(_t.x===ae?0:2)|Number(_t.y&Jt),Ou=Ve;return M&&d(Ve)&&(Ou=b(Ve),Sr^=1),new y(ae,Ou,Sr)}return{seed:Z,k2sig:gt}}let N={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};function _(B,O,U=N){let{seed:z,k2sig:A}=E(B,O,U),M=e;return l6(M.hash.outputLen,M.nByteLength,M.hmac)(z,A)}c.BASE._setWindowSize(8);function D(B,O,U,z=g){let A=B;O=Ut("msgHash",O),U=Ut("publicKey",U);let{lowS:M,prehash:K,format:H}=z;if(_6(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&H!=="compact"&&H!=="der")throw new Error("format must be compact or der");let W=typeof A=="string"||Zs(A),X=!W&&!H&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!W&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,Z;try{if(X&&(Q=new y(A.r,A.s)),W){try{H!=="compact"&&(Q=y.fromDER(A))}catch(Sr){if(!(Sr instanceof eo.Err))throw Sr}!Q&&H!=="der"&&(Q=y.fromCompact(A))}Z=c.fromHex(U)}catch{return!1}if(!Q||M&&Q.hasHighS())return!1;K&&(O=e.hash(O));let{r:et,s:gt}=Q,mt=T(O),vt=a(gt),$t=s(mt*vt),_t=s(et*vt),ae=c.BASE.multiplyAndAddUnsafe(Z,$t,_t)?.toAffine();return ae?s(ae.x)===et:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:S,sign:_,verify:D,ProjectivePoint:c,Signature:y,utils:x}}var Zb,eo,ro,Jt,ipt,E6,spt,I6=m(()=>{Jb();hu();ol();Zb=class extends Error{constructor(e=""){super(e)}},eo={Err:Zb,_tlv:{encode:(t,e)=>{let{Err:r}=eo;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,o=rl(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let i=n>127?rl(o.length/2|128):"";return rl(t)+i+o+e},decode(t,e){let{Err:r}=eo,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let o=e[n++],i=!!(o&128),s=0;if(!i)s=o;else{let c=o&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let f of u)s=s<<8|f;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=eo;if(t<ro)throw new e("integer: negative integers are not allowed");let r=rl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=eo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Qn(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=eo,o=Ut("signature",t),{v:i,l:s}=n.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,i),{v:u,l:f}=n.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){let{_tlv:e,_int:r}=eo,n=e.encode(2,r.encode(t.r)),o=e.encode(2,r.encode(t.s)),i=n+o;return e.encode(48,i)}},ro=BigInt(0),Jt=BigInt(1),ipt=BigInt(2),E6=BigInt(3),spt=BigInt(4)});function NR(t){return{hash:t,hmac:(e,...r)=>yo(t,e,Tt(...r)),randomBytes:Pr}}function Gm(t,e){let r=n=>A6({...t,...NR(n)});return{...r(e),create:r}}var S6=m(()=>{Hl();Pe();I6();});var T6,zR,DR,P6,B6,LR,MR,hpt,U6,KR,HR,ypt,O6=m(()=>{ga();S6();hu();T6=Fr(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),zR=T6.create(BigInt("-3")),DR=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),P6=Gm({a:zR,b:DR,Fp:T6,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Or),B6=Fr(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),LR=B6.create(BigInt("-3")),MR=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),hpt=Gm({a:LR,b:MR,Fp:B6,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},Ml),U6=Fr(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),KR=U6.create(BigInt("-3")),HR=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),ypt=Gm({a:KR,b:HR,Fp:U6,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},ba)});var Hi,Xb=m(()=>{O6();Hi=P6});function R6(t,e,r){return ku(t),r===void 0&&(r=new Uint8Array(t.outputLen)),yo(t,Gr(r),Gr(e))}function k6(t,e,r,n=32){ku(t),ur(n);let o=t.outputLen;if(n>255*o)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(n/o);r===void 0&&(r=C6);let s=new Uint8Array(i*o),a=yo.create(t,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let f=0;f<i;f++)Qb[0]=f+1,c.update(f===0?C6:u).update(r).update(Qb).digestInto(u),s.set(u,o*f),a._cloneInto(c);return a.destroy(),c.destroy(),Qt(u,Qb),s.slice(0,n)}var Qb,C6,N6=m(()=>{Hl();Pe();Qb=Uint8Array.from([0]),C6=Uint8Array.of()});function z6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function be(t,...e){if(!z6(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tg(t,e){be(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function D6(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function qr(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $r(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function jR(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function bu(t){if(typeof t=="string")t=jR(t);else if(z6(t))t=ra(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function L6(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function K6(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!al(e))throw new Error("invalid output, must be aligned");return e}function Vm(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}function H6(t,e,r){qR(r);let n=new Uint8Array(16),o=yu(n);return Vm(o,0,BigInt(e),r),Vm(o,8,BigInt(t),r),n}function al(t){return t.byteOffset%4===0}function ra(t){return Uint8Array.from(t)}var $R,M6,eg=m(()=>{$R=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;M6=(t,e)=>{function r(n,...o){if(be(n),!$R)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){let f=o[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?be(f):be(f,t.nonceLength)}let i=t.tagLength;i&&o[1]!==void 0&&be(o[1]);let s=e(n,...o),a=(f,l)=>{if(l!==void 0){if(f!==2)throw new Error("cipher output not supported");be(l)}},c=!1;return{encrypt(f,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,be(f),a(s.encrypt.length,l),s.encrypt(f,l)},decrypt(f,l){if(be(f),i&&f.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(s.decrypt.length,l),s.decrypt(f,l)}}}return Object.assign(r,t),r}});function WR(t){t.reverse();let e=t[15]&1,r=0;for(let n=0;n<t.length;n++){let o=t[n];t[n]=o>>>1|r,r=(o&1)<<7}return t[0]^=-e&225,t}function F6(t){let e=(n,o)=>t(o,n.length).update(bu(n)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(n,o)=>t(n,o),e}var no,ng,bn,GR,VR,Er,YR,Wm,rg,og,JR,q6=m(()=>{eg();no=16,ng=new Uint8Array(16),bn=qr(ng),GR=225,VR=(t,e,r,n)=>{let o=n&1;return{s3:r<<31|n>>>1,s2:e<<31|r>>>1,s1:t<<31|e>>>1,s0:t>>>1^GR<<24&-(o&1)}},Er=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;YR=t=>t>64*1024?8:t>1024?4:2,Wm=class{constructor(e,r){this.blockLen=no,this.outputLen=no,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=bu(e),be(e,16);let n=yu(e),o=n.getUint32(0,!1),i=n.getUint32(4,!1),s=n.getUint32(8,!1),a=n.getUint32(12,!1),c=[];for(let b=0;b<128;b++)c.push({s0:Er(o),s1:Er(i),s2:Er(s),s3:Er(a)}),{s0:o,s1:i,s2:s,s3:a}=VR(o,i,s,a);let u=YR(r||1024);if(![1,2,4,8].includes(u))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=u;let l=128/u,p=this.windowSize=2**u,d=[];for(let b=0;b<l;b++)for(let h=0;h<p;h++){let y=0,x=0,v=0,w=0;for(let S=0;S<u;S++){if(!(h>>>u-S-1&1))continue;let{s0:T,s1:k,s2:R,s3:E}=c[u*b+S];y^=T,x^=k,v^=R,w^=E}d.push({s0:y,s1:x,s2:v,s3:w})}this.t=d}_updateBlock(e,r,n,o){e^=this.s0,r^=this.s1,n^=this.s2,o^=this.s3;let{W:i,t:s,windowSize:a}=this,c=0,u=0,f=0,l=0,p=(1<<i)-1,d=0;for(let b of[e,r,n,o])for(let h=0;h<4;h++){let y=b>>>8*h&255;for(let x=8/i-1;x>=0;x--){let v=y>>>i*x&p,{s0:w,s1:S,s2:I,s3:T}=s[d*a+v];c^=w,u^=S,f^=I,l^=T,d+=1}}this.s0=c,this.s1=u,this.s2=f,this.s3=l}update(e){sl(this),e=bu(e),be(e);let r=qr(e),n=Math.floor(e.length/no),o=e.length%no;for(let i=0;i<n;i++)this._updateBlock(r[i*4+0],r[i*4+1],r[i*4+2],r[i*4+3]);return o&&(ng.set(e.subarray(n*no)),this._updateBlock(bn[0],bn[1],bn[2],bn[3]),$r(bn)),this}destroy(){let{t:e}=this;for(let r of e)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(e){sl(this),tg(e,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:i}=this,s=qr(e);return s[0]=r,s[1]=n,s[2]=o,s[3]=i,e}digest(){let e=new Uint8Array(no);return this.digestInto(e),this.destroy(),e}},rg=class extends Wm{constructor(e,r){e=bu(e),be(e);let n=WR(ra(e));super(n,r),$r(n)}update(e){e=bu(e),sl(this);let r=qr(e),n=e.length%no,o=Math.floor(e.length/no);for(let i=0;i<o;i++)this._updateBlock(Er(r[i*4+3]),Er(r[i*4+2]),Er(r[i*4+1]),Er(r[i*4+0]));return n&&(ng.set(e.subarray(o*no)),this._updateBlock(Er(bn[3]),Er(bn[2]),Er(bn[1]),Er(bn[0])),$r(bn)),this}digestInto(e){sl(this),tg(e,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:i}=this,s=qr(e);return s[0]=r,s[1]=n,s[2]=o,s[3]=i,e.reverse()}};og=F6((t,e)=>new Wm(t,e)),JR=F6((t,e)=>new rg(t,e))});function ag(t){return t<<1^XR&-(t>>7)}function $6(t,e){let r=0;for(;e>0;e>>=1)r^=t&-(e&1),t=ag(t);return r}function ek(t,e){if(t.length!==256)throw new Error("Wrong sbox length");let r=new Uint32Array(256).map((u,f)=>e(t[f])),n=r.map(ig),o=n.map(ig),i=o.map(ig),s=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let u=0;u<256;u++)for(let f=0;f<256;f++){let l=u*256+f;s[l]=r[u]^n[f],a[l]=o[u]^i[f],c[l]=t[u]<<8|t[f]}return{sbox:t,sbox2:c,T0:r,T1:n,T2:o,T3:i,T01:s,T23:a}}function nk(t){be(t);let e=t.length;if(![16,24,32].includes(e))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+e);let{sbox2:r}=G6,n=[];al(t)||n.push(t=ra(t));let o=qr(t),i=o.length,s=c=>cl(r,c,c,c,c),a=new Uint32Array(e+28);a.set(o);for(let c=i;c<a.length;c++){let u=a[c-1];c%i===0?u=s(tk(u))^rk[c/i-1]:i>6&&c%i===4&&(u=s(u)),a[c]=a[c-i]^u}return $r(...n),a}function Jm(t,e,r,n,o,i){return t[r<<8&65280|n>>>8&255]^e[o>>>8&65280|i>>>24&255]}function cl(t,e,r,n,o){return t[e&255|r&65280]|t[n>>>16&255|o>>>16&65280]<<16}function j6(t,e,r,n,o){let{sbox2:i,T01:s,T23:a}=G6,c=0;e^=t[c++],r^=t[c++],n^=t[c++],o^=t[c++];let u=t.length/4-2;for(let b=0;b<u;b++){let h=t[c++]^Jm(s,a,e,r,n,o),y=t[c++]^Jm(s,a,r,n,o,e),x=t[c++]^Jm(s,a,n,o,e,r),v=t[c++]^Jm(s,a,o,e,r,n);e=h,r=y,n=x,o=v}let f=t[c++]^cl(i,e,r,n,o),l=t[c++]^cl(i,r,n,o,e),p=t[c++]^cl(i,n,o,e,r),d=t[c++]^cl(i,o,e,r,n);return{s0:f,s1:l,s2:p,s3:d}}function Zm(t,e,r,n,o){be(r,sg),be(n),o=K6(n.length,o);let i=r,s=qr(i),a=yu(i),c=qr(n),u=qr(o),f=e?0:12,l=n.length,p=a.getUint32(f,e),{s0:d,s1:b,s2:h,s3:y}=j6(t,s[0],s[1],s[2],s[3]);for(let v=0;v+4<=c.length;v+=4)u[v+0]=c[v+0]^d,u[v+1]=c[v+1]^b,u[v+2]=c[v+2]^h,u[v+3]=c[v+3]^y,p=p+1>>>0,a.setUint32(f,p,e),{s0:d,s1:b,s2:h,s3:y}=j6(t,s[0],s[1],s[2],s[3]);let x=sg*Math.floor(c.length/ZR);if(x<l){let v=new Uint32Array([d,b,h,y]),w=D6(v);for(let S=x,I=0;S<l;S++,I++)o[S]=n[S]^w[I];$r(v)}return o}function ok(t,e,r,n,o){let i=o?o.length:0,s=t.create(r,n.length+i);o&&s.update(o);let a=H6(8*n.length,8*i,e);s.update(n),s.update(a);let c=s.digest();return $r(a),c}var sg,ZR,Ym,XR,QR,tk,ig,G6,rk,cg,V6=m(()=>{q6();eg();sg=16,ZR=4,Ym=new Uint8Array(sg),XR=283;QR=(()=>{let t=new Uint8Array(256);for(let r=0,n=1;r<256;r++,n^=ag(n))t[r]=n;let e=new Uint8Array(256);e[0]=99;for(let r=0;r<255;r++){let n=t[255-r];n|=n<<8,e[t[r]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return $r(t),e})(),tk=t=>t<<24|t>>>8,ig=t=>t<<8|t>>>24;G6=ek(QR,t=>$6(t,3)<<24|t<<16|t<<8|$6(t,2)),rk=(()=>{let t=new Uint8Array(16);for(let e=0,r=1;e<16;e++,r=ag(r))t[e]=r;return t})();cg=M6({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(e,r,n){if(r.length<8)throw new Error("aes/gcm: invalid nonce length");let o=16;function i(a,c,u){let f=ok(og,!1,a,u,n);for(let l=0;l<c.length;l++)f[l]^=c[l];return f}function s(){let a=nk(e),c=Ym.slice(),u=Ym.slice();if(Zm(a,!1,u,u,c),r.length===12)u.set(r);else{let l=Ym.slice(),p=yu(l);Vm(p,8,BigInt(r.length*8),!1);let d=og.create(c).update(r).update(l);d.digestInto(u),d.destroy()}let f=Zm(a,!1,u,Ym);return{xk:a,authKey:c,counter:u,tagMask:f}}return{encrypt(a){let{xk:c,authKey:u,counter:f,tagMask:l}=s(),p=new Uint8Array(a.length+o),d=[c,u,f,l];al(a)||d.push(a=ra(a)),Zm(c,!1,f,a,p.subarray(0,a.length));let b=i(u,l,p.subarray(0,p.length-o));return d.push(b),p.set(b,a.length),$r(...d),p},decrypt(a){let{xk:c,authKey:u,counter:f,tagMask:l}=s(),p=[c,u,l,f];al(a)||p.push(a=ra(a));let d=a.subarray(0,-o),b=a.subarray(-o),h=i(u,l,d);if(p.push(h),!L6(h,b))throw new Error("aes/gcm: invalid ghash tag");let y=Zm(c,!1,f,d);return $r(...p),y}}})});var W6,Xm,ik,Y6=m(()=>{W6=(t,e)=>{if(e<=BigInt(0))throw new Error("p must be positive");let r=t%e;if(Xm(e,0)&&Xm(e,1)){let n=e+BigInt(1)>>BigInt(2),o=ik(r,n,e);if(o*o%e!==r)throw new Error("could not find a modular square root");return o}throw new Error("unsupported modulus value")},Xm=(t,e)=>{let r=BigInt(1)<<BigInt(e);return(t&r)!==BigInt(0)},ik=(t,e,r)=>{if(e===BigInt(0))return BigInt(1);let n=t%r,o=e.toString(2);for(let i=1;i<o.length;++i)n=n*n%r,o[i]==="1"&&(n=n*t%r);return n}});var na,Qm,ul,th,eh,rh,nh,oh,ug,J6,fg=m(()=>{na=new Uint8Array([75,69,77,0,16]),Qm=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),ul=new Uint8Array([72,80,75,69,45,118,49]),th=new Uint8Array([115,101,99,114,101,116]),eh=new Uint8Array([101,97,101,95,112,114,107]),rh=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),nh=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),oh=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),ug="04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569",J6="04d498aa87ac3bf982ac2b5dd9604d0074905cfbda5d62727c5a237b895e6749205e9f7cd566909c4387f6ca25c308445c60884b788560b785f4a96ac33702a469"});var fl,ll,X6,pl,dl,lg,ml,Q6,hl,xu,gu,pg,oo,dg,tP,sk,mg,Z6,yl,eP,hg=m(()=>{Xb();N6();Af();V6();Pe();cr();Y6();fg();fl=(t,e=!0)=>Hi.getPublicKey(t,e),ll=({plainTextBuf:t,targetKeyBuf:e})=>{try{let r=lg(),n=pt(r.privateKey),o=pt(r.publicKeyUncompressed),i=ml(o,e),s=dg(e,xt(n)),a=mg(o,xt(e)),c=gu(eh,s,na),u=pg(rh,a,na,32),f=oo(new Uint8Array([]),c,u,32);c=gu(th,new Uint8Array([]),Qm),u=nh;let l=oo(f,c,u,32);u=oh;let p=oo(f,c,u,12),d=tP(t,l,p,i),b=hl(o),h=new Uint8Array(b.length+d.length);return h.set(b,0),h.set(d,b.length),h}catch(r){throw new Error(`Unable to perform hpkeEncrypt: ${r}`)}},X6=({plainTextBuf:t,targetKeyBuf:e,senderPriv:r})=>{try{let n=pt(r),o=fl(r,!1),i=ml(o,e),s=dg(e,xt(n)),a=mg(o,xt(e)),c=gu(eh,s,na),u=pg(rh,a,na,32),f=oo(new Uint8Array([]),c,u,32);c=gu(th,new Uint8Array([]),Qm),u=nh;let l=oo(f,c,u,32);u=oh;let p=oo(f,c,u,12),d=tP(t,l,p,i),b=hl(o),h=new Uint8Array(b.length+d.length);return h.set(b,0),h.set(d,b.length),h}catch(n){throw new Error(`Unable to perform hpkeEncrypt: ${n}`)}},pl=t=>{let e=t.slice(0,33),r=t.slice(33),n=xt(xu(e)),o=xt(r);return JSON.stringify({encappedPublic:n,ciphertext:o})},dl=({ciphertextBuf:t,encappedKeyBuf:e,receiverPriv:r})=>{try{let n,o,i=fl(pt(r),!1),s=ml(e,i),a=dg(e,r),c=mg(e,xt(i));n=gu(eh,a,na),o=pg(rh,c,na,32);let u=oo(new Uint8Array([]),n,o,32);n=gu(th,new Uint8Array([]),Qm),o=nh;let f=oo(u,n,o,32);o=oh;let l=oo(u,n,o,12);return sk(t,f,l,s)}catch(n){throw new Error(`Unable to perform hpkeDecrypt: ${n} `)}},lg=()=>{let t=Pr(32),e=fl(t,!0),r=xt(xu(e));return{privateKey:xt(t),publicKey:xt(e),publicKeyUncompressed:r}},ml=(t,e)=>new Uint8Array([...Array.from(t),...Array.from(e)]),Q6=t=>t.slice(36,68),hl=t=>{let e=t.byteLength;var r=t.slice(0,1+e>>>1);return r[0]=2|t[e-1]&1,r},xu=t=>{if(t.length!==33)throw new Error("failed to uncompress raw public key: invalid length");if(!(t[0]===2||t[0]===3))throw new Error("failed to uncompress raw public key: invalid prefix");let e=t[0]===3,r=BigInt("0x"+xt(t.subarray(1))),n=BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951"),o=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b "),i=n-BigInt(3),s=((r*r+i)*r+o)%n,a=W6(s,n);if(e!==Xm(a,0)&&(a=(n-a)%n),r<BigInt(0)||r>=n)throw new Error("x is out of range");if(a<BigInt(0)||a>=n)throw new Error("y is out of range");var c="04"+Z6(r,64)+Z6(a,64);return pt(c)},gu=(t,e,r)=>{let n=ul.length+r.length+t.length+e.length,o=new Uint8Array(n),i=0;return o.set(ul,i),i+=ul.length,o.set(r,i),i+=r.length,o.set(t,i),i+=t.length,o.set(e,i),o},pg=(t,e,r,n)=>{let i=new Uint8Array(9+r.byteLength+t.byteLength+e.byteLength);return i.set(new Uint8Array([0,n]),0),i.set(ul,2),i.set(r,9),i.set(t,9+r.byteLength),i.set(e,9+r.byteLength+t.byteLength),i},oo=(t,e,r,n)=>{let o=R6(or,e,t),i=k6(or,o,r,n);return new Uint8Array(i)},dg=(t,e)=>Hi.getSharedSecret(pt(e),t).slice(1),tP=(t,e,r,n)=>cg(e,r,n).encrypt(t),sk=(t,e,r,n)=>cg(e,r,n).decrypt(t),mg=(t,e)=>{let r=new Uint8Array(t),n=pt(e),o=new Uint8Array(r.length+n.length);return o.set(r),o.set(n,r.length),o},Z6=(t,e)=>{let r=t.toString(16);if(r.length>e)throw new Error(`number cannot fit in a hex string of ${e} characters`);return r.padStart(e,"0")},yl=t=>{let e=pt(t);if(e.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(e[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let r=1,n=e[r];if(n<=127){if(e.length<2+n)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");r+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");r++;let o=e[r];if(o>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");r++;let i=e.slice(r,r+o);if(r+=o,e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");r++;let s=e[r];if(s>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");r++;let a=e.slice(r,r+s),c=vh(i,32),u=vh(a,32);return new Uint8Array([...c,...u])},eP=t=>{let e=pt(t),r=e.slice(0,32),n=e.slice(32,64),o=c=>{if(c===void 0||c.length===0||c[0]===void 0)throw new Error("Invalid integer: input is undefined or empty.");let f=c[0]&128?new Uint8Array([0,...c]):c;return new Uint8Array([2,f.length,...f])},i=o(r),s=o(n),a=new Uint8Array([48,i.length+s.length,...i,...s]);return xt(a)}});function ak(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){let f=t.charAt(u),l=f.charCodeAt(0);if(e[l]!==255)throw new TypeError(f+" is ambiguous");e[l]=u}let r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let f=0,l=0,p=0,d=u.length;for(;p!==d&&u[p]===0;)p++,f++;let b=(d-p)*i+1>>>0,h=new Uint8Array(b);for(;p!==d;){let v=u[p],w=0;for(let S=b-1;(v!==0||w<l)&&S!==-1;S--,w++)v+=256*h[S]>>>0,h[S]=v%r>>>0,v=v/r>>>0;if(v!==0)throw new Error("Non-zero carry");l=w,p++}let y=b-l;for(;y!==b&&h[y]===0;)y++;let x=n.repeat(f);for(;y<b;++y)x+=t.charAt(h[y]);return x}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let f=0,l=0,p=0;for(;u[f]===n;)l++,f++;let d=(u.length-f)*o+1>>>0,b=new Uint8Array(d);for(;f<u.length;){let v=u.charCodeAt(f);if(v>255)return;let w=e[v];if(w===255)return;let S=0;for(let I=d-1;(w!==0||S<p)&&I!==-1;I--,S++)w+=r*b[I]>>>0,b[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");p=S,f++}let h=d-p;for(;h!==d&&b[h]===0;)h++;let y=new Uint8Array(l+(d-h)),x=l;for(;h!==d;)y[x++]=b[h++];return y}function c(u){let f=a(u);if(f)return f;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var rP,nP=m(()=>{rP=ak});var yg={};ar(yg,{default:()=>bl});var ck,bl,bg=m(()=>{nP();ck="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bl=rP(ck)});function oP(t){function e(i){var s=Uint8Array.from(i),a=t(s),c=s.length+4,u=new Uint8Array(c);return u.set(s,0),u.set(a.subarray(0,4),s.length),bl.encode(u)}function r(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(i){var s=bl.decodeUnsafe(i);if(s!=null)return r(s)}function o(i){var s=bl.decode(i),a=r(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}}var iP=m(()=>{"use strict";bg()});var gg={};ar(gg,{default:()=>fk});function uk(t){return or(or(t))}var fk,xg=m(()=>{"use strict";Af();iP();fk=oP(uk)});function lk(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var sP,aP=m(()=>{xg();sP=lk(gg)});function pk(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var wg,cP=m(()=>{bg();wg=pk(yg)});function hk(t){let e=il(t);return to(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fP(t){let e=hk(t),{Fp:r,n,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=e,u=uP<<BigInt(a*8)-Te,f=r.create,l=Fr(e.n,e.nBitLength),p=e.uvRatio||((z,A)=>{try{return{isValid:!0,value:r.sqrt(z*r.inv(A))}}catch{return{isValid:!1,value:gn}}}),d=e.adjustScalarBytes||(z=>z),b=e.domain||((z,A,M)=>{if(yn("phflag",M),A.length||M)throw new Error("Contexts/pre-hash are not supported");return z});function h(z,A,M=!1){let K=M?Te:gn;sr("coordinate "+z,A,K,u)}function y(z){if(!(z instanceof w))throw new Error("ExtendedPoint expected")}let x=du((z,A)=>{let{ex:M,ey:K,ez:H}=z,W=z.is0();A==null&&(A=W?dk:r.inv(H));let X=f(M*A),Q=f(K*A),Z=f(H*A);if(W)return{x:gn,y:Te};if(Z!==Te)throw new Error("invZ was invalid");return{x:X,y:Q}}),v=du(z=>{let{a:A,d:M}=e;if(z.is0())throw new Error("bad point: ZERO");let{ex:K,ey:H,ez:W,et:X}=z,Q=f(K*K),Z=f(H*H),et=f(W*W),gt=f(et*et),mt=f(Q*A),vt=f(et*f(mt+Z)),$t=f(gt+f(M*f(Q*Z)));if(vt!==$t)throw new Error("bad point: equation left != right (1)");let _t=f(K*H),ae=f(W*X);if(_t!==ae)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(A,M,K,H){h("x",A),h("y",M),h("z",K,!0),h("t",H),this.ex=A,this.ey=M,this.ez=K,this.et=H,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof w)throw new Error("extended point not allowed");let{x:M,y:K}=A||{};return h("x",M),h("y",K),new w(M,K,Te,f(M*K))}static normalizeZ(A){let M=mu(r,A.map(K=>K.ez));return A.map((K,H)=>K.toAffine(M[H])).map(w.fromAffine)}static msm(A,M){return jm(w,l,A,M)}_setWindowSize(A){T.setWindowSize(this,A)}assertValidity(){v(this)}equals(A){y(A);let{ex:M,ey:K,ez:H}=this,{ex:W,ey:X,ez:Q}=A,Z=f(M*Q),et=f(W*H),gt=f(K*Q),mt=f(X*H);return Z===et&&gt===mt}is0(){return this.equals(w.ZERO)}negate(){return new w(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:A}=e,{ex:M,ey:K,ez:H}=this,W=f(M*M),X=f(K*K),Q=f(uP*f(H*H)),Z=f(A*W),et=M+K,gt=f(f(et*et)-W-X),mt=Z+X,vt=mt-Q,$t=Z-X,_t=f(gt*vt),ae=f(mt*$t),Ve=f(gt*$t),Sr=f(vt*mt);return new w(_t,ae,Sr,Ve)}add(A){y(A);let{a:M,d:K}=e,{ex:H,ey:W,ez:X,et:Q}=this,{ex:Z,ey:et,ez:gt,et:mt}=A,vt=f(H*Z),$t=f(W*et),_t=f(Q*K*mt),ae=f(X*gt),Ve=f((H+W)*(Z+et)-vt-$t),Sr=ae-_t,Ou=ae+_t,vx=f($t-M*vt),K5=f(Ve*Sr),H5=f(Ou*vx),F5=f(Ve*vx),q5=f(Sr*Ou);return new w(K5,H5,q5,F5)}subtract(A){return this.add(A.negate())}wNAF(A){return T.wNAFCached(this,A,w.normalizeZ)}multiply(A){let M=A;sr("scalar",M,Te,n);let{p:K,f:H}=this.wNAF(M);return w.normalizeZ([K,H])[0]}multiplyUnsafe(A,M=w.ZERO){let K=A;return sr("scalar",K,gn,n),K===gn?I:this.is0()||K===Te?this:T.wNAFCachedUnsafe(this,K,w.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,n).is0()}toAffine(A){return x(this,A)}clearCofactor(){let{h:A}=e;return A===Te?this:this.multiplyUnsafe(A)}static fromHex(A,M=!1){let{d:K,a:H}=e,W=r.BYTES;A=Ut("pointHex",A,W),yn("zip215",M);let X=A.slice(),Q=A[W-1];X[W-1]=Q&-129;let Z=Xs(X),et=M?u:r.ORDER;sr("pointHex.y",Z,gn,et);let gt=f(Z*Z),mt=f(gt-Te),vt=f(K*gt-H),{isValid:$t,value:_t}=p(mt,vt);if(!$t)throw new Error("Point.fromHex: invalid y coordinate");let ae=(_t&Te)===Te,Ve=(Q&128)!==0;if(!M&&_t===gn&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==ae&&(_t=f(-_t)),w.fromAffine({x:_t,y:Z})}static fromPrivateKey(A){let{scalar:M}=E(A);return S.multiply(M)}toRawBytes(){let{x:A,y:M}=this.toAffine(),K=pu(M,r.BYTES);return K[K.length-1]|=A&Te?128:0,K}toHex(){return Mi(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Te,f(e.Gx*e.Gy)),w.ZERO=new w(gn,Te,Te,gn);let{BASE:S,ZERO:I}=w,T=$m(w,a*8);function k(z){return At(z,n)}function R(z){return k(Xs(z))}function E(z){let A=r.BYTES;z=Ut("private key",z,A);let M=Ut("hashed private key",i(z),2*A),K=d(M.slice(0,A)),H=M.slice(A,2*A),W=R(K);return{head:K,prefix:H,scalar:W}}function N(z){let{head:A,prefix:M,scalar:K}=E(z),H=S.multiply(K),W=H.toRawBytes();return{head:A,prefix:M,scalar:K,point:H,pointBytes:W}}function g(z){return N(z).pointBytes}function _(z=Uint8Array.of(),...A){let M=Ki(...A);return R(i(b(M,Ut("context",z),!!o)))}function D(z,A,M={}){z=Ut("message",z),o&&(z=o(z));let{prefix:K,scalar:H,pointBytes:W}=N(A),X=_(M.context,K,z),Q=S.multiply(X).toRawBytes(),Z=_(M.context,Q,W,z),et=k(X+Z*H);sr("signature.s",et,gn,n);let gt=Ki(Q,pu(et,r.BYTES));return Ut("result",gt,r.BYTES*2)}let B=mk;function O(z,A,M,K=B){let{context:H,zip215:W}=K,X=r.BYTES;z=Ut("signature",z,2*X),A=Ut("message",A),M=Ut("publicKey",M,X),W!==void 0&&yn("zip215",W),o&&(A=o(A));let Q=Xs(z.slice(X,2*X)),Z,et,gt;try{Z=w.fromHex(M,W),et=w.fromHex(z.slice(0,X),W),gt=S.multiplyUnsafe(Q)}catch{return!1}if(!W&&Z.isSmallOrder())return!1;let mt=_(H,et.toRawBytes(),Z.toRawBytes(),A);return et.add(Z.multiplyUnsafe(mt)).subtract(gt).clearCofactor().equals(w.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:g,sign:D,verify:O,ExtendedPoint:w,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>s(r.BYTES),precompute(z=8,A=w.BASE){return A._setWindowSize(z),A.multiply(BigInt(3)),A}}}}var gn,Te,uP,dk,mk,lP=m(()=>{Jb();hu();ol();gn=BigInt(0),Te=BigInt(1),uP=BigInt(2),dk=BigInt(8),mk={zip215:!0}});function xk(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=vg,a=t*t%i*t%i,c=Hr(a,dP,i)*a%i,u=Hr(c,yk,i)*t%i,f=Hr(u,bk,i)*u%i,l=Hr(f,e,i)*f%i,p=Hr(l,r,i)*l%i,d=Hr(p,n,i)*p%i,b=Hr(d,o,i)*d%i,h=Hr(b,o,i)*d%i,y=Hr(h,e,i)*f%i;return{pow_p_5_8:Hr(y,dP,i)*t%i,b2:a}}function wk(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function vk(t,e){let r=vg,n=At(e*e*e,r),o=At(n*n*e,r),i=xk(t*o).pow_p_5_8,s=At(t*n*i,r),a=At(e*s*s,r),c=s,u=At(s*pP,r),f=a===t,l=a===At(-t,r),p=a===At(-t*pP,r);return f&&(s=c),(l||p)&&(s=u),h6(s,r)&&(s=At(-s,r)),{isValid:f||l,value:s}}var vg,pP,sdt,yk,dP,adt,bk,gk,mP,_k,hP,yP=m(()=>{ga();Pe();lP();hu();vg=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),pP=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),sdt=BigInt(0),yk=BigInt(1),dP=BigInt(2),adt=BigInt(3),bk=BigInt(5),gk=BigInt(8);mP=Fr(vg,void 0,!0),_k={a:mP.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:mP,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:gk,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ba,randomBytes:Pr,adjustScalarBytes:wk,uvRatio:vk},hP=fP(_k)});var bP,gP,xP,_g,wP,Ek,vP,_P,EP,AP=m(()=>{aP();cP();cr();fg();hg();Xb();yP();Af();bP=(t,e)=>{try{let r=sP.decode(t);if(r.byteLength<=33)throw new Error(`Bundle size ${r.byteLength} is too low. Expecting a compressed public key (33 bytes) and an encrypted credential.`);let n=r.slice(0,33),o=r.slice(33),i=xu(n),s=dl({ciphertextBuf:o,encappedKeyBuf:i,receiverPriv:e});return xt(s)}catch(r){throw new Error(`"Error decrypting bundle:", ${r}`)}},gP=async({exportBundle:t,embeddedKey:e,organizationId:r,dangerouslyOverrideSignerPublicKey:n,keyFormat:o,returnMnemonic:i})=>{try{let s=JSON.parse(t);if(!await _g(s.enclaveQuorumPublic,s.dataSignature,s.data,n))throw new Error(`failed to verify enclave signature: ${s}`);let c=JSON.parse(new TextDecoder().decode(pt(s.data)));if(!c.organizationId||c.organizationId!==r)throw new Error(`organization id does not match expected value. Expected: ${r}. Found: ${c.organizationId}.`);if(!c.encappedPublic)throw new Error('missing "encappedPublic" in bundle signed data');let u=pt(c.encappedPublic),f=pt(c.ciphertext),l=dl({ciphertextBuf:f,encappedKeyBuf:u,receiverPriv:e});if(o==="SOLANA"&&!i){if(l.length!==32)throw new Error(`invalid private key length. Expected 32 bytes. Got ${l.length}.`);let d=hP.getPublicKey(l);if(d.length!==32)throw new Error(`invalid public key length. Expected 32 bytes. Got ${d.length}.`);let b=new Uint8Array(64);return b.set(l,0),b.set(d,32),wg.encode(b)}let p=xt(l);return i?Ax(p):p}catch(s){throw new Error(`Error decrypting bundle: ${s}`)}},xP=async(t,e,r)=>{let n=pt(t),o=wP(n);if(!o)throw new Error("failed to load public key");let i=yl(e),s=new TextEncoder().encode(r),a=or(s);return Hi.verify(i,a,o.toHex())},_g=async(t,e,r,n)=>{if(t!=(n||ug))throw new Error(`expected signer key ${n??ug} does not match signer key from bundle: ${t}`);let i=new Uint8Array(pt(t)),s=wP(i);if(!s)throw new Error("failed to load quorum key");let a=yl(e),c=pt(r),u=or(c);return Hi.verify(a,u,s.toHex())},wP=t=>Hi.ProjectivePoint.fromHex(xt(t)),Ek=(t,e)=>{switch(e){case"SOLANA":let r=wg.decode(t);if(r.length!==64)throw new Error(`invalid key length. Expected 64 bytes. Got ${r.length}.`);return r.subarray(0,32);case"HEXADECIMAL":return t.startsWith("0x")?pt(t.slice(2)):pt(t);default:return console.warn(`invalid key format: ${e}. Defaulting to HEXADECIMAL.`),t.startsWith("0x")?pt(t.slice(2)):pt(t)}},vP=async({privateKey:t,keyFormat:e,importBundle:r,userId:n,organizationId:o,dangerouslyOverrideSignerPublicKey:i})=>{let s=JSON.parse(r),a=Ek(t,e);if(!await _g(s.enclaveQuorumPublic,s.dataSignature,s.data,i))throw new Error(`failed to verify enclave signature: ${r}`);let u=JSON.parse(new TextDecoder().decode(pt(s.data)));if(!u.organizationId||u.organizationId!==o)throw new Error(`organization id does not match expected value. Expected: ${o}. Found: ${u.organizationId}.`);if(!u.userId||u.userId!==n)throw new Error(`user id does not match expected value. Expected: ${n}. Found: ${u.userId}.`);if(!u.targetPublic)throw new Error('missing "targetPublic" in bundle signed data');let f=pt(u.targetPublic),l=ll({plainTextBuf:a,targetKeyBuf:f});return pl(l)},_P=async({mnemonic:t,importBundle:e,userId:r,organizationId:n,dangerouslyOverrideSignerPublicKey:o})=>{let i=JSON.parse(e),s=new TextEncoder().encode(t);if(!await _g(i.enclaveQuorumPublic,i.dataSignature,i.data,o))throw new Error(`failed to verify enclave signature: ${e}`);let c=JSON.parse(new TextDecoder().decode(pt(i.data)));if(!c.organizationId||c.organizationId!==n)throw new Error(`organization id does not match expected value. Expected: ${n}. Found: ${c.organizationId}.`);if(!c.userId||c.userId!==r)throw new Error(`user id does not match expected value. Expected: ${r}. Found: ${c.userId}.`);if(!c.targetPublic)throw new Error('missing "targetPublic" in bundle signed data');let u=pt(c.targetPublic),f=ll({plainTextBuf:s,targetKeyBuf:u});return pl(f)},EP=async(t,e)=>{let r=e??J6,[n,o,i]=t.split(".");if(!i)throw new Error("invalid JWT: need 3 parts");let s=`${n}.${o}`,a=or(new TextEncoder().encode(s)),c=or(a),u=p=>(p=p.replace(/-/g,"+").replace(/_/g,"/")).padEnd(p.length+(4-p.length%4)%4,"="),f=Uint8Array.from(atob(u(i)).split("").map(p=>p.charCodeAt(0))),l=pt(r);return Hi.verify(f,c,l)}});var IP={};ar(IP,{buildAdditionalAssociatedData:()=>ml,compressRawPublicKey:()=>hl,decryptCredentialBundle:()=>bP,decryptExportBundle:()=>gP,encryptPrivateKeyToBundle:()=>vP,encryptWalletToBundle:()=>_P,extractPrivateKeyFromPKCS8Bytes:()=>Q6,formatHpkeBuf:()=>pl,fromDerSignature:()=>yl,generateP256KeyPair:()=>lg,getPublicKey:()=>fl,hpkeAuthEncrypt:()=>X6,hpkeDecrypt:()=>dl,hpkeEncrypt:()=>ll,toDerSignature:()=>eP,uncompressRawPublicKey:()=>xu,verifySessionJwtSignature:()=>EP,verifyStampSignature:()=>xP});var ih=m(()=>{hg();AP()});var UP=Cu(uh=>{"use strict";uh.byteLength=Sk;uh.toByteArray=Pk;uh.fromByteArray=Ok;var xn=[],Ar=[],Ik=typeof Uint8Array<"u"?Uint8Array:Array,Ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ia=0,PP=Ig.length;ia<PP;++ia)xn[ia]=Ig[ia],Ar[Ig.charCodeAt(ia)]=ia;var ia,PP;Ar[45]=62;Ar[95]=63;function BP(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Sk(t){var e=BP(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Tk(t,e,r){return(e+r)*3/4-r}function Pk(t){var e,r=BP(t),n=r[0],o=r[1],i=new Ik(Tk(t,n,o)),s=0,a=o>0?n-4:n,c;for(c=0;c<a;c+=4)e=Ar[t.charCodeAt(c)]<<18|Ar[t.charCodeAt(c+1)]<<12|Ar[t.charCodeAt(c+2)]<<6|Ar[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=Ar[t.charCodeAt(c)]<<2|Ar[t.charCodeAt(c+1)]>>4,i[s++]=e&255),o===1&&(e=Ar[t.charCodeAt(c)]<<10|Ar[t.charCodeAt(c+1)]<<4|Ar[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function Bk(t){return xn[t>>18&63]+xn[t>>12&63]+xn[t>>6&63]+xn[t&63]}function Uk(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(Bk(n));return o.join("")}function Ok(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(Uk(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(xn[e>>2]+xn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(xn[e>>10]+xn[e>>4&63]+xn[e<<2&63]+"=")),o.join("")}});var OP=Cu(Sg=>{Sg.read=function(t,e,r,n,o){var i,s,a=o*8-n-1,c=(1<<a)-1,u=c>>1,f=-7,l=r?o-1:0,p=r?-1:1,d=t[e+l];for(l+=p,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=i*256+t[e+l],l+=p,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=s*256+t[e+l],l+=p,f-=8);if(i===0)i=1-u;else{if(i===c)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(d?-1:1)*s*Math.pow(2,i-n)};Sg.write=function(t,e,r,n,o,i){var s,a,c,u=i*8-o-1,f=(1<<u)-1,l=f>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,b=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+l>=1?e+=p/c:e+=p*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*c-1)*Math.pow(2,o),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[r+d]=a&255,d+=b,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+d]=s&255,d+=b,s/=256,u-=8);t[r+d-b]|=h*128}});var WP=Cu(Iu=>{"use strict";var Tg=UP(),Eu=OP(),CP=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Iu.Buffer=L;Iu.SlowBuffer=Dk;Iu.INSPECT_MAX_BYTES=50;var fh=2147483647;Iu.kMaxLength=fh;L.TYPED_ARRAY_SUPPORT=Ck();!L.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ck(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(L.prototype,"parent",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.buffer}});Object.defineProperty(L.prototype,"offset",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.byteOffset}});function io(t){if(t>fh)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,L.prototype),e}function L(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Og(t)}return zP(t,e,r)}L.poolSize=8192;function zP(t,e,r){if(typeof t=="string")return kk(t,e);if(ArrayBuffer.isView(t))return Nk(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wn(t,ArrayBuffer)||t&&wn(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wn(t,SharedArrayBuffer)||t&&wn(t.buffer,SharedArrayBuffer)))return Bg(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return L.from(n,e,r);let o=zk(t);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return L.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}L.from=function(t,e,r){return zP(t,e,r)};Object.setPrototypeOf(L.prototype,Uint8Array.prototype);Object.setPrototypeOf(L,Uint8Array);function DP(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Rk(t,e,r){return DP(t),t<=0?io(t):e!==void 0?typeof r=="string"?io(t).fill(e,r):io(t).fill(e):io(t)}L.alloc=function(t,e,r){return Rk(t,e,r)};function Og(t){return DP(t),io(t<0?0:Cg(t)|0)}L.allocUnsafe=function(t){return Og(t)};L.allocUnsafeSlow=function(t){return Og(t)};function kk(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!L.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=LP(t,e)|0,n=io(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function Pg(t){let e=t.length<0?0:Cg(t.length)|0,r=io(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Nk(t){if(wn(t,Uint8Array)){let e=new Uint8Array(t);return Bg(e.buffer,e.byteOffset,e.byteLength)}return Pg(t)}function Bg(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,L.prototype),n}function zk(t){if(L.isBuffer(t)){let e=Cg(t.length)|0,r=io(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||kg(t.length)?io(0):Pg(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Pg(t.data)}function Cg(t){if(t>=fh)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fh.toString(16)+" bytes");return t|0}function Dk(t){return+t!=t&&(t=0),L.alloc(+t)}L.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==L.prototype};L.compare=function(e,r){if(wn(e,Uint8Array)&&(e=L.from(e,e.offset,e.byteLength)),wn(r,Uint8Array)&&(r=L.from(r,r.offset,r.byteLength)),!L.isBuffer(e)||!L.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,o=r.length;for(let i=0,s=Math.min(n,o);i<s;++i)if(e[i]!==r[i]){n=e[i],o=r[i];break}return n<o?-1:o<n?1:0};L.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};L.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return L.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let o=L.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){let s=e[n];if(wn(s,Uint8Array))i+s.length>o.length?(L.isBuffer(s)||(s=L.from(s)),s.copy(o,i)):Uint8Array.prototype.set.call(o,s,i);else if(L.isBuffer(s))s.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=s.length}return o};function LP(t,e){if(L.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||wn(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ug(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return VP(t).length;default:if(o)return n?-1:Ug(t).length;e=(""+e).toLowerCase(),o=!0}}L.byteLength=LP;function Lk(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Wk(this,e,r);case"utf8":case"utf-8":return KP(this,e,r);case"ascii":return Gk(this,e,r);case"latin1":case"binary":return Vk(this,e,r);case"base64":return $k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yk(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}L.prototype._isBuffer=!0;function sa(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}L.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)sa(this,r,r+1);return this};L.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)sa(this,r,r+3),sa(this,r+1,r+2);return this};L.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)sa(this,r,r+7),sa(this,r+1,r+6),sa(this,r+2,r+5),sa(this,r+3,r+4);return this};L.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?KP(this,0,e):Lk.apply(this,arguments)};L.prototype.toLocaleString=L.prototype.toString;L.prototype.equals=function(e){if(!L.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:L.compare(this,e)===0};L.prototype.inspect=function(){let e="",r=Iu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};CP&&(L.prototype[CP]=L.prototype.inspect);L.prototype.compare=function(e,r,n,o,i){if(wn(e,Uint8Array)&&(e=L.from(e,e.offset,e.byteLength)),!L.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;let s=i-o,a=n-r,c=Math.min(s,a),u=this.slice(o,i),f=e.slice(r,n);for(let l=0;l<c;++l)if(u[l]!==f[l]){s=u[l],a=f[l];break}return s<a?-1:a<s?1:0};function MP(t,e,r,n,o){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,kg(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=L.from(e,n)),L.isBuffer(e))return e.length===0?-1:RP(t,e,r,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):RP(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function RP(t,e,r,n,o){let i=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;i=2,s/=2,a/=2,r/=2}function c(f,l){return i===1?f[l]:f.readUInt16BE(l*i)}let u;if(o){let f=-1;for(u=r;u<s;u++)if(c(t,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*i}else f!==-1&&(u-=u-f),f=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let f=!0;for(let l=0;l<a;l++)if(c(t,u+l)!==c(e,l)){f=!1;break}if(f)return u}return-1}L.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};L.prototype.indexOf=function(e,r,n){return MP(this,e,r,n,!0)};L.prototype.lastIndexOf=function(e,r,n){return MP(this,e,r,n,!1)};function Mk(t,e,r,n){r=Number(r)||0;let o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=e.length;n>i/2&&(n=i/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(kg(a))return s;t[r+s]=a}return s}function Kk(t,e,r,n){return lh(Ug(e,t.length-r),t,r,n)}function Hk(t,e,r,n){return lh(Qk(e),t,r,n)}function Fk(t,e,r,n){return lh(VP(e),t,r,n)}function qk(t,e,r,n){return lh(tN(e,t.length-r),t,r,n)}L.prototype.write=function(e,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return Mk(this,e,r,n);case"utf8":case"utf-8":return Kk(this,e,r,n);case"ascii":case"latin1":case"binary":return Hk(this,e,r,n);case"base64":return Fk(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qk(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $k(t,e,r){return e===0&&r===t.length?Tg.fromByteArray(t):Tg.fromByteArray(t.slice(e,r))}function KP(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){let c,u,f,l;switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],(c&192)===128&&(l=(i&31)<<6|c&63,l>127&&(s=l));break;case 3:c=t[o+1],u=t[o+2],(c&192)===128&&(u&192)===128&&(l=(i&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:c=t[o+1],u=t[o+2],f=t[o+3],(c&192)===128&&(u&192)===128&&(f&192)===128&&(l=(i&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),o+=a}return jk(n)}var kP=4096;function jk(t){let e=t.length;if(e<=kP)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=kP));return r}function Gk(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]&127);return n}function Vk(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function Wk(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=eN[t[i]];return o}function Yk(t,e,r){let n=t.slice(e,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}L.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let o=this.subarray(e,r);return Object.setPrototypeOf(o,L.prototype),o};function Xt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUintLE=L.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xt(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return o};L.prototype.readUintBE=L.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xt(e,r,this.length);let o=this[e+--r],i=1;for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o};L.prototype.readUint8=L.prototype.readUInt8=function(e,r){return e=e>>>0,r||Xt(e,1,this.length),this[e]};L.prototype.readUint16LE=L.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Xt(e,2,this.length),this[e]|this[e+1]<<8};L.prototype.readUint16BE=L.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Xt(e,2,this.length),this[e]<<8|this[e+1]};L.prototype.readUint32LE=L.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};L.prototype.readUint32BE=L.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};L.prototype.readBigUInt64LE=Fi(function(e){e=e>>>0,Au(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wl(e,this.length-8);let o=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});L.prototype.readBigUInt64BE=Fi(function(e){e=e>>>0,Au(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wl(e,this.length-8);let o=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});L.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xt(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};L.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Xt(e,r,this.length);let o=r,i=1,s=this[e+--o];for(;o>0&&(i*=256);)s+=this[e+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*r)),s};L.prototype.readInt8=function(e,r){return e=e>>>0,r||Xt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};L.prototype.readInt16LE=function(e,r){e=e>>>0,r||Xt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};L.prototype.readInt16BE=function(e,r){e=e>>>0,r||Xt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};L.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};L.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};L.prototype.readBigInt64LE=Fi(function(e){e=e>>>0,Au(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wl(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});L.prototype.readBigInt64BE=Fi(function(e){e=e>>>0,Au(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wl(e,this.length-8);let o=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});L.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),Eu.read(this,e,!0,23,4)};L.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Xt(e,4,this.length),Eu.read(this,e,!1,23,4)};L.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Xt(e,8,this.length),Eu.read(this,e,!0,52,8)};L.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Xt(e,8,this.length),Eu.read(this,e,!1,52,8)};function je(t,e,r,n,o,i){if(!L.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}L.prototype.writeUintLE=L.prototype.writeUIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;je(this,e,r,n,a,0)}let i=1,s=0;for(this[r]=e&255;++s<n&&(i*=256);)this[r+s]=e/i&255;return r+n};L.prototype.writeUintBE=L.prototype.writeUIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;je(this,e,r,n,a,0)}let i=n-1,s=1;for(this[r+i]=e&255;--i>=0&&(s*=256);)this[r+i]=e/s&255;return r+n};L.prototype.writeUint8=L.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,1,255,0),this[r]=e&255,r+1};L.prototype.writeUint16LE=L.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};L.prototype.writeUint16BE=L.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};L.prototype.writeUint32LE=L.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};L.prototype.writeUint32BE=L.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function HP(t,e,r,n,o){GP(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function FP(t,e,r,n,o){GP(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i=i>>8,t[r+6]=i,i=i>>8,t[r+5]=i,i=i>>8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}L.prototype.writeBigUInt64LE=Fi(function(e,r=0){return HP(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});L.prototype.writeBigUInt64BE=Fi(function(e,r=0){return FP(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});L.prototype.writeIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);je(this,e,r,n,c-1,-c)}let i=0,s=1,a=0;for(this[r]=e&255;++i<n&&(s*=256);)e<0&&a===0&&this[r+i-1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};L.prototype.writeIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);je(this,e,r,n,c-1,-c)}let i=n-1,s=1,a=0;for(this[r+i]=e&255;--i>=0&&(s*=256);)e<0&&a===0&&this[r+i+1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};L.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};L.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};L.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};L.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};L.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||je(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};L.prototype.writeBigInt64LE=Fi(function(e,r=0){return HP(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});L.prototype.writeBigInt64BE=Fi(function(e,r=0){return FP(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qP(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $P(t,e,r,n,o){return e=+e,r=r>>>0,o||qP(t,e,r,4,34028234663852886e22,-34028234663852886e22),Eu.write(t,e,r,n,23,4),r+4}L.prototype.writeFloatLE=function(e,r,n){return $P(this,e,r,!0,n)};L.prototype.writeFloatBE=function(e,r,n){return $P(this,e,r,!1,n)};function jP(t,e,r,n,o){return e=+e,r=r>>>0,o||qP(t,e,r,8,17976931348623157e292,-17976931348623157e292),Eu.write(t,e,r,n,52,8),r+8}L.prototype.writeDoubleLE=function(e,r,n){return jP(this,e,r,!0,n)};L.prototype.writeDoubleBE=function(e,r,n){return jP(this,e,r,!1,n)};L.prototype.copy=function(e,r,n,o){if(!L.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);let i=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),r),i};L.prototype.fill=function(e,r,n,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!L.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{let s=L.isBuffer(e)?e:L.from(e,o),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=s[i%a]}return this};var _u={};function Rg(t,e,r){_u[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Rg("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Rg("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Rg("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=NP(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=NP(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function NP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Jk(t,e,r){Au(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&wl(e,t.length-(r+1))}function GP(t,e,r,n,o,i){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw i>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(i+1)*8}${s}`:a=`>= -(2${s} ** ${(i+1)*8-1}${s}) and < 2 ** ${(i+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new _u.ERR_OUT_OF_RANGE("value",a,t)}Jk(n,o,i)}function Au(t,e){if(typeof t!="number")throw new _u.ERR_INVALID_ARG_TYPE(e,"number",t)}function wl(t,e,r){throw Math.floor(t)!==t?(Au(t,r),new _u.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new _u.ERR_BUFFER_OUT_OF_BOUNDS:new _u.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Zk=/[^+/0-9A-Za-z-_]/g;function Xk(t){if(t=t.split("=")[0],t=t.trim().replace(Zk,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ug(t,e){e=e||1/0;let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Qk(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function tN(t,e){let r,n,o,i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function VP(t){return Tg.toByteArray(Xk(t))}function lh(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function wn(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function kg(t){return t!==t}var eN=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Fi(t){return typeof BigInt>"u"?rN:t}function rN(){throw new Error("BigInt not supported")}});var SN={};ar(SN,{ApiKeyStamper:()=>$l,AuthClient:()=>Zt,DEFAULT_APTOS_ACCOUNTS:()=>z5,DEFAULT_BITCOIN_MAINNET_P2PKH_ACCOUNTS:()=>f5,DEFAULT_BITCOIN_MAINNET_P2SH_ACCOUNTS:()=>m5,DEFAULT_BITCOIN_MAINNET_P2TR_ACCOUNTS:()=>d5,DEFAULT_BITCOIN_MAINNET_P2WPKH_ACCOUNTS:()=>l5,DEFAULT_BITCOIN_MAINNET_P2WSH_ACCOUNTS:()=>p5,DEFAULT_BITCOIN_REGTEST_P2PKH_ACCOUNTS:()=>I5,DEFAULT_BITCOIN_REGTEST_P2SH_ACCOUNTS:()=>B5,DEFAULT_BITCOIN_REGTEST_P2TR_ACCOUNTS:()=>P5,DEFAULT_BITCOIN_REGTEST_P2WPKH_ACCOUNTS:()=>S5,DEFAULT_BITCOIN_REGTEST_P2WSH_ACCOUNTS:()=>T5,DEFAULT_BITCOIN_SIGNET_P2PKH_ACCOUNTS:()=>w5,DEFAULT_BITCOIN_SIGNET_P2SH_ACCOUNTS:()=>A5,DEFAULT_BITCOIN_SIGNET_P2TR_ACCOUNTS:()=>E5,DEFAULT_BITCOIN_SIGNET_P2WPKH_ACCOUNTS:()=>v5,DEFAULT_BITCOIN_SIGNET_P2WSH_ACCOUNTS:()=>_5,DEFAULT_BITCOIN_TESTNET_P2PKH_ACCOUNTS:()=>h5,DEFAULT_BITCOIN_TESTNET_P2SH_ACCOUNTS:()=>x5,DEFAULT_BITCOIN_TESTNET_P2TR_ACCOUNTS:()=>g5,DEFAULT_BITCOIN_TESTNET_P2WPKH_ACCOUNTS:()=>y5,DEFAULT_BITCOIN_TESTNET_P2WSH_ACCOUNTS:()=>b5,DEFAULT_COSMOS_ACCOUNTS:()=>c5,DEFAULT_DOGE_MAINNET_ACCOUNTS:()=>U5,DEFAULT_DOGE_TESTNET_ACCOUNTS:()=>O5,DEFAULT_ETHEREUM_ACCOUNTS:()=>a5,DEFAULT_SEI_ACCOUNTS:()=>R5,DEFAULT_SOLANA_ACCOUNTS:()=>k5,DEFAULT_SUI_ACCOUNTS:()=>N5,DEFAULT_TON_V3R2_ACCOUNTS:()=>L5,DEFAULT_TON_V4R2_ACCOUNTS:()=>M5,DEFAULT_TRON_ACCOUNTS:()=>u5,DEFAULT_XLM_ACCOUNTS:()=>D5,IframeEventType:()=>Dt,IframeStamper:()=>Ia,MethodType:()=>sh,SessionType:()=>Mt,StorageKeys:()=>F,Turnkey:()=>xh,TurnkeyActivityError:()=>Pn,TurnkeyApi:()=>Zl,TurnkeyBrowserClient:()=>so,TurnkeyIframeClient:()=>$i,TurnkeyIndexedDbClient:()=>ji,TurnkeyPasskeyClient:()=>pa,TurnkeyRequestError:()=>is,TurnkeyWalletClient:()=>Bu,WebauthnStamper:()=>Sa,createActivityPoller:()=>ey,defaultAptosAccountAtIndex:()=>bx,defaultBitcoinMainnetP2PKHAccountAtIndex:()=>Gg,defaultBitcoinMainnetP2SHAccountAtIndex:()=>Jg,defaultBitcoinMainnetP2TRAccountAtIndex:()=>Yg,defaultBitcoinMainnetP2WPKHAccountAtIndex:()=>Vg,defaultBitcoinMainnetP2WSHAccountAtIndex:()=>Wg,defaultBitcoinRegtestP2PKHAccountAtIndex:()=>ax,defaultBitcoinRegtestP2SHAccountAtIndex:()=>lx,defaultBitcoinRegtestP2TRAccountAtIndex:()=>fx,defaultBitcoinRegtestP2WPKHAccountAtIndex:()=>cx,defaultBitcoinRegtestP2WSHAccountAtIndex:()=>ux,defaultBitcoinSignetP2PKHAccountAtIndex:()=>rx,defaultBitcoinSignetP2SHAccountAtIndex:()=>sx,defaultBitcoinSignetP2TRAccountAtIndex:()=>ix,defaultBitcoinSignetP2WPKHAccountAtIndex:()=>nx,defaultBitcoinSignetP2WSHAccountAtIndex:()=>ox,defaultBitcoinTestnetP2PKHAccountAtIndex:()=>Zg,defaultBitcoinTestnetP2SHAccountAtIndex:()=>ex,defaultBitcoinTestnetP2TRAccountAtIndex:()=>tx,defaultBitcoinTestnetP2WPKHAccountAtIndex:()=>Xg,defaultBitcoinTestnetP2WSHAccountAtIndex:()=>Qg,defaultCosmosAccountAtIndex:()=>$g,defaultDogeMainnetAccountAtIndex:()=>px,defaultDogeTestnetAccountAtIndex:()=>dx,defaultEthereumAccountAtIndex:()=>qg,defaultSeiAccountAtIndex:()=>mx,defaultSolanaAccountAtIndex:()=>hx,defaultSuiAccountAtIndex:()=>yx,defaultTonV3r2AccountAtIndex:()=>xx,defaultTonV4r2AccountAtIndex:()=>wx,defaultTronAccountAtIndex:()=>jg,defaultXlmAccountAtIndex:()=>gx,defaultXrpAccountAtIndex:()=>C5,getStorageValue:()=>q,getWebAuthnAttestation:()=>ju,sealAndStampRequestBody:()=>Jl,setStorageValue:()=>ah,signWithApiKey:()=>qu});var Zl={};ar(Zl,{approveActivity:()=>f3,createApiKeys:()=>p3,createApiOnlyUsers:()=>m3,createAuthenticators:()=>y3,createInvitations:()=>g3,createOauthProviders:()=>w3,createPolicies:()=>_3,createPolicy:()=>A3,createPrivateKeyTag:()=>S3,createPrivateKeys:()=>P3,createReadOnlySession:()=>U3,createReadWriteSession:()=>C3,createSubOrganization:()=>k3,createUserTag:()=>z3,createUsers:()=>L3,createWallet:()=>K3,createWalletAccounts:()=>F3,deleteApiKeys:()=>$3,deleteAuthenticators:()=>G3,deleteInvitation:()=>W3,deleteOauthProviders:()=>J3,deletePolicy:()=>X3,deletePrivateKeyTags:()=>t4,deletePrivateKeys:()=>r4,deleteSubOrganization:()=>o4,deleteUserTags:()=>s4,deleteUsers:()=>c4,deleteWallets:()=>f4,emailAuth:()=>p4,exportPrivateKey:()=>m4,exportWallet:()=>y4,exportWalletAccount:()=>g4,getActivities:()=>FB,getActivity:()=>r1,getApiKey:()=>yB,getApiKeys:()=>gB,getAttestationDocument:()=>wB,getAuthenticator:()=>_B,getAuthenticators:()=>AB,getOauthProviders:()=>SB,getOrganization:()=>PB,getOrganizationConfigs:()=>UB,getPolicies:()=>$B,getPolicy:()=>CB,getPrivateKey:()=>kB,getPrivateKeys:()=>WB,getSubOrgIds:()=>JB,getUser:()=>zB,getUsers:()=>t3,getVerifiedSubOrgIds:()=>r3,getWallet:()=>LB,getWalletAccount:()=>KB,getWalletAccounts:()=>o3,getWallets:()=>s3,getWhoami:()=>c3,importPrivateKey:()=>w4,importWallet:()=>_4,initFiatOnRamp:()=>A4,initImportPrivateKey:()=>S4,initImportWallet:()=>P4,initOtp:()=>U4,initOtpAuth:()=>C4,initUserEmailRecovery:()=>k4,listPrivateKeyTags:()=>GB,listUserTags:()=>XB,nOOPCodegenAnchor:()=>SU,oauth:()=>z4,oauthLogin:()=>L4,otpAuth:()=>K4,otpLogin:()=>F4,recoverUser:()=>$4,rejectActivity:()=>G4,removeOrganizationFeature:()=>W4,setOrganizationFeature:()=>J4,signApproveActivity:()=>l3,signCreateApiKeys:()=>d3,signCreateApiOnlyUsers:()=>h3,signCreateAuthenticators:()=>b3,signCreateInvitations:()=>x3,signCreateOauthProviders:()=>v3,signCreatePolicies:()=>E3,signCreatePolicy:()=>I3,signCreatePrivateKeyTag:()=>T3,signCreatePrivateKeys:()=>B3,signCreateReadOnlySession:()=>O3,signCreateReadWriteSession:()=>R3,signCreateSubOrganization:()=>N3,signCreateUserTag:()=>D3,signCreateUsers:()=>M3,signCreateWallet:()=>H3,signCreateWalletAccounts:()=>q3,signDeleteApiKeys:()=>j3,signDeleteAuthenticators:()=>V3,signDeleteInvitation:()=>Y3,signDeleteOauthProviders:()=>Z3,signDeletePolicy:()=>Q3,signDeletePrivateKeyTags:()=>e4,signDeletePrivateKeys:()=>n4,signDeleteSubOrganization:()=>i4,signDeleteUserTags:()=>a4,signDeleteUsers:()=>u4,signDeleteWallets:()=>l4,signEmailAuth:()=>d4,signExportPrivateKey:()=>h4,signExportWallet:()=>b4,signExportWalletAccount:()=>x4,signGetActivities:()=>qB,signGetActivity:()=>hB,signGetApiKey:()=>bB,signGetApiKeys:()=>xB,signGetAttestationDocument:()=>vB,signGetAuthenticator:()=>EB,signGetAuthenticators:()=>IB,signGetOauthProviders:()=>TB,signGetOrganization:()=>BB,signGetOrganizationConfigs:()=>OB,signGetPolicies:()=>jB,signGetPolicy:()=>RB,signGetPrivateKey:()=>NB,signGetPrivateKeys:()=>YB,signGetSubOrgIds:()=>ZB,signGetUser:()=>DB,signGetUsers:()=>e3,signGetVerifiedSubOrgIds:()=>n3,signGetWallet:()=>MB,signGetWalletAccount:()=>HB,signGetWalletAccounts:()=>i3,signGetWallets:()=>a3,signGetWhoami:()=>u3,signImportPrivateKey:()=>v4,signImportWallet:()=>E4,signInitFiatOnRamp:()=>I4,signInitImportPrivateKey:()=>T4,signInitImportWallet:()=>B4,signInitOtp:()=>O4,signInitOtpAuth:()=>R4,signInitUserEmailRecovery:()=>N4,signListPrivateKeyTags:()=>VB,signListUserTags:()=>QB,signNOOPCodegenAnchor:()=>TU,signOauth:()=>D4,signOauthLogin:()=>M4,signOtpAuth:()=>H4,signOtpLogin:()=>q4,signRawPayload:()=>X4,signRawPayloads:()=>tU,signRecoverUser:()=>j4,signRejectActivity:()=>V4,signRemoveOrganizationFeature:()=>Y4,signSetOrganizationFeature:()=>Z4,signSignRawPayload:()=>Q4,signSignRawPayloads:()=>eU,signSignTransaction:()=>nU,signStampLogin:()=>iU,signTestRateLimits:()=>BU,signTransaction:()=>rU,signUpdatePolicy:()=>aU,signUpdatePrivateKeyTag:()=>uU,signUpdateRootQuorum:()=>lU,signUpdateUser:()=>dU,signUpdateUserEmail:()=>hU,signUpdateUserName:()=>bU,signUpdateUserPhoneNumber:()=>xU,signUpdateUserTag:()=>vU,signUpdateWallet:()=>EU,signVerifyOtp:()=>IU,stampLogin:()=>oU,testRateLimits:()=>PU,updatePolicy:()=>sU,updatePrivateKeyTag:()=>cU,updateRootQuorum:()=>fU,updateUser:()=>pU,updateUserEmail:()=>mU,updateUserName:()=>yU,updateUserPhoneNumber:()=>gU,updateUserTag:()=>wU,updateWallet:()=>_U,verifyOtp:()=>AU});cr();Ih();var tB="X-Stamp",eB=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",rB=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,nB=()=>eB?"browser":rB?"node":"purejs",qu=async(t,e)=>{let r=e??nB();switch(r){case"browser":return(await Promise.resolve().then(()=>(Ox(),Ux))).signWithApiKey(t);case"node":return(await Promise.resolve().then(()=>(kx(),Rx))).signWithApiKey(t);case"purejs":return(await Promise.resolve().then(()=>(Lw(),Dw))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${r}`)}},$l=class{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey,this.runtimeOverride=e.runtimeOverride}async stamp(e){let r=await qu({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),n={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:r};return{stampHeaderName:tB,stampHeaderValue:_n(JSON.stringify(n))}}};var Hw=wh(Kw(),1),Xh=Hw.fetch;var Qh={apiPublicKey:null,apiPrivateKey:null,baseUrl:null},oB={baseUrl:null};function Wl(){return{apiPublicKey:Vl(Qh.apiPublicKey,"apiPublicKey"),apiPrivateKey:Vl(Qh.apiPrivateKey,"apiPrivateKey"),baseUrl:Vl(Qh.baseUrl,"baseUrl")}}function Fw(){return{baseUrl:Vl(oB.baseUrl,"baseUrl")}}function Vl(t,e){if(typeof t!="string"||!t)throw new Error(`"${e}" must be a non-empty string`);return t}cr();function ty(t){let e=new Uint8Array(t),r="";for(let i of e)r+=String.fromCharCode(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var fr="copy",Wr="convert";function $u(t,e,r){if(e===fr)return r;if(e===Wr)return t(r);if(e instanceof Array)return r.map(n=>$u(t,e[0],n));if(e instanceof Object){let n={};for(let[o,i]of Object.entries(e)){if(i.derive){let s=i.derive(r);s!==void 0&&(r[o]=s)}if(!(o in r)){if(i.required)throw new Error(`Missing key: ${o}`);continue}if(r[o]==null){n[o]=null;continue}n[o]=$u(t,i.schema,r[o])}return n}}function Yl(t,e){return{required:!0,schema:t,derive:e}}function we(t){return{required:!0,schema:t}}function Aa(t){return{required:!1,schema:t}}var qw={appid:Aa(fr),appidExclude:Aa(fr),credProps:Aa(fr)},$w={type:we(fr),id:we(fr),rawId:we(Wr),authenticatorAttachment:Aa(fr),response:we({clientDataJSON:we(Wr),attestationObject:we(Wr),transports:Yl(fr,t=>t.getTransports?.()||[])}),clientExtensionResults:Yl(qw,t=>t.getClientExtensionResults())},jw={type:we(fr),id:we(fr),rawId:we(Wr),authenticatorAttachment:Aa(fr),response:we({clientDataJSON:we(Wr),authenticatorData:we(Wr),signature:we(Wr),userHandle:we(Wr)}),clientExtensionResults:Yl(qw,t=>t.getClientExtensionResults())};function Gw(t){return $u(ty,$w,t)}function Vw(t){return $u(ty,jw,t)}async function Ww(t){let e=await navigator.credentials.create(t);return e.toJSON=()=>Gw(e),e}async function Yw(t){let e=await navigator.credentials.get(t);return e.toJSON=()=>Vw(e),e}var iB=5*60*1e3,sB="preferred",Jw={publicKey:{timeout:iB,userVerification:sB}};async function aB(t,e=Jw){let r=await cB(t);return{...e,publicKey:{...Jw.publicKey,...e.publicKey,challenge:r}}}async function cB(t){let e=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",e),n=Buffer.from(r).toString("hex"),o=Buffer.from(n,"utf8");return new Uint8Array(o)}function uB(t){switch(t){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format")}}function fB(t){return{credentialId:t.rawId,attestationObject:t.response.attestationObject,clientDataJson:t.response.clientDataJSON,transports:t.response.transports.map(uB)}}async function Zw(t,e){if(!Xw())throw new Error("webauthn is not supported by this browser");let n=await aB(t,e),i=(await Yw(n)).toJSON(),s={authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature};return JSON.stringify(s)}async function ju(t){if(!Xw())throw new Error("webauthn is not supported by this browser");let r=await Ww(t);return fB(r.toJSON())}function Xw(){return!!window.PublicKeyCredential}var lB={},pB={redirect:"follow"};async function j(t){let{uri:e,query:r={},substitution:n={},body:o={}}=t,i=e1({uri:e,query:r,substitution:n}),s=JSON.stringify(o),a=await Zw(s,t.options);return{url:i.toString(),body:s,stamp:a}}async function G(t){let{uri:e,method:r,headers:n={},query:o={},substitution:i={},body:s={}}=t,a=e1({uri:e,query:o,substitution:i}),{sealedBody:c,xStamp:u}=await Jl({body:s}),f=await Xh(a.toString(),{...pB,method:r,headers:{...lB,...n,"X-Stamp":u},body:c});if(!f.ok){let p;try{p=await f.json()}catch{throw new Error(`${f.status} ${f.statusText}`)}throw new is(p)}return await f.json()}function e1(t){let{uri:e,query:r,substitution:n}=t,o=dB(),i=new URL(mB(e,n),o);for(let s in r){let a=r[s];if(Array.isArray(a))for(let c of a)i.searchParams.append(s,c);else i.searchParams.append(s,a??"")}return i}function dB(){try{let{baseUrl:t}=Wl();return t}catch{let{baseUrl:e}=Fw();return e}}function mB(t,e){let r=t,n=Object.keys(e);for(let o of n){let i=r.replaceAll(`{${o}}`,e[o]);Qw(i!==r,`Substitution error: cannot find "${o}" in URI "${t}". \`substitutionMap\`: ${JSON.stringify(e)}`),r=i}return Qw(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}function Qw(t,e){if(!t)throw new Error(e)}function t1(t){return JSON.stringify(t)}async function Jl(t){let{body:e}=t,{apiPublicKey:r,apiPrivateKey:n}=t;r||(r=Wl().apiPublicKey),n||(n=Wl().apiPrivateKey);let o=t1(e),i=await qu({content:o,privateKey:n,publicKey:r}),s=t1({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:i}),a=_n(s);return{sealedBody:o,xStamp:a}}var is=class extends Error{constructor(e){let r=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(r+=` (Details: ${JSON.stringify(e.details)})`),super(r),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}};var r1=t=>G({uri:"/public/v1/query/get_activity",method:"POST",body:t.body}),hB=(t,e)=>j({uri:"/public/v1/query/get_activity",body:t.body,options:e}),yB=t=>G({uri:"/public/v1/query/get_api_key",method:"POST",body:t.body}),bB=(t,e)=>j({uri:"/public/v1/query/get_api_key",body:t.body,options:e}),gB=t=>G({uri:"/public/v1/query/get_api_keys",method:"POST",body:t.body}),xB=(t,e)=>j({uri:"/public/v1/query/get_api_keys",body:t.body,options:e}),wB=t=>G({uri:"/public/v1/query/get_attestation",method:"POST",body:t.body}),vB=(t,e)=>j({uri:"/public/v1/query/get_attestation",body:t.body,options:e}),_B=t=>G({uri:"/public/v1/query/get_authenticator",method:"POST",body:t.body}),EB=(t,e)=>j({uri:"/public/v1/query/get_authenticator",body:t.body,options:e}),AB=t=>G({uri:"/public/v1/query/get_authenticators",method:"POST",body:t.body}),IB=(t,e)=>j({uri:"/public/v1/query/get_authenticators",body:t.body,options:e}),SB=t=>G({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:t.body}),TB=(t,e)=>j({uri:"/public/v1/query/get_oauth_providers",body:t.body,options:e}),PB=t=>G({uri:"/public/v1/query/get_organization",method:"POST",body:t.body}),BB=(t,e)=>j({uri:"/public/v1/query/get_organization",body:t.body,options:e}),UB=t=>G({uri:"/public/v1/query/get_organization_configs",method:"POST",body:t.body}),OB=(t,e)=>j({uri:"/public/v1/query/get_organization_configs",body:t.body,options:e}),CB=t=>G({uri:"/public/v1/query/get_policy",method:"POST",body:t.body}),RB=(t,e)=>j({uri:"/public/v1/query/get_policy",body:t.body,options:e}),kB=t=>G({uri:"/public/v1/query/get_private_key",method:"POST",body:t.body}),NB=(t,e)=>j({uri:"/public/v1/query/get_private_key",body:t.body,options:e}),zB=t=>G({uri:"/public/v1/query/get_user",method:"POST",body:t.body}),DB=(t,e)=>j({uri:"/public/v1/query/get_user",body:t.body,options:e}),LB=t=>G({uri:"/public/v1/query/get_wallet",method:"POST",body:t.body}),MB=(t,e)=>j({uri:"/public/v1/query/get_wallet",body:t.body,options:e}),KB=t=>G({uri:"/public/v1/query/get_wallet_account",method:"POST",body:t.body}),HB=(t,e)=>j({uri:"/public/v1/query/get_wallet_account",body:t.body,options:e}),FB=t=>G({uri:"/public/v1/query/list_activities",method:"POST",body:t.body}),qB=(t,e)=>j({uri:"/public/v1/query/list_activities",body:t.body,options:e}),$B=t=>G({uri:"/public/v1/query/list_policies",method:"POST",body:t.body}),jB=(t,e)=>j({uri:"/public/v1/query/list_policies",body:t.body,options:e}),GB=t=>G({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:t.body}),VB=(t,e)=>j({uri:"/public/v1/query/list_private_key_tags",body:t.body,options:e}),WB=t=>G({uri:"/public/v1/query/list_private_keys",method:"POST",body:t.body}),YB=(t,e)=>j({uri:"/public/v1/query/list_private_keys",body:t.body,options:e}),JB=t=>G({uri:"/public/v1/query/list_suborgs",method:"POST",body:t.body}),ZB=(t,e)=>j({uri:"/public/v1/query/list_suborgs",body:t.body,options:e}),XB=t=>G({uri:"/public/v1/query/list_user_tags",method:"POST",body:t.body}),QB=(t,e)=>j({uri:"/public/v1/query/list_user_tags",body:t.body,options:e}),t3=t=>G({uri:"/public/v1/query/list_users",method:"POST",body:t.body}),e3=(t,e)=>j({uri:"/public/v1/query/list_users",body:t.body,options:e}),r3=t=>G({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:t.body}),n3=(t,e)=>j({uri:"/public/v1/query/list_verified_suborgs",body:t.body,options:e}),o3=t=>G({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:t.body}),i3=(t,e)=>j({uri:"/public/v1/query/list_wallet_accounts",body:t.body,options:e}),s3=t=>G({uri:"/public/v1/query/list_wallets",method:"POST",body:t.body}),a3=(t,e)=>j({uri:"/public/v1/query/list_wallets",body:t.body,options:e}),c3=t=>G({uri:"/public/v1/query/whoami",method:"POST",body:t.body}),u3=(t,e)=>j({uri:"/public/v1/query/whoami",body:t.body,options:e}),f3=t=>G({uri:"/public/v1/submit/approve_activity",method:"POST",body:t.body}),l3=(t,e)=>j({uri:"/public/v1/submit/approve_activity",body:t.body,options:e}),p3=t=>G({uri:"/public/v1/submit/create_api_keys",method:"POST",body:t.body}),d3=(t,e)=>j({uri:"/public/v1/submit/create_api_keys",body:t.body,options:e}),m3=t=>G({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:t.body}),h3=(t,e)=>j({uri:"/public/v1/submit/create_api_only_users",body:t.body,options:e}),y3=t=>G({uri:"/public/v1/submit/create_authenticators",method:"POST",body:t.body}),b3=(t,e)=>j({uri:"/public/v1/submit/create_authenticators",body:t.body,options:e}),g3=t=>G({uri:"/public/v1/submit/create_invitations",method:"POST",body:t.body}),x3=(t,e)=>j({uri:"/public/v1/submit/create_invitations",body:t.body,options:e}),w3=t=>G({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:t.body}),v3=(t,e)=>j({uri:"/public/v1/submit/create_oauth_providers",body:t.body,options:e}),_3=t=>G({uri:"/public/v1/submit/create_policies",method:"POST",body:t.body}),E3=(t,e)=>j({uri:"/public/v1/submit/create_policies",body:t.body,options:e}),A3=t=>G({uri:"/public/v1/submit/create_policy",method:"POST",body:t.body}),I3=(t,e)=>j({uri:"/public/v1/submit/create_policy",body:t.body,options:e}),S3=t=>G({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:t.body}),T3=(t,e)=>j({uri:"/public/v1/submit/create_private_key_tag",body:t.body,options:e}),P3=t=>G({uri:"/public/v1/submit/create_private_keys",method:"POST",body:t.body}),B3=(t,e)=>j({uri:"/public/v1/submit/create_private_keys",body:t.body,options:e}),U3=t=>G({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:t.body}),O3=(t,e)=>j({uri:"/public/v1/submit/create_read_only_session",body:t.body,options:e}),C3=t=>G({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:t.body}),R3=(t,e)=>j({uri:"/public/v1/submit/create_read_write_session",body:t.body,options:e}),k3=t=>G({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:t.body}),N3=(t,e)=>j({uri:"/public/v1/submit/create_sub_organization",body:t.body,options:e}),z3=t=>G({uri:"/public/v1/submit/create_user_tag",method:"POST",body:t.body}),D3=(t,e)=>j({uri:"/public/v1/submit/create_user_tag",body:t.body,options:e}),L3=t=>G({uri:"/public/v1/submit/create_users",method:"POST",body:t.body}),M3=(t,e)=>j({uri:"/public/v1/submit/create_users",body:t.body,options:e}),K3=t=>G({uri:"/public/v1/submit/create_wallet",method:"POST",body:t.body}),H3=(t,e)=>j({uri:"/public/v1/submit/create_wallet",body:t.body,options:e}),F3=t=>G({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:t.body}),q3=(t,e)=>j({uri:"/public/v1/submit/create_wallet_accounts",body:t.body,options:e}),$3=t=>G({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:t.body}),j3=(t,e)=>j({uri:"/public/v1/submit/delete_api_keys",body:t.body,options:e}),G3=t=>G({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:t.body}),V3=(t,e)=>j({uri:"/public/v1/submit/delete_authenticators",body:t.body,options:e}),W3=t=>G({uri:"/public/v1/submit/delete_invitation",method:"POST",body:t.body}),Y3=(t,e)=>j({uri:"/public/v1/submit/delete_invitation",body:t.body,options:e}),J3=t=>G({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:t.body}),Z3=(t,e)=>j({uri:"/public/v1/submit/delete_oauth_providers",body:t.body,options:e}),X3=t=>G({uri:"/public/v1/submit/delete_policy",method:"POST",body:t.body}),Q3=(t,e)=>j({uri:"/public/v1/submit/delete_policy",body:t.body,options:e}),t4=t=>G({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:t.body}),e4=(t,e)=>j({uri:"/public/v1/submit/delete_private_key_tags",body:t.body,options:e}),r4=t=>G({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:t.body}),n4=(t,e)=>j({uri:"/public/v1/submit/delete_private_keys",body:t.body,options:e}),o4=t=>G({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:t.body}),i4=(t,e)=>j({uri:"/public/v1/submit/delete_sub_organization",body:t.body,options:e}),s4=t=>G({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:t.body}),a4=(t,e)=>j({uri:"/public/v1/submit/delete_user_tags",body:t.body,options:e}),c4=t=>G({uri:"/public/v1/submit/delete_users",method:"POST",body:t.body}),u4=(t,e)=>j({uri:"/public/v1/submit/delete_users",body:t.body,options:e}),f4=t=>G({uri:"/public/v1/submit/delete_wallets",method:"POST",body:t.body}),l4=(t,e)=>j({uri:"/public/v1/submit/delete_wallets",body:t.body,options:e}),p4=t=>G({uri:"/public/v1/submit/email_auth",method:"POST",body:t.body}),d4=(t,e)=>j({uri:"/public/v1/submit/email_auth",body:t.body,options:e}),m4=t=>G({uri:"/public/v1/submit/export_private_key",method:"POST",body:t.body}),h4=(t,e)=>j({uri:"/public/v1/submit/export_private_key",body:t.body,options:e}),y4=t=>G({uri:"/public/v1/submit/export_wallet",method:"POST",body:t.body}),b4=(t,e)=>j({uri:"/public/v1/submit/export_wallet",body:t.body,options:e}),g4=t=>G({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:t.body}),x4=(t,e)=>j({uri:"/public/v1/submit/export_wallet_account",body:t.body,options:e}),w4=t=>G({uri:"/public/v1/submit/import_private_key",method:"POST",body:t.body}),v4=(t,e)=>j({uri:"/public/v1/submit/import_private_key",body:t.body,options:e}),_4=t=>G({uri:"/public/v1/submit/import_wallet",method:"POST",body:t.body}),E4=(t,e)=>j({uri:"/public/v1/submit/import_wallet",body:t.body,options:e}),A4=t=>G({uri:"/public/v1/submit/init_fiat_on_ramp",method:"POST",body:t.body}),I4=(t,e)=>j({uri:"/public/v1/submit/init_fiat_on_ramp",body:t.body,options:e}),S4=t=>G({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:t.body}),T4=(t,e)=>j({uri:"/public/v1/submit/init_import_private_key",body:t.body,options:e}),P4=t=>G({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:t.body}),B4=(t,e)=>j({uri:"/public/v1/submit/init_import_wallet",body:t.body,options:e}),U4=t=>G({uri:"/public/v1/submit/init_otp",method:"POST",body:t.body}),O4=(t,e)=>j({uri:"/public/v1/submit/init_otp",body:t.body,options:e}),C4=t=>G({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:t.body}),R4=(t,e)=>j({uri:"/public/v1/submit/init_otp_auth",body:t.body,options:e}),k4=t=>G({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:t.body}),N4=(t,e)=>j({uri:"/public/v1/submit/init_user_email_recovery",body:t.body,options:e}),z4=t=>G({uri:"/public/v1/submit/oauth",method:"POST",body:t.body}),D4=(t,e)=>j({uri:"/public/v1/submit/oauth",body:t.body,options:e}),L4=t=>G({uri:"/public/v1/submit/oauth_login",method:"POST",body:t.body}),M4=(t,e)=>j({uri:"/public/v1/submit/oauth_login",body:t.body,options:e}),K4=t=>G({uri:"/public/v1/submit/otp_auth",method:"POST",body:t.body}),H4=(t,e)=>j({uri:"/public/v1/submit/otp_auth",body:t.body,options:e}),F4=t=>G({uri:"/public/v1/submit/otp_login",method:"POST",body:t.body}),q4=(t,e)=>j({uri:"/public/v1/submit/otp_login",body:t.body,options:e}),$4=t=>G({uri:"/public/v1/submit/recover_user",method:"POST",body:t.body}),j4=(t,e)=>j({uri:"/public/v1/submit/recover_user",body:t.body,options:e}),G4=t=>G({uri:"/public/v1/submit/reject_activity",method:"POST",body:t.body}),V4=(t,e)=>j({uri:"/public/v1/submit/reject_activity",body:t.body,options:e}),W4=t=>G({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:t.body}),Y4=(t,e)=>j({uri:"/public/v1/submit/remove_organization_feature",body:t.body,options:e}),J4=t=>G({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:t.body}),Z4=(t,e)=>j({uri:"/public/v1/submit/set_organization_feature",body:t.body,options:e}),X4=t=>G({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:t.body}),Q4=(t,e)=>j({uri:"/public/v1/submit/sign_raw_payload",body:t.body,options:e}),tU=t=>G({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:t.body}),eU=(t,e)=>j({uri:"/public/v1/submit/sign_raw_payloads",body:t.body,options:e}),rU=t=>G({uri:"/public/v1/submit/sign_transaction",method:"POST",body:t.body}),nU=(t,e)=>j({uri:"/public/v1/submit/sign_transaction",body:t.body,options:e}),oU=t=>G({uri:"/public/v1/submit/stamp_login",method:"POST",body:t.body}),iU=(t,e)=>j({uri:"/public/v1/submit/stamp_login",body:t.body,options:e}),sU=t=>G({uri:"/public/v1/submit/update_policy",method:"POST",body:t.body}),aU=(t,e)=>j({uri:"/public/v1/submit/update_policy",body:t.body,options:e}),cU=t=>G({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:t.body}),uU=(t,e)=>j({uri:"/public/v1/submit/update_private_key_tag",body:t.body,options:e}),fU=t=>G({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:t.body}),lU=(t,e)=>j({uri:"/public/v1/submit/update_root_quorum",body:t.body,options:e}),pU=t=>G({uri:"/public/v1/submit/update_user",method:"POST",body:t.body}),dU=(t,e)=>j({uri:"/public/v1/submit/update_user",body:t.body,options:e}),mU=t=>G({uri:"/public/v1/submit/update_user_email",method:"POST",body:t.body}),hU=(t,e)=>j({uri:"/public/v1/submit/update_user_email",body:t.body,options:e}),yU=t=>G({uri:"/public/v1/submit/update_user_name",method:"POST",body:t.body}),bU=(t,e)=>j({uri:"/public/v1/submit/update_user_name",body:t.body,options:e}),gU=t=>G({uri:"/public/v1/submit/update_user_phone_number",method:"POST",body:t.body}),xU=(t,e)=>j({uri:"/public/v1/submit/update_user_phone_number",body:t.body,options:e}),wU=t=>G({uri:"/public/v1/submit/update_user_tag",method:"POST",body:t.body}),vU=(t,e)=>j({uri:"/public/v1/submit/update_user_tag",body:t.body,options:e}),_U=t=>G({uri:"/public/v1/submit/update_wallet",method:"POST",body:t.body}),EU=(t,e)=>j({uri:"/public/v1/submit/update_wallet",body:t.body,options:e}),AU=t=>G({uri:"/public/v1/submit/verify_otp",method:"POST",body:t.body}),IU=(t,e)=>j({uri:"/public/v1/submit/verify_otp",body:t.body,options:e}),SU=()=>G({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),TU=()=>j({uri:"/tkhq/api/v1/noop-codegen-anchor"}),PU=t=>G({uri:"/tkhq/api/v1/test_rate_limits",method:"POST",body:t.body}),BU=(t,e)=>j({uri:"/tkhq/api/v1/test_rate_limits",body:t.body,options:e});var Pn=class extends Error{constructor(e){let{message:r,cause:n,activityId:o,activityStatus:i,activityType:s}=e;super(r),this.name="TurnkeyActivityError",this.activityId=o??void 0,this.activityStatus=i??void 0,this.activityType=s??void 0,this.cause=n??void 0}};var Xl=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var OU=500;function ey(t){let{client:e,requestFn:r,refreshIntervalMs:n=OU}=t;return async o=>{let s=(await r(o)).activity;for(;;){switch(s.status){case"ACTIVITY_STATUS_COMPLETED":return s;case"ACTIVITY_STATUS_CREATED":break;case"ACTIVITY_STATUS_PENDING":break;case"ACTIVITY_STATUS_CONSENSUS_NEEDED":throw new Pn({message:`Consensus needed for activity ${s.id}`,activityId:s.id,activityStatus:s.status,activityType:s.type});case"ACTIVITY_STATUS_FAILED":throw new Pn({message:`Activity ${s.id} failed`,activityId:s.id,activityStatus:s.status,activityType:s.type});case"ACTIVITY_STATUS_REJECTED":throw new Pn({message:`Activity ${s.id} was rejected`,activityId:s.id,activityStatus:s.status,activityType:s.type});default:RU(s.status)}await CU(n),s=(await e.getActivity({activityId:s.id,organizationId:s.organizationId})).activity}}}function CU(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}function RU(t,e){throw new Error(`Unexpected case: ${JSON.stringify(t)}`)}var kU="X-Stamp",Dt;(function(t){t.PublicKeyReady="PUBLIC_KEY_READY",t.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",t.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",t.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",t.InjectImportBundle="INJECT_IMPORT_BUNDLE",t.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",t.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",t.ApplySettings="APPLY_SETTINGS",t.BundleInjected="BUNDLE_INJECTED",t.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",t.SettingsApplied="SETTINGS_APPLIED",t.StampRequest="STAMP_REQUEST",t.Stamp="STAMP",t.TurnkeyInitMessageChannel="TURNKEY_INIT_MESSAGE_CHANNEL",t.GetEmbeddedPublicKey="GET_EMBEDDED_PUBLIC_KEY",t.ClearEmbeddedKey="RESET_EMBEDDED_KEY",t.InitEmbeddedKey="INIT_EMBEDDED_KEY",t.Error="ERROR"})(Dt||(Dt={}));var n1;(function(t){t.Hexadecimal="HEXADECIMAL",t.Solana="SOLANA"})(n1||(n1={}));function NU(){return crypto.randomUUID()}var Ia=class{constructor(e){if(typeof window>"u")throw new Error("Cannot initialize iframe in non-browser environment");if(typeof MessageChannel>"u")throw new Error("Cannot initialize iframe without MessageChannel support");if(!e.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=e.iframeContainer,this.container.querySelector(`#${e.iframeElementId}`))throw new Error(`Iframe element with ID ${e.iframeElementId} already exists`);let r=window.document.createElement("iframe");r.setAttribute("sandbox","allow-scripts allow-same-origin"),r.id=e.iframeElementId,r.src=e.iframeUrl,this.iframe=r;let n=new URL(e.iframeUrl);this.iframeOrigin=n.origin,this.iframePublicKey=null,this.messageChannel=new MessageChannel,this.pendingRequests=new Map}onMessageHandler(e){let{type:r,value:n,requestId:o}=e.data||{};if(!o){if(r===Dt.PublicKeyReady){this.iframePublicKey=n;return}return}let i=this.pendingRequests.get(o);if(!i){console.warn(`Received response for unknown request: ${o}`);return}if(this.pendingRequests.delete(o),r===Dt.Error){i.reject(new Error(n));return}switch(r){case Dt.Stamp:i.resolve({stampHeaderName:kU,stampHeaderValue:n});break;default:i.resolve(n)}}async init(e){return new Promise((r,n)=>{this.container.appendChild(this.iframe),this.iframe.addEventListener("load",()=>{if(!this.iframe.contentWindow?.postMessage){n(new Error("contentWindow or contentWindow.postMessage does not exist"));return}this.iframe.contentWindow.postMessage({type:Dt.TurnkeyInitMessageChannel,dangerouslyOverrideIframeKeyTtl:e},this.iframeOrigin,[this.messageChannel.port2])}),this.messageChannel.port1.onmessage=o=>{o.data?.type===Dt.PublicKeyReady&&(this.iframePublicKey=o.data.value,r(o.data.value)),this.onMessageHandler(o)}})}clear(){this.messageChannel?.port1?.close(),this.messageChannel?.port2?.close(),this.iframe.remove(),this.pendingRequests.clear()}publicKey(){return this.iframePublicKey}async getEmbeddedPublicKey(){let e=await this.createRequest(Dt.GetEmbeddedPublicKey);return this.iframePublicKey=e,e}async clearEmbeddedKey(){return await this.createRequest(Dt.ClearEmbeddedKey),this.iframePublicKey="",null}async initEmbeddedKey(){let e=await this.createRequest(Dt.InitEmbeddedKey);return this.iframePublicKey=e,e}createRequest(e,r={}){return new Promise((n,o)=>{let i=NU();this.pendingRequests.set(i,{resolve:n,reject:o,requestId:i}),this.messageChannel.port1.postMessage({type:e,requestId:i,...r})})}async injectCredentialBundle(e){return this.createRequest(Dt.InjectCredentialBundle,{value:e})}async injectKeyExportBundle(e,r,n){return this.createRequest(Dt.InjectKeyExportBundle,{value:e,keyFormat:n,organizationId:r})}async injectWalletExportBundle(e,r){return this.createRequest(Dt.InjectWalletExportBundle,{value:e,organizationId:r})}async injectImportBundle(e,r,n){return this.createRequest(Dt.InjectImportBundle,{value:e,organizationId:r,userId:n})}async extractWalletEncryptedBundle(){return this.createRequest(Dt.ExtractWalletEncryptedBundle)}async extractKeyEncryptedBundle(e){return this.createRequest(Dt.ExtractKeyEncryptedBundle,{keyFormat:e})}async applySettings(e){return this.createRequest(Dt.ApplySettings,{value:JSON.stringify(e)})}async stamp(e){if(this.iframePublicKey===null)throw new Error("null iframe public key. Have you called/awaited .init()?");return this.createRequest(Dt.StampRequest,{value:e})}};function o1(t){let e=new Uint8Array(t),r="";for(let i of e)r+=String.fromCharCode(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var xo="copy",ss="convert";function Ql(t,e,r){if(e===xo)return r;if(e===ss)return t(r);if(e instanceof Array)return r.map(n=>Ql(t,e[0],n));if(e instanceof Object){let n={};for(let[o,i]of Object.entries(e)){if(i.derive){let s=i.derive(r);s!==void 0&&(r[o]=s)}if(!(o in r)){if(i.required)throw new Error(`Missing key: ${o}`);continue}if(r[o]==null){n[o]=null;continue}n[o]=Ql(t,i.schema,r[o])}return n}}function i1(t,e){return{required:!0,schema:t,derive:e}}function Bn(t){return{required:!0,schema:t}}function Gu(t){return{required:!1,schema:t}}var zU={appid:Gu(xo),appidExclude:Gu(xo),credProps:Gu(xo)},s1={type:Bn(xo),id:Bn(xo),rawId:Bn(ss),authenticatorAttachment:Gu(xo),response:Bn({clientDataJSON:Bn(ss),authenticatorData:Bn(ss),signature:Bn(ss),userHandle:Bn(ss)}),clientExtensionResults:i1(zU,t=>t.getClientExtensionResults())};function a1(t){return Ql(o1,s1,t)}async function c1(t){let e=await navigator.credentials.get(t);return e.toJSON=()=>a1(e),e}Zh();var DU="X-Stamp-Webauthn",LU=5*60*1e3,MU="preferred",Sa=class{constructor(e){this.rpId=e.rpId,this.timeout=e.timeout||LU,this.userVerification=e.userVerification||MU,this.allowCredentials=e.allowCredentials||[]}async stamp(e){let r=KU(e),n={publicKey:{rpId:this.rpId,challenge:r,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},i=(await c1(n)).toJSON(),s={authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature};return{stampHeaderName:DU,stampHeaderValue:JSON.stringify(s)}}};function KU(t){let e=ql().update(t).digest("hex");return new TextEncoder().encode(e)}var ry="SIGNATURE_SCHEME_TK_API_SECP256K1_EIP191",ny="SIGNATURE_SCHEME_TK_API_ED25519",oy="X-Stamp";var as=class extends Error{constructor(e,r=null){super(`${e}${r?` - error: ${r.message}`:""}`),this.originalError=r,this.name="WalletStamperError"}};var cs;(function(t){t.Ethereum="ethereum",t.Solana="solana"})(cs||(cs={}));cr();var gl=class{constructor(e){this.wallet=e}async stamp(e){let r;try{r=await this.wallet.signMessage(e)}catch(s){throw new as("Failed to sign the message",s)}let n=this.wallet.type===cs.Solana?ny:ry,o;try{if(this.wallet.type===cs.Ethereum){let{recoverPublicKey:s,hashMessage:a}=await Promise.resolve().then(()=>(i6(),o6)),{compressRawPublicKey:c,toDerSignature:u}=await Promise.resolve().then(()=>(ih(),IP));o=(await s({hash:a(e),signature:r})).replace("0x","");let l=Uint8Array.from(Buffer.from(o,"hex"));o=Buffer.from(c(l)).toString("hex"),r=u(r.replace("0x",""))}else o=await this.wallet.getPublicKey()}catch(s){throw new as("Failed to recover public key",s)}return{stampHeaderName:oy,stampHeaderValue:_n(JSON.stringify({publicKey:o,scheme:n,signature:r}))}}};ih();var Ak=()=>typeof window<"u"?window:{localStorage:{getItem:t=>null,setItem:(t,e)=>{},removeItem:t=>{},clear:()=>{},key:t=>null,length:0},location:{hostname:""}},wu=Ak();var sh;(function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"})(sh||(sh={}));var vu=class extends Error{constructor(e){let r=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(r+=` (Details: ${JSON.stringify(e.details)})`),super(r),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}},Zt;(function(t){t.Passkey="passkey",t.Wallet="wallet",t.Iframe="iframe",t.IndexedDb="indexed-db"})(Zt||(Zt={}));var F;(function(t){t.Session="@turnkey/session/v2",t.Client="@turnkey/client"})(F||(F={}));var oa;(function(t){t.Local="local",t.Secure="secure",t.Session="session"})(oa||(oa={}));var Eg={[F.Session]:oa.Session,[F.Client]:oa.Session},Ag={[oa.Local]:wu.localStorage,[oa.Secure]:wu.localStorage,[oa.Session]:wu.localStorage},q=async t=>{let e=Eg[t],n=Ag[e].getItem(t);return n?JSON.parse(n):void 0},ah=async(t,e)=>{let r=Eg[t];Ag[r].setItem(t,JSON.stringify(e))},xl=async t=>{let e=Eg[t];Ag[e].removeItem(t)},jr=async(t,e)=>{await ah(F.Session,t),e&&await ah(F.Client,e)};var Mt;(function(t){t.READ_ONLY="SESSION_TYPE_READ_ONLY",t.READ_WRITE="SESSION_TYPE_READ_WRITE"})(Mt||(Mt={}));var SP;(function(t){t.COINBASE="FIAT_ON_RAMP_PROVIDER_COINBASE",t.MOONPAY="FIAT_ON_RAMP_PROVIDER_MOONPAY"})(SP||(SP={}));var TP;(function(t){t.BITCOIN="FIAT_ON_RAMP_CRYPTO_CURRENCY_BTC",t.ETHEREUM="FIAT_ON_RAMP_CRYPTO_CURRENCY_ETH",t.SOLANA="FIAT_ON_RAMP_CRYPTO_CURRENCY_SOL",t.USDC="FIAT_ON_RAMP_CRYPTO_CURRENCY_USDC"})(TP||(TP={}));var ch="@turnkey/sdk-browser@5.3.2";cr();ih();var i5=wh(WP(),1);xg();var nN={},YP=oN(globalThis,nN);function oN(t,e){return new Proxy(t,{get(r,n,o){return n in e?e[n]:t[n]},set(r,n,o){return n in e&&delete e[n],t[n]=o,!0},deleteProperty(r,n){let o=!1;return n in e&&(delete e[n],o=!0),n in t&&(delete t[n],o=!0),o},ownKeys(r){let n=Reflect.ownKeys(t),o=Reflect.ownKeys(e),i=new Set(o);return[...n.filter(s=>!i.has(s)),...o]},defineProperty(r,n,o){return n in e&&delete e[n],Reflect.defineProperty(t,n,o),!0},getOwnPropertyDescriptor(r,n){return n in e?Reflect.getOwnPropertyDescriptor(e,n):Reflect.getOwnPropertyDescriptor(t,n)},has(r,n){return n in e||n in t}})}var Ir=new Uint8Array(0);var Ng=new Uint8Array([75,69,77,0,0]);var smt=new Uint8Array([101,97,101,95,112,114,107]),amt=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]);var ca=new Uint8Array([100,107,112,95,112,114,107]),Su=new Uint8Array([115,107]);var xmt=new Uint8Array([99,97,110,100,105,100,97,116,101]),wmt=new Uint8Array([255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,188,230,250,173,167,23,158,132,243,185,202,194,252,99,37,81]),vmt=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,199,99,77,129,244,55,45,223,88,26,13,178,72,176,167,122,236,236,25,106,204,197,41,115]),_mt=new Uint8Array([1,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,81,134,135,131,191,47,150,107,127,204,1,72,247,9,165,208,59,181,201,184,137,156,71,174,187,111,183,30,145,56,100,9]),Emt=new Uint8Array([48,65,2,1,0,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,4,39,48,37,2,1,1,4,32]),Amt=new Uint8Array([48,78,2,1,0,48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,34,4,55,48,53,2,1,1,4,48]),Imt=new Uint8Array([48,96,2,1,0,48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,35,4,73,48,71,2,1,1,4,66]);var Kmt=new Uint8Array([72,80,75,69,45,118,49]);var wht=new Uint8Array([115,101,99]);var Kht=new Uint8Array([98,97,115,101,95,110,111,110,99,101]),Hht=new Uint8Array([101,120,112]),Fht=new Uint8Array([105,110,102,111,95,104,97,115,104]),qht=new Uint8Array([107,101,121]),$ht=new Uint8Array([112,115,107,95,105,100,95,104,97,115,104]),jht=new Uint8Array([115,101,99,114,101,116]),Ght=new Uint8Array([72,80,75,69,0,0,0,0,0,0]);var iyt=new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,110,4,34,4,32]);var pyt=new Uint8Array([48,70,2,1,0,48,5,6,3,43,101,111,4,58,4,56]);var Hg=()=>{let t=new Uint8Array(32);return crypto.getRandomValues(t),t.buffer},Fg=t=>i5.Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $(t){if(typeof t!="string")return t;let[,e]=t.split(".");if(!e)throw new Error("Invalid JWT: Missing payload");let r=JSON.parse(atob(e)),{exp:n,public_key:o,session_type:i,user_id:s,organization_id:a}=r;if(!n||!o||!i||!s||!a)throw new Error("JWT payload missing required fields");return{sessionType:i,userId:s,organizationId:a,expiry:n,token:o}}var yh=class{constructor(e){this.getActivity=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_activity",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_activity",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getApiKey=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_api_key",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetApiKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_key",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getApiKeys=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_api_keys",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getAttestationDocument=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_attestation",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetAttestationDocument=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_attestation",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getAuthenticator=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_authenticator",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetAuthenticator=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getAuthenticators=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_authenticators",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getOauthProviders=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_oauth_providers",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getOrganization=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_organization",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getOrganizationConfigs=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_organization_configs",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetOrganizationConfigs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getPolicy=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_policy",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetPolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getPrivateKey=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_private_key",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_private_key",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getUser=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_user",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_user",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getWallet=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_wallet",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getWalletAccount=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/get_wallet_account",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetWalletAccount=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getActivities=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_activities",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetActivities=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_activities",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getPolicies=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_policies",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetPolicies=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_policies",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.listPrivateKeyTags=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_private_key_tags",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampListPrivateKeyTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getPrivateKeys=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_private_keys",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetPrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getSubOrgIds=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_suborgs",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.listUserTags=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_user_tags",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampListUserTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getUsers=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_users",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_users",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getVerifiedSubOrgIds=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_verified_suborgs",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetVerifiedSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getWalletAccounts=async r=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_wallet_accounts",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetWalletAccounts=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getWallets=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/list_wallets",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetWallets=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallets",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.getWhoami=async(r={})=>{let n=await q(F.Session);return n=$(n),this.request("/public/v1/query/whoami",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampGetWhoami=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/whoami",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.approveActivity=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.activityDecision("/public/v1/submit/approve_activity",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createApiKeys=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_api_keys",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createApiOnlyUsers=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_api_only_users",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createAuthenticators=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_authenticators",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createInvitations=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_invitations",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createOauthProviders=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_oauth_providers",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createPolicies=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_policies",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_policies",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createPolicy=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_policy",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_policy",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createPrivateKeyTag=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_private_key_tag",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createPrivateKeys=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_private_keys",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createReadOnlySession=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_read_only_session",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createReadWriteSession=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_read_write_session",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createSubOrganization=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_sub_organization",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createUserTag=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_user_tag",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createUsers=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_users",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_users",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createWallet=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_wallet",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.createWalletAccounts=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/create_wallet_accounts",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteApiKeys=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_api_keys",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteAuthenticators=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_authenticators",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteInvitation=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_invitation",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteOauthProviders=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_oauth_providers",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deletePolicy=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_policy",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deletePrivateKeyTags=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_private_key_tags",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deletePrivateKeys=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_private_keys",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteSubOrganization=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_sub_organization",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteUserTags=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_user_tags",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteUsers=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_users",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_users",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.deleteWallets=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/delete_wallets",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.emailAuth=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/email_auth",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/email_auth",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.exportPrivateKey=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/export_private_key",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.exportWallet=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/export_wallet",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.exportWalletAccount=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/export_wallet_account",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.importPrivateKey=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/import_private_key",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.importWallet=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/import_wallet",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initFiatOnRamp=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initImportPrivateKey=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_import_private_key",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initImportWallet=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_import_wallet",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initOtp=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_otp",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP"},"initOtpResult")},this.stampInitOtp=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_otp",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initOtpAuth=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_otp_auth",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V2"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.initUserEmailRecovery=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/init_user_email_recovery",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.oauth=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/oauth",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/oauth",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.oauthLogin=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/oauth_login",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.otpAuth=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/otp_auth",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.otpLogin=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/otp_login",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/otp_login",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.recoverUser=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/recover_user",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/recover_user",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.rejectActivity=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.activityDecision("/public/v1/submit/reject_activity",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.removeOrganizationFeature=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/remove_organization_feature",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.setOrganizationFeature=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/set_organization_feature",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.signRawPayload=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/sign_raw_payload",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.signRawPayloads=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/sign_raw_payloads",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.signTransaction=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/sign_transaction",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.stampLogin=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/stamp_login",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updatePolicy=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_policy",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_policy",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updatePrivateKeyTag=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_private_key_tag",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateRootQuorum=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_root_quorum",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateUser=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_user",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_user",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateUserEmail=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_user_email",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateUserName=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_user_name",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateUserPhoneNumber=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_user_phone_number",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateUserTag=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_user_tag",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.updateWallet=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/update_wallet",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.verifyOtp=async r=>{let{organizationId:n,timestampMs:o,...i}=r,s=await q(F.Session);return s=$(s),this.command("/public/v1/submit/verify_otp",{parameters:i,organizationId:n??s?.organizationId??this.config.organizationId,timestampMs:o??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.testRateLimits=async r=>{let n=await q(F.Session);return n=$(n),this.request("/tkhq/api/v1/test_rate_limits",{...r,organizationId:r.organizationId??n?.organizationId??this.config.organizationId})},this.stampTestRateLimits=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",o=JSON.stringify(r),i=await this.stamper.stamp(o);return{body:o,stamp:i,url:n}},this.config=e,e.stamper&&(this.stamper=e.stamper)}async request(e,r){let n=this.config.apiBaseUrl+e,o=JSON.stringify(r);var i={"X-Client-Version":ch};if(this.stamper){let c=await this.stamper.stamp(o);i[c.stampHeaderName]=c.stampHeaderValue}this.config.readOnlySession&&(i["X-Session"]=this.config.readOnlySession);let s=await fetch(n,{method:"POST",headers:i,body:o,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new vu(c)}return await s.json()}async command(e,r,n){let o=this.config.activityPoller?.intervalMs??1e3,i=this.config.activityPoller?.numRetries??3,s=l=>new Promise(p=>setTimeout(p,l)),a=l=>{let{result:p,status:d}=l.activity;return d==="ACTIVITY_STATUS_COMPLETED"?{...p[`${n}`],...l}:l},c=0,u=async l=>{let p={activityId:l},d=await this.getActivity(p);return c>i?a(d):(c+=1,Xl.includes(d.activity.status)?a(d):(await s(o),u(l)))},f=await this.request(e,r);return Xl.includes(f.activity.status)?a(f):u(f.activity.id)}async activityDecision(e,r){let n=await this.request(e,r);return{...n.activity.result,...n}}};var bh=class extends yh{constructor(e,r){super(e),this.authClient=r}};var Al="900";cr();var so=class extends bh{constructor(e,r){super(e,r),this.login=async n=>{let o=await this.createReadOnlySession(n||{}),i={sessionType:Mt.READ_ONLY,userId:o.userId,organizationId:o.organizationId,expiry:Number(o.sessionExpiry),token:o.session};return await jr(i,this.authClient),o},this.refreshSession=async({sessionType:n=Mt.READ_WRITE,expirationSeconds:o=Al,invalidateExisting:i=!1,publicKey:s}={})=>{try{switch(n){case Mt.READ_ONLY:{if(!(this instanceof pa))throw new Error("You must use a passkey client to refresh a read-only session.");let a=await this.createReadOnlySession({}),c={sessionType:Mt.READ_ONLY,userId:a.userId,organizationId:a.organizationId,expiry:Number(a.sessionExpiry),token:a.session};await jr(c,Zt.Passkey);return}case Mt.READ_WRITE:{if(this instanceof ji){let a,c=s;if(!s){a=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]);let f=new Uint8Array(await crypto.subtle.exportKey("raw",a.publicKey));c=xt(Sl(f))}let u=await this.stampLogin({publicKey:c,expirationSeconds:o,invalidateExisting:i});await this.resetKeyPair(a),await jr(u.session,Zt.IndexedDb);return}if(this instanceof $i){let a=s??await this.getEmbeddedPublicKey();if(!a)throw new Error("Unable to refresh session: missing target public key.");let c=await this.createReadWriteSession({targetPublicKey:a,expirationSeconds:o,invalidateExisting:i}),u={sessionType:Mt.READ_WRITE,userId:c.userId,organizationId:c.organizationId,expiry:Date.now()+Number(o)*1e3,token:c.credentialBundle};await this.injectCredentialBundle(u.token),await jr(u,Zt.Iframe);return}throw new Error("Unsupported client type for read-write session refresh.")}default:throw new Error(`Invalid session type passed: ${n}`)}}catch(a){throw new Error(`Unable to refresh session: ${a}`)}},this.loginWithBundle=async n=>{let{bundle:o,expirationSeconds:i=Al}=n;if(this instanceof $i)await this.injectCredentialBundle(o);else throw new Error("You must use an iframe client to log in with a session.");let s=await this.getWhoami(),a={sessionType:Mt.READ_WRITE,userId:s.userId,organizationId:s.organizationId,expiry:Date.now()+Number(i)*1e3,token:o};await jr(a,Zt.Iframe)},this.loginWithSession=async n=>{if(this instanceof ji)await jr(n,Zt.IndexedDb);else throw new Error("You must use an indexedDb client to log in with a session.")},this.loginWithPasskey=async n=>{try{let{sessionType:o=Mt.READ_WRITE,publicKey:i,expirationSeconds:s=Al}=n;if(o===Mt.READ_ONLY){let a=await this.createReadOnlySession({}),c={sessionType:Mt.READ_ONLY,userId:a.userId,organizationId:a.organizationId,expiry:Number(a.sessionExpiry),token:a.session};await jr(c,Zt.Passkey)}else if(o===Mt.READ_WRITE){if(!i)throw new Error("You must provide a publicKey to create a passkey read write session.");let a=await this.stampLogin({publicKey:i,expirationSeconds:s});await jr(a.session,Zt.IndexedDb)}else throw new Error(`Invalid session type passed: ${o}`)}catch(o){throw new Error(`Unable to log in with the provided passkey: ${o}`)}},this.loginWithWallet=async n=>{try{let{sessionType:o=Mt.READ_WRITE,publicKey:i,expirationSeconds:s=Al}=n;if(o===Mt.READ_ONLY){let a=await this.createReadOnlySession({}),c={sessionType:Mt.READ_ONLY,userId:a.userId,organizationId:a.organizationId,expiry:Number(a.sessionExpiry),token:a.session};await jr(c,Zt.Wallet)}else if(o===Mt.READ_WRITE){if(!i)throw new Error("You must provide a publicKey to create a read-write session.");let a=await this.stampLogin({publicKey:i,expirationSeconds:s});await jr(a.session,Zt.IndexedDb)}else throw new Error(`Invalid session type passed: ${o}`)}catch(o){throw new Error(`Unable to log in with the provided wallet: ${o}`)}},this.deleteUserAuth=async n=>{try{let{userId:o,phoneNumber:i,email:s,authenticatorIds:a,oauthProviderIds:c,apiKeyIds:u}=n,f=[];return i&&f.push(this.updateUser({userId:o,userPhoneNumber:"",userTagIds:[]})),s&&f.push(this.updateUser({userId:o,userEmail:"",userTagIds:[]})),a&&a.length>0&&f.push(this.deleteAuthenticators({userId:o,authenticatorIds:a})),c&&c.length>0&&f.push(this.deleteOauthProviders({userId:o,providerIds:c})),u&&u.length>0&&f.push(this.deleteApiKeys({userId:o,apiKeyIds:u})),await Promise.all(f)}catch(o){throw o}},this.addUserAuth=async n=>{try{let{userId:o,phoneNumber:i,email:s,authenticators:a,oauthProviders:c,apiKeys:u}=n,f=[];return i&&f.push(this.updateUser({userId:o,userPhoneNumber:i,userTagIds:[]})),s&&f.push(this.updateUser({userId:o,userEmail:s,userTagIds:[]})),a&&a.length>0&&f.push(this.createAuthenticators({userId:o,authenticators:a})),c&&c.length>0&&f.push(this.createOauthProviders({userId:o,oauthProviders:c})),u&&u.length>0&&f.push(this.createApiKeys({userId:o,apiKeys:u})),await Promise.all(f)}catch(o){throw o}}}async updateUserAuth(e){try{let{userId:r,phoneNumber:n,email:o,authenticators:i,oauthProviders:s,apiKeys:a}=e,c=[],u={};return n!==void 0&&(u.userPhoneNumber=n===null?"":n),o!==void 0&&(u.userEmail=o===null?"":o),Object.keys(u).length>0&&c.push(this.updateUser({userId:r,...u,userTagIds:[]})),i&&(i.add?.length&&c.push(this.createAuthenticators({userId:r,authenticators:i.add})),i.deleteIds?.length&&c.push(this.deleteAuthenticators({userId:r,authenticatorIds:i.deleteIds}))),s&&(s.add?.length&&c.push(this.createOauthProviders({userId:r,oauthProviders:s.add})),s.deleteIds?.length&&c.push(this.deleteOauthProviders({userId:r,providerIds:s.deleteIds}))),a&&(a.add?.length&&c.push(this.createApiKeys({userId:r,apiKeys:a.add})),a.deleteIds?.length&&c.push(this.deleteApiKeys({userId:r,apiKeyIds:a.deleteIds}))),await Promise.all(c),!0}catch(r){throw r}}},pa=class extends so{constructor(e){super(e,Zt.Passkey),this.createUserPasskey=async(r={})=>{let n=Hg(),o=Fg(n),i=Hg(),s={publicKey:{rp:{id:r.publicKey?.rp?.id??this.rpId,name:r.publicKey?.rp?.name??""},challenge:r.publicKey?.challenge??n,pubKeyCredParams:r.publicKey?.pubKeyCredParams??[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],user:{id:r.publicKey?.user?.id??i,name:r.publicKey?.user?.name??"Default User",displayName:r.publicKey?.user?.displayName??"Default User"},authenticatorSelection:{authenticatorAttachment:r.publicKey?.authenticatorSelection?.authenticatorAttachment??void 0,requireResidentKey:r.publicKey?.authenticatorSelection?.requireResidentKey??!0,residentKey:r.publicKey?.authenticatorSelection?.residentKey??"required",userVerification:r.publicKey?.authenticatorSelection?.userVerification??"preferred"}}},a=await ju(s);return{encodedChallenge:r.publicKey?.challenge?Fg(r.publicKey?.challenge):o,attestation:a}},this.rpId=this.stamper.rpId}},$i=class extends so{constructor(e){super(e,Zt.Iframe),this.injectCredentialBundle=async r=>await this.stamper.injectCredentialBundle(r),this.injectWalletExportBundle=async(r,n)=>await this.stamper.injectWalletExportBundle(r,n),this.injectKeyExportBundle=async(r,n,o)=>await this.stamper.injectKeyExportBundle(r,n,o),this.injectImportBundle=async(r,n,o)=>await this.stamper.injectImportBundle(r,n,o),this.extractWalletEncryptedBundle=async()=>await this.stamper.extractWalletEncryptedBundle(),this.extractKeyEncryptedBundle=async()=>await this.stamper.extractKeyEncryptedBundle(),this.getEmbeddedPublicKey=async()=>await this.stamper.getEmbeddedPublicKey(),this.clearEmbeddedKey=async()=>await this.stamper.clearEmbeddedKey(),this.initEmbeddedKey=async()=>await this.stamper.initEmbeddedKey(),this.iframePublicKey=this.stamper.iframePublicKey}},Bu=class extends so{constructor(e){super(e,Zt.Wallet),this.wallet=e.wallet}async getPublicKey(){return this.wallet.getPublicKey()}getWalletInterface(){return this.wallet}},ji=class extends so{constructor(e){super(e,Zt.IndexedDb),this.clear=async()=>await this.stamper.clear(),this.getPublicKey=async()=>await this.stamper.getPublicKey(),this.init=async()=>await this.stamper.init(),this.resetKeyPair=async r=>await this.stamper.resetKeyPair(r)}};cr();var EN="TurnkeyStamperDB",da="KeyStore",Uu="turnkeyKeyPair",AN="X-Stamp";function IN(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=s5(t.subarray(0,t.length/2)),r=s5(t.subarray(t.length/2,t.length)),n=0,o=2+e.length+1+1+r.length,i;return o>=128?(i=new Uint8Array(o+3),i[n++]=48,i[n++]=129,i[n++]=o):(i=new Uint8Array(o+2),i[n++]=48,i[n++]=o),i[n++]=2,i[n++]=e.length,i.set(e,n),n+=e.length,i[n++]=2,i[n++]=r.length,i.set(r,n),i}function s5(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let r=0;(t[e]&128)==128&&(r=1);let n=new Uint8Array(t.length-e+r);return n.set(t.subarray(e),r),n}var gh=class{constructor(){if(this.publicKeyHex=null,this.privateKey=null,typeof window>"u")throw new Error("IndexedDB is only available in the browser")}async openDb(){return new Promise((e,r)=>{let n=indexedDB.open(EN,1);n.onupgradeneeded=o=>{o.target.result.createObjectStore(da)},n.onsuccess=()=>e(n.result),n.onerror=()=>r(n.error)})}async storeKeyPair(e,r){let n=await this.openDb();return new Promise((o,i)=>{let s=n.transaction(da,"readwrite"),a=s.objectStore(da);a.put(e,`${Uu}-pub`),a.put(r,`${Uu}-priv`),s.oncomplete=()=>{n.close(),o()},s.onerror=()=>i(s.error),s.onabort=()=>i(s.error)})}async getStoredKeys(){let e=await this.openDb();return new Promise((r,n)=>{let o=e.transaction(da,"readonly"),i=o.objectStore(da),s=i.get(`${Uu}-pub`),a=i.get(`${Uu}-priv`),c=null,u=null;s.onsuccess=()=>c=s.result||null,a.onsuccess=()=>u=a.result||null,o.oncomplete=()=>{e.close(),r({publicKey:c,privateKey:u})},o.onerror=()=>n(o.error)})}async init(){let{publicKey:e,privateKey:r}=await this.getStoredKeys();e&&r?(this.publicKeyHex=e,this.privateKey=r):await this.resetKeyPair()}async resetKeyPair(e){let r,n;if(e){if(e.privateKey.extractable!==!1)throw new Error("Provided privateKey must be non-extractable.");r=e.privateKey,n=e.publicKey}else{let a=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]);r=a.privateKey,n=a.publicKey}let o=new Uint8Array(await crypto.subtle.exportKey("raw",n)),i=Sl(o),s=xt(i);await this.storeKeyPair(s,r),this.publicKeyHex=s,this.privateKey=r}getPublicKey(){return this.publicKeyHex}async sign(e){if(!this.privateKey)throw new Error("Key not initialized. Call init() first.");let r=new TextEncoder().encode(e),n=await crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},this.privateKey,r),o=IN(new Uint8Array(n));return xt(o)}async stamp(e){if(!this.publicKeyHex||!this.privateKey)throw new Error("Key not initialized. Call init() first.");let r=await this.sign(e),n={publicKey:this.publicKeyHex,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:r};return{stampHeaderName:AN,stampHeaderValue:_n(JSON.stringify(n))}}async clear(){let e=await this.openDb();return new Promise((r,n)=>{let o=e.transaction(da,"readwrite"),i=o.objectStore(da);i.delete(`${Uu}-pub`),i.delete(`${Uu}-priv`),o.oncomplete=()=>{e.close(),this.publicKeyHex=null,this.privateKey=null,r()},o.onerror=()=>n(o.error)})}};var xh=class{constructor(e){this.passkeyClient=r=>{let n=r?.rpId??this.config.rpId??wu.location.hostname;if(!n)throw new Error("Tried to initialize a passkey client with no rpId defined");return this.stamper=new Sa({rpId:n,...r?.timeout!==void 0&&{timeout:r?.timeout},...r?.userVerification!==void 0&&{userVerification:r?.userVerification},...r?.allowCredentials!==void 0&&{allowCredentials:r?.allowCredentials}}),new pa({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId})},this.iframeClient=async r=>{if(!r.iframeUrl)throw new Error("Tried to initialize iframeClient with no iframeUrl defined");let n=r.iframeElementId??"turnkey-default-iframe-element-id";return this.stamper=new Ia({iframeContainer:r.iframeContainer,iframeUrl:r.iframeUrl,iframeElementId:n}),await this.stamper.init(r.dangerouslyOverrideIframeKeyTtl??void 0),new $i({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId})},this.walletClient=r=>new Bu({stamper:new gl(r),wallet:r,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId}),this.indexedDbClient=async()=>(this.stamper=new gh,new ji({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId})),this.serverSign=async(r,n,o)=>{let i=o??this.config.serverSignUrl;if(!i)throw new Error("Tried to call serverSign with no serverSignUrl defined");let s=JSON.stringify({methodName:r,params:n}),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json","X-Client-Version":ch},body:s,redirect:"follow"});if(!a.ok){let u;try{u=await a.json()}catch{throw new Error(`${a.status} ${a.statusText}`)}throw new vu(u)}return await a.json()},this.getSession=async()=>{let r=await q(F.Session),n;if(typeof r=="string"?n=$(r):n=r,n&&n.expiry*1e3>Date.now())return n;await xl(F.Session)},this.getRawSession=async()=>{let r=await q(F.Session),n;if(typeof r=="string"){if(n=$(r),n&&n.expiry*1e3>Date.now())return r}else if(r&&r.expiry*1e3>Date.now())return JSON.stringify(r);await xl(F.Session)},this.logout=async()=>(await xl(F.Client),await xl(F.Session),!0),this.config=e}};var qg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),a5=[qg(0)],$g=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),c5=[$g(0)],jg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${t}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),u5=[jg(0)],Gg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),f5=[Gg(0)],Vg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),l5=[Vg(0)],Wg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),p5=[Wg(0)],Yg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),d5=[Yg(0)],Jg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),m5=[Jg(0)],Zg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),h5=[Zg(0)],Xg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),y5=[Xg(0)],Qg=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),b5=[Qg(0)],tx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),g5=[tx(0)],ex=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),x5=[ex(0)],rx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),w5=[rx(0)],nx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),v5=[nx(0)],ox=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),_5=[ox(0)],ix=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),E5=[ix(0)],sx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),A5=[sx(0)],ax=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),I5=[ax(0)],cx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),S5=[cx(0)],ux=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),T5=[ux(0)],fx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),P5=[fx(0)],lx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),B5=[lx(0)],px=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),U5=[px(0)],dx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),O5=[dx(0)],mx=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"}),C5=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/144'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_XRP"}),R5=[mx(0)],hx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${t}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),k5=[hx(0)],yx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),N5=[yx(0)],bx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),z5=[bx(0)],gx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${t}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),D5=[gx(0)],xx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),L5=[xx(0)],wx=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),M5=[wx(0)];return Y5(SN);})();
/*! Bundled license information:

@turnkey/api-key-stamper/dist/tink/bytes.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@turnkey/api-key-stamper/dist/tink/elliptic_curves.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
   * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
   * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
   * - Method isP256CurvePoint added to check whether an uncompressed point is valid
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
